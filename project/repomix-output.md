This file is a merged representation of the entire codebase, combining all repository files into a single document.
Generated by Repomix on: 2025-03-05 11:04:34

# File Summary

## Purpose:

This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.

## File Format:

The content is organized as follows:
1. This summary section
2. Repository information
3. Repository structure
4. Multiple file entries, each consisting of:
   a. A header with the file path (## File: path/to/file)
   b. The full contents of the file in a code block

## Usage Guidelines:

- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.

## Notes:

- Some files may have been excluded based on .gitignore rules and Repomix's
  configuration.
- Binary files are not included in this packed representation. Please refer to
  the Repository Structure section for a complete list of file paths, including
  binary files.
- Line numbers have been added to the beginning of each line.

## Additional Information:

For more information about Repomix, visit: https://github.com/andersonby/python-repomix


# Repository Structure

```
.bolt
  config.json
  ignore
  prompt
.env.example
.eslintrc.json
.gitignore
app
  (protected)
    layout.tsx
  api
    auth
      login
        route.ts
      logout
        route.ts
      me
        route.ts
      register
        route.ts
  categories
    layout.tsx
    new
      page.tsx
    page.tsx
    [id]
      edit
        page.tsx
      page.tsx
  dashboard
    layout.tsx
    page.tsx
  globals.css
  inventory-audit
    layout.tsx
    page.tsx
    [id]
      page.tsx
  layout.tsx
  login
    page.tsx
  not-found.tsx
  page.tsx
  products
    layout.tsx
    new
      page.tsx
    page.tsx
    [id]
      edit
        page.tsx
      page.tsx
  purchases
    edit
      page.tsx
    layout.tsx
    new
      page.tsx
    page.tsx
    [id]
      edit
        page.tsx
      page.tsx
  reports
    layout.tsx
    page.tsx
  sales
    layout.tsx
    page.tsx
    [id]
      page.tsx
  settings
    layout.tsx
    page.tsx
  suppliers
    layout.tsx
    new
      page.tsx
    page.tsx
    [id]
      edit
        page.tsx
      page.tsx
  transfers
    layout.tsx
    new
      page.tsx
    page.tsx
    [id]
      edit
        page.tsx
      page.tsx
  users
    layout.tsx
    page.tsx
  warehouses
    layout.tsx
    new
      page.tsx
    page.tsx
    [id]
      edit
        page.tsx
      page.tsx
components
  dashboard
    charts.tsx
  layout
    header.tsx
    sidebar.tsx
  purchases
    product-selector.tsx
  shared
    delete-button.tsx
  theme-provider.tsx
  transfers
    product-transfer-selector.tsx
  ui
    accordion.tsx
    alert-dialog.tsx
    alert.tsx
    aspect-ratio.tsx
    avatar.tsx
    badge.tsx
    breadcrumb.tsx
    button.tsx
    calendar.tsx
    card.tsx
    carousel.tsx
    chart.tsx
    checkbox.tsx
    collapsible.tsx
    command.tsx
    context-menu.tsx
    dialog.tsx
    drawer.tsx
    dropdown-menu.tsx
    form.tsx
    hover-card.tsx
    input-otp.tsx
    input.tsx
    label.tsx
    menubar.tsx
    navigation-menu.tsx
    pagination.tsx
    popover.tsx
    progress.tsx
    radio-group.tsx
    resizable.tsx
    scroll-area.tsx
    select.tsx
    separator.tsx
    sheet.tsx
    skeleton.tsx
    slider.tsx
    sonner.tsx
    switch.tsx
    table.tsx
    tabs.tsx
    textarea.tsx
    toast.tsx
    toaster.tsx
    toggle-group.tsx
    toggle.tsx
    tooltip.tsx
components.json
hooks
  use-auth.tsx
  use-toast.ts
middleware.ts
netlify.toml
next.config.js
package.json
postcss.config.js
prisma
  schema.prisma
README.md
repomix-output.md
scripts
  seed.ts
tailwind.config.ts
tsconfig.json
```

# Repository Files


## .bolt\config.json

- Characters: 42
- Tokens: 0

```json
1: {
2:   "template": "nextjs-shadcn"
3: }
```

## .bolt\ignore

- Characters: 40
- Tokens: 0

```text
1: components/ui/*
2: hooks/use-toast.ts
```

## .bolt\prompt

- Characters: 849
- Tokens: 0

```text
 1: For all designs I ask you to make, have them be beautiful, not cookie cutter. Make webpages that are fully featured and worthy for production.
 2: 
 3: When using client-side hooks (useState and useEffect) in a component that's being treated as a Server Component by Next.js, always add the "use client" directive at the top of the file.
 4: 
 5: Do not write code that will trigger this error: "Warning: Extra attributes from the server: %s%s""class,style"
 6: 
 7: By default, this template supports JSX syntax with Tailwind CSS classes, the shadcn/ui library, React hooks, and Lucide React for icons. Do not install other packages for UI themes, icons, etc unless absolutely necessary or I request them.
 8: 
 9: Use icons from lucide-react for logos.
10: 
11: Use stock photos from unsplash where appropriate, only valid URLs you know exist.
```

## .eslintrc.json

- Characters: 48
- Tokens: 0

```json
1: {
2:   "extends": "next/core-web-vitals"
3: }
```

## .gitignore

- Characters: 507
- Tokens: 0

```text
 1: # See https://help.github.com/articles/ignoring-files/ for more about ignoring files.
 2: 
 3: # dependencies
 4: /node_modules
 5: /.pnp
 6: .pnp.js
 7: 
 8: # testing
 9: /coverage
10: 
11: # next.js
12: /.next/
13: /out/
14: 
15: # production
16: /build
17: 
18: # misc
19: .DS_Store
20: *.pem
21: 
22: # debug
23: npm-debug.log*
24: yarn-debug.log*
25: yarn-error.log*
26: 
27: # local env files
28: .env*.local
29: 
30: # vercel
31: .vercel
32: 
33: # typescript
34: *.tsbuildinfo
35: next-env.d.ts
```

## app\(protected)\layout.tsx

- Characters: 2401
- Tokens: 0

```text
 1: "use client";
 2: 
 3: import { useEffect, useState } from "react";
 4: import { useRouter, usePathname } from "next/navigation";
 5: import { Sidebar } from "@/components/layout/sidebar";
 6: import { Header } from "@/components/layout/header";
 7: import { useAuth } from "@/hooks/use-auth";
 8: import { Loader2 } from "lucide-react";
 9: 
10: export default function ProtectedLayout({
11:   children,
12: }: {
13:   children: React.ReactNode;
14: }) {
15:   const { user } = useAuth();
16:   const router = useRouter();
17:   const pathname = usePathname();
18:   const [isLoading, setIsLoading] = useState(true);
19:   const [currentPath, setCurrentPath] = useState(pathname);
20:   const [isTransitioning, setIsTransitioning] = useState(false);
21:   
22:   // Handle authentication check
23:   useEffect(() => {
24:     if (!user) {
25:       router.push("/login");
26:     } else {
27:       // Simulate loading delay
28:       const timer = setTimeout(() => {
29:         setIsLoading(false);
30:       }, 500);
31:       
32:       return () => clearTimeout(timer);
33:     }
34:   }, [user, router]);
35:   
36:   // Handle route transitions
37:   useEffect(() => {
38:     if (pathname !== currentPath) {
39:       setIsTransitioning(true);
40:       
41:       // Short delay to allow transition to complete
42:       const timer = setTimeout(() => {
43:         setCurrentPath(pathname);
44:         setIsTransitioning(false);
45:       }, 300);
46:       
47:       return () => clearTimeout(timer);
48:     }
49:   }, [pathname, currentPath]);
50:   
51:   if (!user || isLoading) {
52:     return (
53:       <div className="flex min-h-screen items-center justify-center">
54:         <div className="flex flex-col items-center space-y-4">
55:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
56:           <p className="text-lg font-medium">Loading...</p>
57:         </div>
58:       </div>
59:     );
60:   }
61:   
62:   return (
63:     <div className="flex min-h-screen">
64:       <div className="hidden md:block">
65:         <Sidebar />
66:       </div>
67:       <div className="flex flex-col flex-1">
68:         <Header />
69:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
70:           {children}
71:         </main>
72:       </div>
73:     </div>
74:   );
75: }
```

## app\api\auth\logout\route.ts

- Characters: 389
- Tokens: 0

```typescript
 1: import { NextResponse } from "next/server";
 2: 
 3: export async function POST() {
 4:   // With localStorage-based auth, we don't need to clear cookies on the server
 5:   // The client will handle removing the token from localStorage
 6:   return NextResponse.json({ success: true });
 7: }
 8: 
 9: // Add dynamic export to fix the error
10: export const dynamic = 'force-dynamic';
```

## app\api\auth\me\route.ts

- Characters: 1112
- Tokens: 0

```typescript
 1: import { NextRequest, NextResponse } from "next/server";
 2: import { verifyJWT } from "@/lib/auth";
 3: 
 4: export async function GET(req: NextRequest) {
 5:   try {
 6:     // Get token from Authorization header instead of cookies
 7:     const authHeader = req.headers.get('Authorization');
 8:     
 9:     if (!authHeader || !authHeader.startsWith('Bearer ')) {
10:       return NextResponse.json(
11:         { error: "Unauthorized" },
12:         { status: 401 }
13:       );
14:     }
15:     
16:     const token = authHeader.split(' ')[1];
17:     const user = await verifyJWT(token);
18:     
19:     if (!user) {
20:       return NextResponse.json(
21:         { error: "Unauthorized" },
22:         { status: 401 }
23:       );
24:     }
25:     
26:     return NextResponse.json({ user });
27:   } catch (error) {
28:     console.error("Get current user error:", error);
29:     return NextResponse.json(
30:       { error: "Internal server error" },
31:       { status: 500 }
32:     );
33:   }
34: }
35: 
36: // Add dynamic export to fix the error
37: export const dynamic = 'force-dynamic';
```

## app\api\auth\register\route.ts

- Characters: 2455
- Tokens: 0

```typescript
 1: import { NextRequest, NextResponse } from "next/server";
 2: import bcrypt from "bcryptjs";
 3: import { z } from "zod";
 4: import { UserRole } from "@prisma/client";
 5: 
 6: import prisma from "@/lib/prisma";
 7: import { getCurrentUser } from "@/lib/auth";
 8: 
 9: const registerSchema = z.object({
10:   name: z.string().min(2),
11:   email: z.string().email(),
12:   password: z.string().min(6),
13:   role: z.nativeEnum(UserRole).default(UserRole.STAFF),
14: });
15: 
16: export async function POST(req: NextRequest) {
17:   try {
18:     // Only ROOT and ADMIN can create users
19:     const currentUser = await getCurrentUser();
20:     
21:     if (!currentUser || (currentUser.role !== UserRole.ROOT && currentUser.role !== UserRole.ADMIN)) {
22:       return NextResponse.json(
23:         { error: "Unauthorized: Insufficient permissions" },
24:         { status: 403 }
25:       );
26:     }
27:     
28:     const body = await req.json();
29:     
30:     // Validate request body
31:     const result = registerSchema.safeParse(body);
32:     if (!result.success) {
33:       return NextResponse.json(
34:         { error: "Invalid input", details: result.error.format() },
35:         { status: 400 }
36:       );
37:     }
38:     
39:     const { name, email, password, role } = result.data;
40:     
41:     // Check if user already exists
42:     const existingUser = await prisma.user.findUnique({
43:       where: { email },
44:     });
45:     
46:     if (existingUser) {
47:       return NextResponse.json(
48:         { error: "User with this email already exists" },
49:         { status: 409 }
50:       );
51:     }
52:     
53:     // Hash password
54:     const hashedPassword = await bcrypt.hash(password, 10);
55:     
56:     // Create user
57:     const user = await prisma.user.create({
58:       data: {
59:         name,
60:         email,
61:         hashedPassword,
62:         role,
63:       },
64:     });
65:     
66:     return NextResponse.json({
67:       user: {
68:         id: user.id,
69:         name: user.name,
70:         email: user.email,
71:         role: user.role,
72:       },
73:     });
74:   } catch (error) {
75:     console.error("Registration error:", error);
76:     return NextResponse.json(
77:       { error: "Internal server error" },
78:       { status: 500 }
79:     );
80:   }
81: }
82: 
83: // Add dynamic export to fix the error
84: export const dynamic = 'force-dynamic';
```

## app\categories\layout.tsx

- Characters: 2402
- Tokens: 0

```text
 1: "use client";
 2: 
 3: import { useEffect, useState } from "react";
 4: import { useRouter, usePathname } from "next/navigation";
 5: import { Sidebar } from "@/components/layout/sidebar";
 6: import { Header } from "@/components/layout/header";
 7: import { useAuth } from "@/hooks/use-auth";
 8: import { Loader2 } from "lucide-react";
 9: 
10: export default function CategoriesLayout({
11:   children,
12: }: {
13:   children: React.ReactNode;
14: }) {
15:   const { user } = useAuth();
16:   const router = useRouter();
17:   const pathname = usePathname();
18:   const [isLoading, setIsLoading] = useState(true);
19:   const [currentPath, setCurrentPath] = useState(pathname);
20:   const [isTransitioning, setIsTransitioning] = useState(false);
21:   
22:   // Handle authentication check
23:   useEffect(() => {
24:     if (!user) {
25:       router.push("/login");
26:     } else {
27:       // Simulate loading delay
28:       const timer = setTimeout(() => {
29:         setIsLoading(false);
30:       }, 500);
31:       
32:       return () => clearTimeout(timer);
33:     }
34:   }, [user, router]);
35:   
36:   // Handle route transitions
37:   useEffect(() => {
38:     if (pathname !== currentPath) {
39:       setIsTransitioning(true);
40:       
41:       // Short delay to allow transition to complete
42:       const timer = setTimeout(() => {
43:         setCurrentPath(pathname);
44:         setIsTransitioning(false);
45:       }, 300);
46:       
47:       return () => clearTimeout(timer);
48:     }
49:   }, [pathname, currentPath]);
50:   
51:   if (!user || isLoading) {
52:     return (
53:       <div className="flex min-h-screen items-center justify-center">
54:         <div className="flex flex-col items-center space-y-4">
55:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
56:           <p className="text-lg font-medium">Loading...</p>
57:         </div>
58:       </div>
59:     );
60:   }
61:   
62:   return (
63:     <div className="flex min-h-screen">
64:       <div className="hidden md:block">
65:         <Sidebar />
66:       </div>
67:       <div className="flex flex-col flex-1">
68:         <Header />
69:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
70:           {children}
71:         </main>
72:       </div>
73:     </div>
74:   );
75: }
```

## app\categories\new\page.tsx

- Characters: 8746
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState } from "react";
  4: import { useRouter } from "next/navigation";
  5: import { useForm } from "react-hook-form";
  6: import { zodResolver } from "@hookform/resolvers/zod";
  7: import * as z from "zod";
  8: import { ArrowLeft } from "lucide-react";
  9: import Link from "next/link";
 10: 
 11: import { Button } from "@/components/ui/button";
 12: import {
 13:   Form,
 14:   FormControl,
 15:   FormDescription,
 16:   FormField,
 17:   FormItem,
 18:   FormLabel,
 19:   FormMessage,
 20: } from "@/components/ui/form";
 21: import { Input } from "@/components/ui/input";
 22: import { Textarea } from "@/components/ui/textarea";
 23: import {
 24:   Select,
 25:   SelectContent,
 26:   SelectItem,
 27:   SelectTrigger,
 28:   SelectValue,
 29: } from "@/components/ui/select";
 30: import { useToast } from "@/hooks/use-toast";
 31: import {
 32:   Card,
 33:   CardContent,
 34:   CardDescription,
 35:   CardHeader,
 36:   CardTitle,
 37: } from "@/components/ui/card";
 38: 
 39: // Mock categories data - this would normally be in a database
 40: const mockCategories = [
 41:   {
 42:     id: "1",
 43:     name: "Shirts",
 44:     description: "All types of shirts and tops",
 45:     productCount: 45,
 46:     status: "Active",
 47:   },
 48:   {
 49:     id: "2",
 50:     name: "Pants",
 51:     description: "All types of pants and bottoms",
 52:     productCount: 32,
 53:     status: "Active",
 54:   },
 55:   {
 56:     id: "3",
 57:     name: "Dresses",
 58:     description: "All types of dresses",
 59:     productCount: 28,
 60:     status: "Active",
 61:   },
 62:   {
 63:     id: "4",
 64:     name: "Accessories",
 65:     description: "Belts, hats, and other accessories",
 66:     productCount: 56,
 67:     status: "Active",
 68:   },
 69:   {
 70:     id: "5",
 71:     name: "Shoes",
 72:     description: "All types of footwear",
 73:     productCount: 37,
 74:     status: "Active",
 75:   },
 76:   {
 77:     id: "6",
 78:     name: "Seasonal",
 79:     description: "Seasonal items and collections",
 80:     productCount: 12,
 81:     status: "Inactive",
 82:   },
 83: ];
 84: 
 85: // Create a global variable to store the updated categories if it doesn't exist
 86: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedCategories')) {
 87:   window.updatedCategories = [...mockCategories];
 88: }
 89: 
 90: const categorySchema = z.object({
 91:   name: z.string().min(2, { message: "Name must be at least 2 characters" }),
 92:   description: z.string().optional(),
 93:   status: z.enum(["Active", "Inactive"]),
 94: });
 95: 
 96: type CategoryFormValues = z.infer<typeof categorySchema>;
 97: 
 98: export default function NewCategoryPage() {
 99:   const router = useRouter();
100:   const { toast } = useToast();
101:   const [isLoading, setIsLoading] = useState(false);
102: 
103:   const form = useForm<CategoryFormValues>({
104:     resolver: zodResolver(categorySchema),
105:     defaultValues: {
106:       name: "",
107:       description: "",
108:       status: "Active",
109:     },
110:   });
111: 
112:   async function onSubmit(data: CategoryFormValues) {
113:     setIsLoading(true);
114:     
115:     try {
116:       // In a real application, this would be an API call
117:       // const response = await fetch("/api/categories", {
118:       //   method: "POST",
119:       //   headers: {
120:       //     "Content-Type": "application/json",
121:       //   },
122:       //   body: JSON.stringify(data),
123:       // });
124:       
125:       // if (!response.ok) {
126:       //   throw new Error("Failed to create category");
127:       // }
128:       
129:       // Simulate API call and update our mock database
130:       await new Promise(resolve => setTimeout(resolve, 1000));
131:       
132:       // Create a new category with a unique ID
133:       const newCategory = {
134:         id: `${Date.now()}`, // Generate a unique ID
135:         ...data,
136:         productCount: 0, // New categories start with 0 products
137:       };
138:       
139:       // Add the new category to our mock database
140:       if (typeof window !== 'undefined') {
141:         window.updatedCategories = [...window.updatedCategories, newCategory];
142:       }
143:       
144:       toast({
145:         title: "Category created",
146:         description: "The category has been created successfully.",
147:       });
148:       
149:       router.push("/categories");
150:     } catch (error) {
151:       toast({
152:         title: "Error",
153:         description: error instanceof Error ? error.message : "An error occurred",
154:         variant: "destructive",
155:       });
156:     } finally {
157:       setIsLoading(false);
158:     }
159:   }
160: 
161:   return (
162:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
163:       <div className="flex items-center gap-2">
164:         <Button variant="ghost" size="icon" asChild>
165:           <Link href="/categories">
166:             <ArrowLeft className="h-4 w-4" />
167:           </Link>
168:         </Button>
169:         <h1 className="text-3xl font-bold tracking-tight">Add New Category</h1>
170:       </div>
171:       
172:       <Card>
173:         <CardHeader>
174:           <CardTitle>Category Information</CardTitle>
175:           <CardDescription>
176:             Enter the details for the new category
177:           </CardDescription>
178:         </CardHeader>
179:         <CardContent>
180:           <Form {...form}>
181:             <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
182:               <FormField
183:                 control={form.control}
184:                 name="name"
185:                 render={({ field }) => (
186:                   <FormItem>
187:                     <FormLabel>Name</FormLabel>
188:                     <FormControl>
189:                       <Input placeholder="Category Name" {...field} />
190:                     </FormControl>
191:                     <FormMessage />
192:                   </FormItem>
193:                 )}
194:               />
195:               
196:               <FormField
197:                 control={form.control}
198:                 name="description"
199:                 render={({ field }) => (
200:                   <FormItem>
201:                     <FormLabel>Description</FormLabel>
202:                     <FormControl>
203:                       <Textarea
204:                         placeholder="Category description..."
205:                         {...field}
206:                       />
207:                     </FormControl>
208:                     <FormDescription>
209:                       A brief description of what products belong in this category
210:                     </FormDescription>
211:                     <FormMessage />
212:                   </FormItem>
213:                 )}
214:               />
215:               
216:               <FormField
217:                 control={form.control}
218:                 name="status"
219:                 render={({ field }) => (
220:                   <FormItem>
221:                     <FormLabel>Status</FormLabel>
222:                     <Select
223:                       onValueChange={field.onChange}
224:                       defaultValue={field.value}
225:                     >
226:                       <FormControl>
227:                         <SelectTrigger>
228:                           <SelectValue placeholder="Select status" />
229:                         </SelectTrigger>
230:                       </FormControl>
231:                       <SelectContent>
232:                         <SelectItem value="Active">Active</SelectItem>
233:                         <SelectItem value="Inactive">Inactive</SelectItem>
234:                       </SelectContent>
235:                     </Select>
236:                     <FormMessage />
237:                   </FormItem>
238:                 )}
239:               />
240:               
241:               <div className="flex justify-end space-x-2">
242:                 <Button
243:                   variant="outline"
244:                   onClick={() => router.push("/categories")}
245:                   type="button"
246:                 >
247:                   Cancel
248:                 </Button>
249:                 <Button type="submit" disabled={isLoading}>
250:                   {isLoading ? "Creating..." : "Create Category"}
251:                 </Button>
252:               </div>
253:             </form>
254:           </Form>
255:         </CardContent>
256:       </Card>
257:     </div>
258:   );
259: }
```

## app\categories\page.tsx

- Characters: 7327
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import Link from "next/link";
  4: import { Plus, Edit, Eye } from "lucide-react";
  5: import { Button } from "@/components/ui/button";
  6: import {
  7:   Card,
  8:   CardContent,
  9:   CardDescription,
 10:   CardHeader,
 11:   CardTitle,
 12: } from "@/components/ui/card";
 13: import {
 14:   Table,
 15:   TableBody,
 16:   TableCell,
 17:   TableHead,
 18:   TableHeader,
 19:   TableRow,
 20: } from "@/components/ui/table";
 21: import { Badge } from "@/components/ui/badge";
 22: import { useState, useEffect } from "react";
 23: import { Skeleton } from "@/components/ui/skeleton";
 24: import { DeleteButton } from "@/components/shared/delete-button";
 25: import { useToast } from "@/hooks/use-toast";
 26: 
 27: // Mock categories data - this would normally be in a database
 28: const mockCategories = [
 29:   {
 30:     id: "1",
 31:     name: "Shirts",
 32:     description: "All types of shirts and tops",
 33:     productCount: 45,
 34:     status: "Active",
 35:   },
 36:   {
 37:     id: "2",
 38:     name: "Pants",
 39:     description: "All types of pants and bottoms",
 40:     productCount: 32,
 41:     status: "Active",
 42:   },
 43:   {
 44:     id: "3",
 45:     name: "Dresses",
 46:     description: "All types of dresses",
 47:     productCount: 28,
 48:     status: "Active",
 49:   },
 50:   {
 51:     id: "4",
 52:     name: "Accessories",
 53:     description: "Belts, hats, and other accessories",
 54:     productCount: 56,
 55:     status: "Active",
 56:   },
 57:   {
 58:     id: "5",
 59:     name: "Shoes",
 60:     description: "All types of footwear",
 61:     productCount: 37,
 62:     status: "Active",
 63:   },
 64:   {
 65:     id: "6",
 66:     name: "Seasonal",
 67:     description: "Seasonal items and collections",
 68:     productCount: 12,
 69:     status: "Inactive",
 70:   },
 71: ];
 72: 
 73: // Create a global variable to store the updated categories if it doesn't exist
 74: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedCategories')) {
 75:   window.updatedCategories = [...mockCategories];
 76: }
 77: 
 78: export default function CategoriesPage() {
 79:   const [isLoading, setIsLoading] = useState(true);
 80:   const [data, setData] = useState(mockCategories);
 81:   const { toast } = useToast();
 82: 
 83:   useEffect(() => {
 84:     // Simulate data loading and get data from our mock database
 85:     const timer = setTimeout(() => {
 86:       if (typeof window !== 'undefined') {
 87:         setData(window.updatedCategories);
 88:       }
 89:       setIsLoading(false);
 90:     }, 1000);
 91:     
 92:     return () => clearTimeout(timer);
 93:   }, []);
 94: 
 95:   const handleDelete = async (id: string) => {
 96:     // Simulate API call to delete category
 97:     return new Promise<void>((resolve, reject) => {
 98:       setTimeout(() => {
 99:         const category = data.find(c => c.id === id);
100:         
101:         if (category?.status === "Active" && category.productCount > 0) {
102:           reject(new Error("Cannot delete a category with active products"));
103:         } else {
104:           // Update our mock database
105:           const updatedData = data.filter(c => c.id !== id);
106:           setData(updatedData);
107:           
108:           if (typeof window !== 'undefined') {
109:             window.updatedCategories = updatedData;
110:           }
111:           
112:           resolve();
113:         }
114:       }, 1000);
115:     });
116:   };
117: 
118:   return (
119:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
120:       <div className="flex items-center justify-between">
121:         <h1 className="text-3xl font-bold tracking-tight">Product Categories</h1>
122:         <Button asChild>
123:           <Link href="/categories/new">
124:             <Plus className="mr-2 h-4 w-4" />
125:             Add Category
126:           </Link>
127:         </Button>
128:       </div>
129:       
130:       <Card>
131:         <CardHeader>
132:           <CardTitle>Categories</CardTitle>
133:           <CardDescription>
134:             Manage product categories and classifications
135:           </CardDescription>
136:         </CardHeader>
137:         <CardContent>
138:           {isLoading ? (
139:             <div className="space-y-2">
140:               <Skeleton className="h-10 w-full" />
141:               <Skeleton className="h-10 w-full" />
142:               <Skeleton className="h-10 w-full" />
143:               <Skeleton className="h-10 w-full" />
144:               <Skeleton className="h-10 w-full" />
145:             </div>
146:           ) : (
147:             <Table>
148:               <TableHeader>
149:                 <TableRow>
150:                   <TableHead>Name</TableHead>
151:                   <TableHead>Description</TableHead>
152:                   <TableHead className="text-right">Products</TableHead>
153:                   <TableHead>Status</TableHead>
154:                   <TableHead className="text-right">Actions</TableHead>
155:                 </TableRow>
156:               </TableHeader>
157:               <TableBody>
158:                 {data.map((category) => (
159:                   <TableRow key={category.id}>
160:                     <TableCell className="font-medium">{category.name}</TableCell>
161:                     <TableCell>{category.description}</TableCell>
162:                     <TableCell className="text-right">{category.productCount}</TableCell>
163:                     <TableCell>
164:                       {category.status === "Active" ? (
165:                         <Badge className="bg-emerald-500">Active</Badge>
166:                       ) : (
167:                         <Badge variant="outline">Inactive</Badge>
168:                       )}
169:                     </TableCell>
170:                     <TableCell className="text-right">
171:                       <div className="flex justify-end gap-2">
172:                         <Button variant="ghost" size="icon" asChild>
173:                           <Link href={`/categories/${category.id}`}>
174:                             <Eye className="h-4 w-4" />
175:                           </Link>
176:                         </Button>
177:                         <Button variant="ghost" size="icon" asChild>
178:                           <Link href={`/categories/${category.id}/edit`}>
179:                             <Edit className="h-4 w-4" />
180:                           </Link>
181:                         </Button>
182:                         <DeleteButton
183:                           id={category.id}
184:                           name={category.name}
185:                           onDelete={handleDelete}
186:                           disabled={category.status === "Active" && category.productCount > 0}
187:                           disabledReason="Cannot delete a category with active products"
188:                         />
189:                       </div>
190:                     </TableCell>
191:                   </TableRow>
192:                 ))}
193:               </TableBody>
194:             </Table>
195:           )}
196:         </CardContent>
197:       </Card>
198:     </div>
199:   );
200: }
```

## app\categories\[id]\edit\page.tsx

- Characters: 11058
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import { useForm } from "react-hook-form";
  6: import { zodResolver } from "@hookform/resolvers/zod";
  7: import * as z from "zod";
  8: import { ArrowLeft } from "lucide-react";
  9: import Link from "next/link";
 10: 
 11: import { Button } from "@/components/ui/button";
 12: import {
 13:   Form,
 14:   FormControl,
 15:   FormDescription,
 16:   FormField,
 17:   FormItem,
 18:   FormLabel,
 19:   FormMessage,
 20: } from "@/components/ui/form";
 21: import { Input } from "@/components/ui/input";
 22: import { Textarea } from "@/components/ui/textarea";
 23: import {
 24:   Select,
 25:   SelectContent,
 26:   SelectItem,
 27:   SelectTrigger,
 28:   SelectValue,
 29: } from "@/components/ui/select";
 30: import { useToast } from "@/hooks/use-toast";
 31: import {
 32:   Card,
 33:   CardContent,
 34:   CardDescription,
 35:   CardHeader,
 36:   CardTitle,
 37: } from "@/components/ui/card";
 38: import { Skeleton } from "@/components/ui/skeleton";
 39: 
 40: // Mock categories data - this would normally be in a database
 41: const mockCategories = [
 42:   {
 43:     id: "1",
 44:     name: "Shirts",
 45:     description: "All types of shirts and tops",
 46:     productCount: 45,
 47:     status: "Active",
 48:   },
 49:   {
 50:     id: "2",
 51:     name: "Pants",
 52:     description: "All types of pants and bottoms",
 53:     productCount: 32,
 54:     status: "Active",
 55:   },
 56:   {
 57:     id: "3",
 58:     name: "Dresses",
 59:     description: "All types of dresses",
 60:     productCount: 28,
 61:     status: "Active",
 62:   },
 63:   {
 64:     id: "4",
 65:     name: "Accessories",
 66:     description: "Belts, hats, and other accessories",
 67:     productCount: 56,
 68:     status: "Active",
 69:   },
 70:   {
 71:     id: "5",
 72:     name: "Shoes",
 73:     description: "All types of footwear",
 74:     productCount: 37,
 75:     status: "Active",
 76:   },
 77:   {
 78:     id: "6",
 79:     name: "Seasonal",
 80:     description: "Seasonal items and collections",
 81:     productCount: 12,
 82:     status: "Inactive",
 83:   },
 84: ];
 85: 
 86: // Create a global variable to store the updated categories if it doesn't exist
 87: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedCategories')) {
 88:   window.updatedCategories = [...mockCategories];
 89: }
 90: 
 91: const categorySchema = z.object({
 92:   name: z.string().min(2, { message: "Name must be at least 2 characters" }),
 93:   description: z.string().optional(),
 94:   status: z.enum(["Active", "Inactive"]),
 95: });
 96: 
 97: type CategoryFormValues = z.infer<typeof categorySchema>;
 98: 
 99: export default function EditCategoryPage({ params }: { params: { id: string } }) {
100:   const router = useRouter();
101:   const { toast } = useToast();
102:   const [isLoading, setIsLoading] = useState(false);
103:   const [isFetching, setIsFetching] = useState(true);
104:   const [category, setCategory] = useState<any | null>(null);
105: 
106:   const form = useForm<CategoryFormValues>({
107:     resolver: zodResolver(categorySchema),
108:     defaultValues: {
109:       name: "",
110:       description: "",
111:       status: "Active",
112:     },
113:   });
114: 
115:   useEffect(() => {
116:     // Fetch category data
117:     const fetchCategory = async () => {
118:       setIsFetching(true);
119:       try {
120:         // In a real app, this would be an API call
121:         // const response = await fetch(`/api/categories/${params.id}`);
122:         // const data = await response.json();
123:         
124:         // Get data from our mock database (window.updatedCategories)
125:         setTimeout(() => {
126:           const categories = typeof window !== 'undefined' ? window.updatedCategories : mockCategories;
127:           const foundCategory = categories.find(c => c.id === params.id);
128:           
129:           if (foundCategory) {
130:             setCategory(foundCategory);
131:             form.reset({
132:               name: foundCategory.name,
133:               description: foundCategory.description || "",
134:               status: foundCategory.status as "Active" | "Inactive",
135:             });
136:           }
137:           
138:           setIsFetching(false);
139:         }, 1000);
140:       } catch (error) {
141:         toast({
142:           title: "Error",
143:           description: "Failed to load category details",
144:           variant: "destructive",
145:         });
146:         setIsFetching(false);
147:       }
148:     };
149: 
150:     fetchCategory();
151:   }, [params.id, toast, form]);
152: 
153:   async function onSubmit(data: CategoryFormValues) {
154:     setIsLoading(true);
155:     
156:     try {
157:       // In a real application, this would be an API call
158:       // const response = await fetch(`/api/categories/${params.id}`, {
159:       //   method: "PUT",
160:       //   headers: {
161:       //     "Content-Type": "application/json",
162:       //   },
163:       //   body: JSON.stringify(data),
164:       // });
165:       
166:       // if (!response.ok) {
167:       //   throw new Error("Failed to update category");
168:       // }
169:       
170:       // Simulate API call and update our mock database
171:       await new Promise(resolve => setTimeout(resolve, 1000));
172:       
173:       // Update the category in our mock database
174:       if (typeof window !== 'undefined') {
175:         const index = window.updatedCategories.findIndex(c => c.id === params.id);
176:         if (index !== -1) {
177:           window.updatedCategories[index] = {
178:             ...window.updatedCategories[index],
179:             ...data
180:           };
181:           
182:           // Log the updated categories for debugging
183:           console.log("Updated categories:", window.updatedCategories);
184:         }
185:       }
186:       
187:       toast({
188:         title: "Category updated",
189:         description: "The category has been updated successfully.",
190:       });
191:       
192:       router.push(`/categories/${params.id}`);
193:     } catch (error) {
194:       toast({
195:         title: "Error",
196:         description: error instanceof Error ? error.message : "An error occurred",
197:         variant: "destructive",
198:       });
199:     } finally {
200:       setIsLoading(false);
201:     }
202:   }
203: 
204:   return (
205:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
206:       <div className="flex items-center gap-2">
207:         <Button variant="ghost" size="icon" asChild>
208:           <Link href={`/categories/${params.id}`}>
209:             <ArrowLeft className="h-4 w-4" />
210:           </Link>
211:         </Button>
212:         <h1 className="text-3xl font-bold tracking-tight">
213:           {isFetching ? <Skeleton className="h-9 w-40" /> : `Edit ${category?.name}`}
214:         </h1>
215:       </div>
216:       
217:       <Card>
218:         <CardHeader>
219:           <CardTitle>Category Information</CardTitle>
220:           <CardDescription>
221:             Update the category details
222:           </CardDescription>
223:         </CardHeader>
224:         <CardContent>
225:           {isFetching ? (
226:             <div className="space-y-4">
227:               <Skeleton className="h-10 w-full" />
228:               <Skeleton className="h-10 w-full" />
229:               <Skeleton className="h-10 w-full" />
230:             </div>
231:           ) : (
232:             <Form {...form}>
233:               <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
234:                 <FormField
235:                   control={form.control}
236:                   name="name"
237:                   render={({ field }) => (
238:                     <FormItem>
239:                       <FormLabel>Name</FormLabel>
240:                       <FormControl>
241:                         <Input placeholder="Category Name" {...field} />
242:                       </FormControl>
243:                       <FormMessage />
244:                     </FormItem>
245:                   )}
246:                 />
247:                 
248:                 <FormField
249:                   control={form.control}
250:                   name="description"
251:                   render={({ field }) => (
252:                     <FormItem>
253:                       <FormLabel>Description</FormLabel>
254:                       <FormControl>
255:                         <Textarea
256:                           placeholder="Category description..."
257:                           {...field}
258:                         />
259:                       </FormControl>
260:                       <FormDescription>
261:                         A brief description of what products belong in this category
262:                       </FormDescription>
263:                       <FormMessage />
264:                     </FormItem>
265:                   )}
266:                 />
267:                 
268:                 <FormField
269:                   control={form.control}
270:                   name="status"
271:                   render={({ field }) => (
272:                     <FormItem>
273:                       <FormLabel>Status</FormLabel>
274:                       <Select
275:                         onValueChange={field.onChange}
276:                         defaultValue={field.value}
277:                       >
278:                         <FormControl>
279:                           <SelectTrigger>
280:                             <SelectValue placeholder="Select status" />
281:                           </SelectTrigger>
282:                         </FormControl>
283:                         <SelectContent>
284:                           <SelectItem value="Active">Active</SelectItem>
285:                           <SelectItem value="Inactive">Inactive</SelectItem>
286:                         </SelectContent>
287:                       </Select>
288:                       <FormMessage />
289:                     </FormItem>
290:                   )}
291:                 />
292:                 
293:                 <div className="flex justify-end space-x-2">
294:                   <Button
295:                     variant="outline"
296:                     onClick={() => router.push(`/categories/${params.id}`)}
297:                     type="button"
298:                   >
299:                     Cancel
300:                   </Button>
301:                   <Button type="submit" disabled={isLoading}>
302:                     {isLoading ? "Saving..." : "Save Changes"}
303:                   </Button>
304:                 </div>
305:               </form>
306:             </Form>
307:           )}
308:         </CardContent>
309:       </Card>
310:     </div>
311:   );
312: }
```

## app\categories\[id]\page.tsx

- Characters: 9703
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import Link from "next/link";
  6: import { ArrowLeft, Edit, Package } from "lucide-react";
  7: import { Button } from "@/components/ui/button";
  8: import {
  9:   Card,
 10:   CardContent,
 11:   CardDescription,
 12:   CardHeader,
 13:   CardTitle,
 14: } from "@/components/ui/card";
 15: import { Skeleton } from "@/components/ui/skeleton";
 16: import { Badge } from "@/components/ui/badge";
 17: import { DeleteButton } from "@/components/shared/delete-button";
 18: import { useToast } from "@/hooks/use-toast";
 19: 
 20: // Mock categories data - this would normally be in a database
 21: const mockCategories = [
 22:   {
 23:     id: "1",
 24:     name: "Shirts",
 25:     description: "All types of shirts and tops",
 26:     productCount: 45,
 27:     status: "Active",
 28:   },
 29:   {
 30:     id: "2",
 31:     name: "Pants",
 32:     description: "All types of pants and bottoms",
 33:     productCount: 32,
 34:     status: "Active",
 35:   },
 36:   {
 37:     id: "3",
 38:     name: "Dresses",
 39:     description: "All types of dresses",
 40:     productCount: 28,
 41:     status: "Active",
 42:   },
 43:   {
 44:     id: "4",
 45:     name: "Accessories",
 46:     description: "Belts, hats, and other accessories",
 47:     productCount: 56,
 48:     status: "Active",
 49:   },
 50:   {
 51:     id: "5",
 52:     name: "Shoes",
 53:     description: "All types of footwear",
 54:     productCount: 37,
 55:     status: "Active",
 56:   },
 57:   {
 58:     id: "6",
 59:     name: "Seasonal",
 60:     description: "Seasonal items and collections",
 61:     productCount: 12,
 62:     status: "Inactive",
 63:   },
 64: ];
 65: 
 66: // Create a global variable to store the updated categories if it doesn't exist
 67: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedCategories')) {
 68:   window.updatedCategories = [...mockCategories];
 69: }
 70: 
 71: interface Category {
 72:   id: string;
 73:   name: string;
 74:   description: string;
 75:   productCount: number;
 76:   status: string;
 77: }
 78: 
 79: export default function CategoryDetailsPage({ params }: { params: { id: string } }) {
 80:   const router = useRouter();
 81:   const { toast } = useToast();
 82:   const [category, setCategory] = useState<Category | null>(null);
 83:   const [isLoading, setIsLoading] = useState(true);
 84: 
 85:   useEffect(() => {
 86:     // Fetch category details
 87:     const fetchCategory = async () => {
 88:       setIsLoading(true);
 89:       try {
 90:         // In a real app, this would be an API call
 91:         // const response = await fetch(`/api/categories/${params.id}`);
 92:         // const data = await response.json();
 93:         
 94:         // Get data from our mock database (window.updatedCategories)
 95:         setTimeout(() => {
 96:           const categories = typeof window !== 'undefined' ? window.updatedCategories : mockCategories;
 97:           const foundCategory = categories.find(c => c.id === params.id);
 98:           
 99:           setCategory(foundCategory || null);
100:           setIsLoading(false);
101:         }, 1000);
102:       } catch (error) {
103:         toast({
104:           title: "Error",
105:           description: "Failed to load category details",
106:           variant: "destructive",
107:         });
108:         setIsLoading(false);
109:       }
110:     };
111: 
112:     fetchCategory();
113:   }, [params.id, toast]);
114: 
115:   const handleDelete = async (id: string) => {
116:     // Simulate API call to delete category
117:     return new Promise<void>((resolve, reject) => {
118:       setTimeout(() => {
119:         // In a real app, this would be an API call
120:         // const response = await fetch(`/api/categories/${id}`, { method: 'DELETE' });
121:         // if (!response.ok) throw new Error('Failed to delete category');
122:         
123:         if (category?.status === "Active" && category.productCount > 0) {
124:           reject(new Error("Cannot delete a category with active products"));
125:         } else {
126:           // Update our mock database
127:           if (typeof window !== 'undefined') {
128:             window.updatedCategories = window.updatedCategories.filter(c => c.id !== id);
129:           }
130:           
131:           router.push("/categories");
132:           resolve();
133:         }
134:       }, 1000);
135:     });
136:   };
137: 
138:   return (
139:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
140:       <div className="flex items-center justify-between">
141:         <div className="flex items-center gap-2">
142:           <Button variant="ghost" size="icon" asChild>
143:             <Link href="/categories">
144:               <ArrowLeft className="h-4 w-4" />
145:             </Link>
146:           </Button>
147:           <h1 className="text-3xl font-bold tracking-tight">
148:             {isLoading ? <Skeleton className="h-9 w-40" /> : category?.name}
149:           </h1>
150:         </div>
151:         
152:         <div className="flex items-center gap-2">
153:           {!isLoading && category && (
154:             <>
155:               <Button variant="outline" size="sm" asChild>
156:                 <Link href={`/categories/${params.id}/edit`}>
157:                   <Edit className="mr-2 h-4 w-4" />
158:                   Edit
159:                 </Link>
160:               </Button>
161:               
162:               <DeleteButton
163:                 id={params.id}
164:                 name={category.name}
165:                 onDelete={handleDelete}
166:                 disabled={category.status === "Active" && category.productCount > 0}
167:                 disabledReason="Cannot delete a category with active products"
168:               />
169:             </>
170:           )}
171:         </div>
172:       </div>
173:       
174:       {isLoading ? (
175:         <Card>
176:           <CardHeader>
177:             <Skeleton className="h-7 w-40 mb-2" />
178:             <Skeleton className="h-5 w-60" />
179:           </CardHeader>
180:           <CardContent className="space-y-4">
181:             <Skeleton className="h-5 w-full" />
182:             <Skeleton className="h-5 w-3/4" />
183:             <Skeleton className="h-5 w-1/2" />
184:           </CardContent>
185:         </Card>
186:       ) : category ? (
187:         <>
188:           <Card>
189:             <CardHeader>
190:               <CardTitle className="flex items-center justify-between">
191:                 Category Details
192:                 <Badge className={category.status === "Active" ? "bg-emerald-500" : "bg-gray-500"}>
193:                   {category.status}
194:                 </Badge>
195:               </CardTitle>
196:               <CardDescription>
197:                 Detailed information about this category
198:               </CardDescription>
199:             </CardHeader>
200:             <CardContent className="space-y-4">
201:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
202:                 <div>
203:                   <h3 className="text-sm font-medium text-muted-foreground">Name</h3>
204:                   <p className="text-base">{category.name}</p>
205:                 </div>
206:                 <div>
207:                   <h3 className="text-sm font-medium text-muted-foreground">Products</h3>
208:                   <p className="text-base">{category.productCount}</p>
209:                 </div>
210:               </div>
211:               
212:               <div>
213:                 <h3 className="text-sm font-medium text-muted-foreground">Description</h3>
214:                 <p className="text-base">{category.description}</p>
215:               </div>
216:             </CardContent>
217:           </Card>
218:           
219:           <Card>
220:             <CardHeader>
221:               <CardTitle className="flex items-center">
222:                 <Package className="mr-2 h-5 w-5" />
223:                 Products in this Category
224:               </CardTitle>
225:               <CardDescription>
226:                 Products that belong to the {category.name} category
227:               </CardDescription>
228:             </CardHeader>
229:             <CardContent>
230:               {category.productCount > 0 ? (
231:                 <div className="text-center py-8">
232:                   <Button asChild>
233:                     <Link href={`/products?category=${params.id}`}>
234:                       View Products
235:                     </Link>
236:                   </Button>
237:                 </div>
238:               ) : (
239:                 <div className="text-center py-8 text-muted-foreground">
240:                   No products in this category
241:                 </div>
242:               )}
243:             </CardContent>
244:           </Card>
245:         </>
246:       ) : (
247:         <Card>
248:           <CardContent className="flex flex-col items-center justify-center py-10">
249:             <h2 className="text-xl font-semibold mb-2">Category Not Found</h2>
250:             <p className="text-muted-foreground mb-4">
251:               The category you're looking for doesn't exist or has been removed.
252:             </p>
253:             <Button asChild>
254:               <Link href="/categories">Back to Categories</Link>
255:             </Button>
256:           </CardContent>
257:         </Card>
258:       )}
259:     </div>
260:   );
261: }
```

## app\dashboard\layout.tsx

- Characters: 2411
- Tokens: 0

```text
 1: "use client";
 2: 
 3: import { useEffect, useState } from "react";
 4: import { useRouter, usePathname } from "next/navigation";
 5: import { Sidebar } from "@/components/layout/sidebar";
 6: import { Header } from "@/components/layout/header";
 7: import { useAuth } from "@/hooks/use-auth";
 8: import { Loader2 } from "lucide-react";
 9: 
10: export default function DashboardLayout({
11:   children,
12: }: {
13:   children: React.ReactNode;
14: }) {
15:   const { user } = useAuth();
16:   const router = useRouter();
17:   const pathname = usePathname();
18:   const [isLoading, setIsLoading] = useState(true);
19:   const [currentPath, setCurrentPath] = useState(pathname);
20:   const [isTransitioning, setIsTransitioning] = useState(false);
21:   
22:   // Handle authentication check
23:   useEffect(() => {
24:     if (!user) {
25:       router.push("/login");
26:     } else {
27:       // Simulate loading delay
28:       const timer = setTimeout(() => {
29:         setIsLoading(false);
30:       }, 500);
31:       
32:       return () => clearTimeout(timer);
33:     }
34:   }, [user, router]);
35:   
36:   // Handle route transitions
37:   useEffect(() => {
38:     if (pathname !== currentPath) {
39:       setIsTransitioning(true);
40:       
41:       // Short delay to allow transition to complete
42:       const timer = setTimeout(() => {
43:         setCurrentPath(pathname);
44:         setIsTransitioning(false);
45:       }, 300);
46:       
47:       return () => clearTimeout(timer);
48:     }
49:   }, [pathname, currentPath]);
50:   
51:   if (!user || isLoading) {
52:     return (
53:       <div className="flex min-h-screen items-center justify-center">
54:         <div className="flex flex-col items-center space-y-4">
55:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
56:           <p className="text-lg font-medium">Loading dashboard...</p>
57:         </div>
58:       </div>
59:     );
60:   }
61:   
62:   return (
63:     <div className="flex min-h-screen">
64:       <div className="hidden md:block">
65:         <Sidebar />
66:       </div>
67:       <div className="flex flex-col flex-1">
68:         <Header />
69:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
70:           {children}
71:         </main>
72:       </div>
73:     </div>
74:   );
75: }
```

## app\dashboard\page.tsx

- Characters: 8763
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect, Suspense } from "react";
  4: import dynamic from "next/dynamic";
  5: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
  6: import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
  7: import { 
  8:   AlertCircle, 
  9:   ArrowDown, 
 10:   ArrowUp, 
 11:   DollarSign, 
 12:   Package, 
 13:   ShoppingCart, 
 14:   Truck 
 15: } from "lucide-react";
 16: import { Skeleton } from "@/components/ui/skeleton";
 17: 
 18: // Dynamically import chart components
 19: const DynamicCharts = dynamic(
 20:   () => import('@/components/dashboard/charts'),
 21:   { 
 22:     loading: () => <ChartSkeleton />,
 23:     ssr: false
 24:   }
 25: );
 26: 
 27: // Sample data for demonstration
 28: const salesData = [
 29:   { name: "Jan", total: 1200 },
 30:   { name: "Feb", total: 1800 },
 31:   { name: "Mar", total: 2200 },
 32:   { name: "Apr", total: 2600 },
 33:   { name: "May", total: 3200 },
 34:   { name: "Jun", total: 3800 },
 35:   { name: "Jul", total: 4200 },
 36: ];
 37: 
 38: const inventoryData = [
 39:   { name: "Shirts", value: 400 },
 40:   { name: "Pants", value: 300 },
 41:   { name: "Dresses", value: 200 },
 42:   { name: "Accessories", value: 100 },
 43:   { name: "Shoes", value: 150 },
 44: ];
 45: 
 46: function ChartSkeleton() {
 47:   return (
 48:     <div className="w-full space-y-2">
 49:       <Skeleton className="h-[350px] w-full rounded-md" />
 50:     </div>
 51:   );
 52: }
 53: 
 54: function StatCard({ title, value, icon, change, isPositive }) {
 55:   return (
 56:     <Card className="transition-all duration-300 hover:shadow-md">
 57:       <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
 58:         <CardTitle className="text-sm font-medium">{title}</CardTitle>
 59:         {icon}
 60:       </CardHeader>
 61:       <CardContent>
 62:         <div className="text-2xl font-bold">{value}</div>
 63:         <p className="text-xs text-muted-foreground">
 64:           <span className={`flex items-center ${isPositive ? 'text-emerald-500' : 'text-rose-500'}`}>
 65:             {isPositive ? <ArrowUp className="mr-1 h-4 w-4" /> : <ArrowDown className="mr-1 h-4 w-4" />}
 66:             {change}
 67:           </span>{" "}
 68:           from last month
 69:         </p>
 70:       </CardContent>
 71:     </Card>
 72:   );
 73: }
 74: 
 75: function PurchaseItem({ number, collection, status, statusColor }) {
 76:   return (
 77:     <div className="flex items-center justify-between border-b pb-4">
 78:       <div className="flex items-center space-x-3">
 79:         <Truck className="h-5 w-5 text-muted-foreground" />
 80:         <div>
 81:           <p className="font-medium">{number}</p>
 82:           <p className="text-sm text-muted-foreground">{collection}</p>
 83:         </div>
 84:       </div>
 85:       <div className="flex items-center">
 86:         <span className={`rounded-full ${statusColor} px-2 py-1 text-xs font-medium`}>
 87:           {status}
 88:         </span>
 89:       </div>
 90:     </div>
 91:   );
 92: }
 93: 
 94: export default function DashboardPage() {
 95:   const [isLoading, setIsLoading] = useState(true);
 96:   const [activeTab, setActiveTab] = useState("overview");
 97:   
 98:   // Simulate data loading
 99:   useEffect(() => {
100:     const timer = setTimeout(() => {
101:       setIsLoading(false);
102:     }, 1000);
103:     
104:     return () => clearTimeout(timer);
105:   }, []);
106: 
107:   return (
108:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
109:       <h1 className="text-3xl font-bold tracking-tight">Dashboard</h1>
110:       
111:       <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
112:         <Suspense fallback={<Skeleton className="h-[120px] w-full rounded-md" />}>
113:           <StatCard 
114:             title="Total Revenue" 
115:             value="$45,231.89" 
116:             icon={<DollarSign className="h-4 w-4 text-muted-foreground" />}
117:             change="+20.1%" 
118:             isPositive={true}
119:           />
120:         </Suspense>
121:         
122:         <Suspense fallback={<Skeleton className="h-[120px] w-full rounded-md" />}>
123:           <StatCard 
124:             title="Sales" 
125:             value="+573" 
126:             icon={<ShoppingCart className="h-4 w-4 text-muted-foreground" />}
127:             change="+12.5%" 
128:             isPositive={true}
129:           />
130:         </Suspense>
131:         
132:         <Suspense fallback={<Skeleton className="h-[120px] w-full rounded-md" />}>
133:           <StatCard 
134:             title="Active Products" 
135:             value="1,324" 
136:             icon={<Package className="h-4 w-4 text-muted-foreground" />}
137:             change="+7.2%" 
138:             isPositive={true}
139:           />
140:         </Suspense>
141:         
142:         <Suspense fallback={<Skeleton className="h-[120px] w-full rounded-md" />}>
143:           <StatCard 
144:             title="Low Stock Items" 
145:             value="24" 
146:             icon={<AlertCircle className="h-4 w-4 text-muted-foreground" />}
147:             change="+12" 
148:             isPositive={false}
149:           />
150:         </Suspense>
151:       </div>
152:       
153:       <Tabs 
154:         defaultValue="overview" 
155:         className="space-y-4"
156:         value={activeTab}
157:         onValueChange={setActiveTab}
158:       >
159:         <TabsList>
160:           <TabsTrigger value="overview">Overview</TabsTrigger>
161:           <TabsTrigger value="inventory">Inventory</TabsTrigger>
162:           <TabsTrigger value="purchases">Purchases</TabsTrigger>
163:         </TabsList>
164:         
165:         <TabsContent value="overview" className="space-y-4">
166:           <Card>
167:             <CardHeader>
168:               <CardTitle>Sales Overview</CardTitle>
169:               <CardDescription>
170:                 Monthly sales performance for the current year
171:               </CardDescription>
172:             </CardHeader>
173:             <CardContent className="pl-2">
174:               {activeTab === "overview" && (
175:                 <Suspense fallback={<ChartSkeleton />}>
176:                   <DynamicCharts type="line" data={salesData} />
177:                 </Suspense>
178:               )}
179:             </CardContent>
180:           </Card>
181:         </TabsContent>
182:         
183:         <TabsContent value="inventory" className="space-y-4">
184:           <Card>
185:             <CardHeader>
186:               <CardTitle>Inventory Distribution</CardTitle>
187:               <CardDescription>
188:                 Current inventory levels by product category
189:               </CardDescription>
190:             </CardHeader>
191:             <CardContent className="pl-2">
192:               {activeTab === "inventory" && (
193:                 <Suspense fallback={<ChartSkeleton />}>
194:                   <DynamicCharts type="bar" data={inventoryData} />
195:                 </Suspense>
196:               )}
197:             </CardContent>
198:           </Card>
199:         </TabsContent>
200:         
201:         <TabsContent value="purchases" className="space-y-4">
202:           <Card>
203:             <CardHeader>
204:               <CardTitle>Recent Purchase Orders</CardTitle>
205:               <CardDescription>
206:                 Latest purchase orders and their status
207:               </CardDescription>
208:             </CardHeader>
209:             <CardContent>
210:               <div className="space-y-4">
211:                 <PurchaseItem 
212:                   number="PO-2023-001" 
213:                   collection="Summer Collection" 
214:                   status="Received" 
215:                   statusColor="bg-emerald-100 text-emerald-800" 
216:                 />
217:                 
218:                 <PurchaseItem 
219:                   number="PO-2023-002" 
220:                   collection="Fall Collection" 
221:                   status="Ordered" 
222:                   statusColor="bg-blue-100 text-blue-800" 
223:                 />
224:                 
225:                 <PurchaseItem 
226:                   number="PO-2023-003" 
227:                   collection="Winter Collection" 
228:                   status="Draft" 
229:                   statusColor="bg-amber-100 text-amber-800" 
230:                 />
231:               </div>
232:             </CardContent>
233:           </Card>
234:         </TabsContent>
235:       </Tabs>
236:     </div>
237:   );
238: }
```

## app\globals.css

- Characters: 3074
- Tokens: 0

```css
  1: @tailwind base;
  2: @tailwind components;
  3: @tailwind utilities;
  4: 
  5: :root {
  6:   --foreground-rgb: 0, 0, 0;
  7:   --background-start-rgb: 214, 219, 220;
  8:   --background-end-rgb: 255, 255, 255;
  9: }
 10: 
 11: @media (prefers-color-scheme: dark) {
 12:   :root {
 13:     --foreground-rgb: 255, 255, 255;
 14:     --background-start-rgb: 0, 0, 0;
 15:     --background-end-rgb: 0, 0, 0;
 16:   }
 17: }
 18: 
 19: @layer base {
 20:   :root {
 21:     --background: 0 0% 100%;
 22:     --foreground: 0 0% 3.9%;
 23:     --card: 0 0% 100%;
 24:     --card-foreground: 0 0% 3.9%;
 25:     --popover: 0 0% 100%;
 26:     --popover-foreground: 0 0% 3.9%;
 27:     --primary: 0 0% 9%;
 28:     --primary-foreground: 0 0% 98%;
 29:     --secondary: 0 0% 96.1%;
 30:     --secondary-foreground: 0 0% 9%;
 31:     --muted: 0 0% 96.1%;
 32:     --muted-foreground: 0 0% 45.1%;
 33:     --accent: 0 0% 96.1%;
 34:     --accent-foreground: 0 0% 9%;
 35:     --destructive: 0 84.2% 60.2%;
 36:     --destructive-foreground: 0 0% 98%;
 37:     --border: 0 0% 89.8%;
 38:     --input: 0 0% 89.8%;
 39:     --ring: 0 0% 3.9%;
 40:     --chart-1: 12 76% 61%;
 41:     --chart-2: 173 58% 39%;
 42:     --chart-3: 197 37% 24%;
 43:     --chart-4: 43 74% 66%;
 44:     --chart-5: 27 87% 67%;
 45:     --radius: 0.5rem;
 46:   }
 47:   .dark {
 48:     --background: 0 0% 3.9%;
 49:     --foreground: 0 0% 98%;
 50:     --card: 0 0% 3.9%;
 51:     --card-foreground: 0 0% 98%;
 52:     --popover: 0 0% 3.9%;
 53:     --popover-foreground: 0 0% 98%;
 54:     --primary: 0 0% 98%;
 55:     --primary-foreground: 0 0% 9%;
 56:     --secondary: 0 0% 14.9%;
 57:     --secondary-foreground: 0 0% 98%;
 58:     --muted: 0 0% 14.9%;
 59:     --muted-foreground: 0 0% 63.9%;
 60:     --accent: 0 0% 14.9%;
 61:     --accent-foreground: 0 0% 98%;
 62:     --destructive: 0 62.8% 30.6%;
 63:     --destructive-foreground: 0 0% 98%;
 64:     --border: 0 0% 14.9%;
 65:     --input: 0 0% 14.9%;
 66:     --ring: 0 0% 83.1%;
 67:     --chart-1: 220 70% 50%;
 68:     --chart-2: 160 60% 45%;
 69:     --chart-3: 30 80% 55%;
 70:     --chart-4: 280 65% 60%;
 71:     --chart-5: 340 75% 55%;
 72:   }
 73: }
 74: 
 75: @layer base {
 76:   * {
 77:     @apply border-border;
 78:   }
 79:   body {
 80:     @apply bg-background text-foreground;
 81:   }
 82: }
 83: 
 84: @layer utilities {
 85:   .animate-in {
 86:     animation-duration: 300ms;
 87:     animation-timing-function: ease-out;
 88:     animation-fill-mode: both;
 89:   }
 90:   
 91:   .fade-in {
 92:     animation-name: fade-in;
 93:   }
 94:   
 95:   @keyframes fade-in {
 96:     from {
 97:       opacity: 0;
 98:     }
 99:     to {
100:       opacity: 1;
101:     }
102:   }
103:   
104:   .slide-in-from-bottom {
105:     animation-name: slide-in-from-bottom;
106:   }
107:   
108:   @keyframes slide-in-from-bottom {
109:     from {
110:       transform: translateY(10px);
111:       opacity: 0;
112:     }
113:     to {
114:       transform: translateY(0);
115:       opacity: 1;
116:     }
117:   }
118: }
```

## app\inventory-audit\layout.tsx

- Characters: 2406
- Tokens: 0

```text
 1: "use client";
 2: 
 3: import { useEffect, useState } from "react";
 4: import { useRouter, usePathname } from "next/navigation";
 5: import { Sidebar } from "@/components/layout/sidebar";
 6: import { Header } from "@/components/layout/header";
 7: import { useAuth } from "@/hooks/use-auth";
 8: import { Loader2 } from "lucide-react";
 9: 
10: export default function InventoryAuditLayout({
11:   children,
12: }: {
13:   children: React.ReactNode;
14: }) {
15:   const { user } = useAuth();
16:   const router = useRouter();
17:   const pathname = usePathname();
18:   const [isLoading, setIsLoading] = useState(true);
19:   const [currentPath, setCurrentPath] = useState(pathname);
20:   const [isTransitioning, setIsTransitioning] = useState(false);
21:   
22:   // Handle authentication check
23:   useEffect(() => {
24:     if (!user) {
25:       router.push("/login");
26:     } else {
27:       // Simulate loading delay
28:       const timer = setTimeout(() => {
29:         setIsLoading(false);
30:       }, 500);
31:       
32:       return () => clearTimeout(timer);
33:     }
34:   }, [user, router]);
35:   
36:   // Handle route transitions
37:   useEffect(() => {
38:     if (pathname !== currentPath) {
39:       setIsTransitioning(true);
40:       
41:       // Short delay to allow transition to complete
42:       const timer = setTimeout(() => {
43:         setCurrentPath(pathname);
44:         setIsTransitioning(false);
45:       }, 300);
46:       
47:       return () => clearTimeout(timer);
48:     }
49:   }, [pathname, currentPath]);
50:   
51:   if (!user || isLoading) {
52:     return (
53:       <div className="flex min-h-screen items-center justify-center">
54:         <div className="flex flex-col items-center space-y-4">
55:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
56:           <p className="text-lg font-medium">Loading...</p>
57:         </div>
58:       </div>
59:     );
60:   }
61:   
62:   return (
63:     <div className="flex min-h-screen">
64:       <div className="hidden md:block">
65:         <Sidebar />
66:       </div>
67:       <div className="flex flex-col flex-1">
68:         <Header />
69:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
70:           {children}
71:         </main>
72:       </div>
73:     </div>
74:   );
75: }
```

## app\inventory-audit\page.tsx

- Characters: 7533
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import Link from "next/link";
  4: import { Plus, Edit, Eye } from "lucide-react";
  5: import { Button } from "@/components/ui/button";
  6: import {
  7:   Card,
  8:   CardContent,
  9:   CardDescription,
 10:   CardHeader,
 11:   CardTitle,
 12: } from "@/components/ui/card";
 13: import {
 14:   Table,
 15:   TableBody,
 16:   TableCell,
 17:   TableHead,
 18:   TableHeader,
 19:   TableRow,
 20: } from "@/components/ui/table";
 21: import { Badge } from "@/components/ui/badge";
 22: import { format } from "date-fns";
 23: import { useState, useEffect } from "react";
 24: import { Skeleton } from "@/components/ui/skeleton";
 25: import { DeleteButton } from "@/components/shared/delete-button";
 26: import { useToast } from "@/hooks/use-toast";
 27: 
 28: // Sample data for demonstration
 29: const audits = [
 30:   {
 31:     id: "1",
 32:     auditNumber: "IA-2023-001",
 33:     warehouse: "Main Store",
 34:     status: "COMPLETED",
 35:     auditDate: new Date("2023-05-30"),
 36:     totalItems: 125,
 37:     discrepancies: 3,
 38:   },
 39:   {
 40:     id: "2",
 41:     auditNumber: "IA-2023-002",
 42:     warehouse: "Downtown Branch",
 43:     status: "IN_PROGRESS",
 44:     auditDate: new Date("2023-06-15"),
 45:     totalItems: 85,
 46:     discrepancies: 0,
 47:   },
 48:   {
 49:     id: "3",
 50:     auditNumber: "IA-2023-003",
 51:     warehouse: "Mall Outlet",
 52:     status: "DRAFT",
 53:     auditDate: new Date("2023-06-20"),
 54:     totalItems: 65,
 55:     discrepancies: 0,
 56:   },
 57:   {
 58:     id: "4",
 59:     auditNumber: "IA-2023-004",
 60:     warehouse: "Distribution Center",
 61:     status: "COMPLETED",
 62:     auditDate: new Date("2023-04-15"),
 63:     totalItems: 250,
 64:     discrepancies: 12,
 65:   },
 66: ];
 67: 
 68: const getStatusBadge = (status: string) => {
 69:   switch (status) {
 70:     case "COMPLETED":
 71:       return <Badge className="bg-emerald-500">Completed</Badge>;
 72:     case "IN_PROGRESS":
 73:       return <Badge className="bg-blue-500">In Progress</Badge>;
 74:     case "DRAFT":
 75:       return <Badge variant="outline">Draft</Badge>;
 76:     default:
 77:       return <Badge variant="outline">{status}</Badge>;
 78:   }
 79: };
 80: 
 81: export default function InventoryAuditPage() {
 82:   const [isLoading, setIsLoading] = useState(true);
 83:   const [data, setData] = useState(audits);
 84:   const { toast } = useToast();
 85: 
 86:   useEffect(() => {
 87:     // Simulate data loading
 88:     const timer = setTimeout(() => {
 89:       setIsLoading(false);
 90:     }, 1000);
 91:     
 92:     return () => clearTimeout(timer);
 93:   }, []);
 94: 
 95:   const handleDelete = async (id: string) => {
 96:     // Simulate API call to delete audit
 97:     return new Promise<void>((resolve, reject) => {
 98:       setTimeout(() => {
 99:         const audit = data.find(a => a.id === id);
100:         
101:         if (audit?.status === "COMPLETED") {
102:           reject(new Error("Cannot delete a completed audit."));
103:         } else {
104:           setData(data.filter(a => a.id !== id));
105:           resolve();
106:         }
107:       }, 1000);
108:     });
109:   };
110: 
111:   return (
112:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
113:       <div className="flex items-center justify-between">
114:         <h1 className="text-3xl font-bold tracking-tight">Inventory Audit</h1>
115:         <Button asChild>
116:           <Link href="/inventory-audit/new">
117:             <Plus className="mr-2 h-4 w-4" />
118:             New Audit
119:           </Link>
120:         </Button>
121:       </div>
122:       
123:       <Card>
124:         <CardHeader>
125:           <CardTitle>Audit History</CardTitle>
126:           <CardDescription>
127:             Track and manage inventory audits across warehouses
128:           </CardDescription>
129:         </CardHeader>
130:         <CardContent>
131:           {isLoading ? (
132:             <div className="space-y-2">
133:               <Skeleton className="h-10 w-full" />
134:               <Skeleton className="h-10 w-full" />
135:               <Skeleton className="h-10 w-full" />
136:               <Skeleton className="h-10 w-full" />
137:             </div>
138:           ) : (
139:             <Table>
140:               <TableHeader>
141:                 <TableRow>
142:                   <TableHead>Audit Number</TableHead>
143:                   <TableHead>Warehouse</TableHead>
144:                   <TableHead>Status</TableHead>
145:                   <TableHead>Date</TableHead>
146:                   <TableHead className="text-right">Items Counted</TableHead>
147:                   <TableHead className="text-right">Discrepancies</TableHead>
148:                   <TableHead className="text-right">Actions</TableHead>
149:                 </TableRow>
150:               </TableHeader>
151:               <TableBody>
152:                 {data.map((audit) => (
153:                   <TableRow key={audit.id}>
154:                     <TableCell className="font-medium">
155:                       {audit.auditNumber}
156:                     </TableCell>
157:                     <TableCell>{audit.warehouse}</TableCell>
158:                     <TableCell>{getStatusBadge(audit.status)}</TableCell>
159:                     <TableCell>
160:                       {format(audit.auditDate, "MMM dd, yyyy")}
161:                     </TableCell>
162:                     <TableCell className="text-right">
163:                       {audit.totalItems}
164:                     </TableCell>
165:                     <TableCell className="text-right">
166:                       {audit.status === "COMPLETED" ? (
167:                         <span className={audit.discrepancies > 0 ? "text-red-500 font-medium" : "text-green-500 font-medium"}>
168:                           {audit.discrepancies}
169:                         </span>
170:                       ) : (
171:                         "-"
172:                       )}
173:                     </TableCell>
174:                     <TableCell className="text-right">
175:                       <div className="flex justify-end gap-2">
176:                         <Button variant="ghost" size="icon" asChild>
177:                           <Link href={`/inventory-audit/${audit.id}`}>
178:                             <Eye className="h-4 w-4" />
179:                           </Link>
180:                         </Button>
181:                         <Button variant="ghost" size="icon" asChild>
182:                           <Link href={`/inventory-audit/${audit.id}/edit`}>
183:                             <Edit className="h-4 w-4" />
184:                           </Link>
185:                         </Button>
186:                         <DeleteButton
187:                           id={audit.id}
188:                           name={audit.auditNumber}
189:                           onDelete={handleDelete}
190:                           disabled={audit.status === "COMPLETED"}
191:                           disabledReason="Cannot delete a completed audit."
192:                         />
193:                       </div>
194:                     </TableCell>
195:                   </TableRow>
196:                 ))}
197:               </TableBody>
198:             </Table>
199:           )}
200:         </CardContent>
201:       </Card>
202:     </div>
203:   );
204: }
```

## app\inventory-audit\[id]\page.tsx

- Characters: 18527
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import Link from "next/link";
  6: import { ArrowLeft, Edit, ClipboardCheck, AlertCircle } from "lucide-react";
  7: import { Button } from "@/components/ui/button";
  8: import {
  9:   Card,
 10:   CardContent,
 11:   CardDescription,
 12:   CardHeader,
 13:   CardTitle,
 14: } from "@/components/ui/card";
 15: import {
 16:   Table,
 17:   TableBody,
 18:   TableCell,
 19:   TableHead,
 20:   TableHeader,
 21:   TableRow,
 22: } from "@/components/ui/table";
 23: import { Skeleton } from "@/components/ui/skeleton";
 24: import { Badge } from "@/components/ui/badge";
 25: import { DeleteButton } from "@/components/shared/delete-button";
 26: import { useToast } from "@/hooks/use-toast";
 27: import { format } from "date-fns";
 28: 
 29: interface InventoryAudit {
 30:   id: string;
 31:   auditNumber: string;
 32:   warehouse: string;
 33:   status: string;
 34:   auditDate: Date;
 35:   totalItems: number;
 36:   discrepancies: number;
 37:   items: AuditItem[];
 38: }
 39: 
 40: interface AuditItem {
 41:   id: string;
 42:   productId: string;
 43:   sku: string;
 44:   name: string;
 45:   systemQuantity: number;
 46:   actualQuantity: number;
 47:   discrepancy: number;
 48: }
 49: 
 50: export default function AuditDetailsPage({ params }: { params: { id: string } }) {
 51:   const router = useRouter();
 52:   const { toast } = useToast();
 53:   const [audit, setAudit] = useState<InventoryAudit | null>(null);
 54:   const [isLoading, setIsLoading] = useState(true);
 55: 
 56:   useEffect(() => {
 57:     // Simulate API call to fetch audit details
 58:     const fetchAudit = async () => {
 59:       setIsLoading(true);
 60:       try {
 61:         // In a real app, this would be an API call
 62:         // const response = await fetch(`/api/inventory-audit/${params.id}`);
 63:         // const data = await response.json();
 64:         
 65:         // Simulate API response with mock data
 66:         setTimeout(() => {
 67:           const mockAudits = [
 68:             {
 69:               id: "1",
 70:               auditNumber: "IA-2023-001",
 71:               warehouse: "Main Store",
 72:               status: "COMPLETED",
 73:               auditDate: new Date("2023-05-30"),
 74:               totalItems: 125,
 75:               discrepancies: 3,
 76:               items: [
 77:                 {
 78:                   id: "1",
 79:                   productId: "1",
 80:                   sku: "SH-001",
 81:                   name: "Cotton T-Shirt",
 82:                   systemQuantity: 75,
 83:                   actualQuantity: 73,
 84:                   discrepancy: -2
 85:                 },
 86:                 {
 87:                   id: "2",
 88:                   productId: "2",
 89:                   sku: "PA-001",
 90:                   name: "Slim Fit Jeans",
 91:                   systemQuantity: 45,
 92:                   actualQuantity: 45,
 93:                   discrepancy: 0
 94:                 },
 95:                 {
 96:                   id: "3",
 97:                   productId: "4",
 98:                   sku: "AC-001",
 99:                   name: "Leather Belt",
100:                   systemQuantity: 50,
101:                   actualQuantity: 49,
102:                   discrepancy: -1
103:                 }
104:               ]
105:             },
106:             {
107:               id: "2",
108:               auditNumber: "IA-2023-002",
109:               warehouse: "Downtown Branch",
110:               status: "IN_PROGRESS",
111:               auditDate: new Date("2023-06-15"),
112:               totalItems: 85,
113:               discrepancies: 0,
114:               items: [
115:                 {
116:                   id: "4",
117:                   productId: "1",
118:                   sku: "SH-001",
119:                   name: "Cotton T-Shirt",
120:                   systemQuantity: 50,
121:                   actualQuantity: 0,
122:                   discrepancy: 0
123:                 },
124:                 {
125:                   id: "5",
126:                   productId: "2",
127:                   sku: "PA-001",
128:                   name: "Slim Fit Jeans",
129:                   systemQuantity: 25,
130:                   actualQuantity: 0,
131:                   discrepancy: 0
132:                 },
133:                 {
134:                   id: "6",
135:                   productId: "3",
136:                   sku: "DR-001",
137:                   name: "Summer Dress",
138:                   systemQuantity: 10,
139:                   actualQuantity: 0,
140:                   discrepancy: 0
141:                 }
142:               ]
143:             },
144:             {
145:               id: "3",
146:               auditNumber: "IA-2023-003",
147:               warehouse: "Mall Outlet",
148:               status: "DRAFT",
149:               auditDate: new Date("2023-06-20"),
150:               totalItems: 65,
151:               discrepancies: 0,
152:               items: []
153:             },
154:             {
155:               id: "4",
156:               auditNumber: "IA-2023-004",
157:               warehouse: "Distribution Center",
158:               status: "COMPLETED",
159:               auditDate: new Date("2023-04-15"),
160:               totalItems: 250,
161:               discrepancies: 12,
162:               items: [
163:                 {
164:                   id: "7",
165:                   productId: "1",
166:                   sku: "SH-001",
167:                   name: "Cotton T-Shirt",
168:                   systemQuantity: 100,
169:                   actualQuantity: 95,
170:                   discrepancy: -5
171:                 },
172:                 {
173:                   id: "8",
174:                   productId: "2",
175:                   sku: "PA-001",
176:                   name: "Slim Fit Jeans",
177:                   systemQuantity: 75,
178:                   actualQuantity: 70,
179:                   discrepancy: -5
180:                 },
181:                 {
182:                   id: "9",
183:                   productId: "5",
184:                   sku: "SH-002",
185:                   name: "Polo Shirt",
186:                   systemQuantity: 75,
187:                   actualQuantity: 73,
188:                   discrepancy: -2
189:                 }
190:               ]
191:             }
192:           ];
193:           
194:           const foundAudit = mockAudits.find(a => a.id === params.id);
195:           setAudit(foundAudit || null);
196:           setIsLoading(false);
197:         }, 1000);
198:       } catch (error) {
199:         toast({
200:           title: "Error",
201:           description: "Failed to load audit details",
202:           variant: "destructive",
203:         });
204:         setIsLoading(false);
205:       }
206:     };
207: 
208:     fetchAudit();
209:   }, [params.id, toast]);
210: 
211:   const handleDelete = async (id: string) => {
212:     // Simulate API call to delete audit
213:     return new Promise<void>((resolve, reject) => {
214:       setTimeout(() => {
215:         // In a real app, this would be an API call
216:         // const response = await fetch(`/api/inventory-audit/${id}`, { method: 'DELETE' });
217:         // if (!response.ok) throw new Error('Failed to delete audit');
218:         
219:         if (audit?.status === "COMPLETED") {
220:           reject(new Error("Cannot delete a completed audit."));
221:         } else {
222:           router.push("/inventory-audit");
223:           resolve();
224:         }
225:       }, 1000);
226:     });
227:   };
228: 
229:   const getStatusBadge = (status: string) => {
230:     switch (status) {
231:       case "COMPLETED":
232:         return <Badge className="bg-emerald-500">Completed</Badge>;
233:       case "IN_PROGRESS":
234:         return <Badge className="bg-blue-500">In Progress</Badge>;
235:       case "DRAFT":
236:         return <Badge variant="outline">Draft</Badge>;
237:       default:
238:         return <Badge variant="outline">{status}</Badge>;
239:     }
240:   };
241: 
242:   const getDiscrepancyClass = (discrepancy: number) => {
243:     if (discrepancy === 0) return "text-emerald-500";
244:     if (discrepancy < 0) return "text-red-500";
245:     return "text-amber-500";
246:   };
247: 
248:   return (
249:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
250:       <div className="flex items-center justify-between">
251:         <div className="flex items-center gap-2">
252:           <Button variant="ghost" size="icon" asChild>
253:             <Link href="/inventory-audit">
254:               <ArrowLeft className="h-4 w-4" />
255:             </Link>
256:           </Button>
257:           <h1 className="text-3xl font-bold tracking-tight">
258:             {isLoading ? <Skeleton className="h-9 w-40" /> : audit?.auditNumber}
259:           </h1>
260:         </div>
261:         
262:         <div className="flex items-center gap-2">
263:           {!isLoading && audit && (
264:             <>
265:               <Button variant="outline" size="sm" asChild>
266:                 <Link href={`/inventory-audit/${params.id}/edit`}>
267:                   <Edit className="mr-2 h-4 w-4" />
268:                   Edit
269:                 </Link>
270:               </Button>
271:               
272:               <DeleteButton
273:                 id={params.id}
274:                 name={audit.auditNumber}
275:                 onDelete={handleDelete}
276:                 disabled={audit.status === "COMPLETED"}
277:                 disabledReason="Cannot delete a completed audit."
278:               />
279:             </>
280:           )}
281:         </div>
282:       </div>
283:       
284:       {isLoading ? (
285:         <Card>
286:           <CardHeader>
287:             <Skeleton className="h-7 w-40 mb-2" />
288:             <Skeleton className="h-5 w-60" />
289:           </CardHeader>
290:           <CardContent className="space-y-4">
291:             <Skeleton className="h-5 w-full" />
292:             <Skeleton className="h-5 w-3/4" />
293:             <Skeleton className="h-5 w-1/2" />
294:           </CardContent>
295:         </Card>
296:       ) : audit ? (
297:         <>
298:           <Card>
299:             <CardHeader>
300:               <CardTitle className="flex items-center justify-between">
301:                 Audit Details
302:                 {getStatusBadge(audit.status)}
303:               </CardTitle>
304:               <CardDescription>
305:                 Detailed information about this inventory audit
306:               </CardDescription>
307:             </CardHeader>
308:             <CardContent className="space-y-6">
309:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
310:                 <div>
311:                   <h3 className="text-sm font-medium text-muted-foreground">Warehouse</h3>
312:                   <p className="text-base">{audit.warehouse}</p>
313:                 </div>
314:                 <div>
315:                   <h3 className="text-sm font-medium text-muted-foreground">Audit Date</h3>
316:                   <p className="text-base">{format(audit.auditDate, "MMM dd, yyyy")}</p>
317:                 </div>
318:               </div>
319:               
320:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
321:                 <div>
322:                   <h3 className="text-sm font-medium text-muted-foreground">Total Items</h3>
323:                   <p className="text-base">{audit.totalItems}</p>
324:                 </div>
325:                 <div>
326:                   <h3 className="text-sm font-medium text-muted-foreground">Discrepancies</h3>
327:                   <p className={`text-base ${audit.discrepancies > 0 ? "text-red-500 font-medium" : "text-emerald-500 font-medium"}`}>
328:                     {audit.discrepancies}
329:                   </p>
330:                 </div>
331:               </div>
332:               
333:               {audit.status === "COMPLETED" && audit.discrepancies > 0 && (
334:                 <div className="flex items-center p-4 bg-amber-50 border border-amber-200 rounded-md">
335:                   <AlertCircle className="h-5 w-5 text-amber-500 mr-2" />
336:                   <p className="text-sm text-amber-700">
337:                     This audit has {audit.discrepancies} discrepancies. Inventory adjustments may be needed.
338:                   </p>
339:                 </div>
340:               )}
341:             </CardContent>
342:           </Card>
343:           
344:           <Card>
345:             <CardHeader>
346:               <CardTitle className="flex items-center">
347:                 <ClipboardCheck className="mr-2 h-5 w-5" />
348:                 Audit Items
349:               </CardTitle>
350:               <CardDescription>
351:                 Products counted in this inventory audit
352:               </CardDescription>
353:             </CardHeader>
354:             <CardContent>
355:               {audit.items.length > 0 ? (
356:                 <Table>
357:                   <TableHeader>
358:                     <TableRow>
359:                       <TableHead>SKU</TableHead>
360:                       <TableHead>Product</TableHead>
361:                       <TableHead className="text-right">System Qty</TableHead>
362:                       <TableHead className="text-right">Actual Qty</TableHead>
363:                       <TableHead className="text-right">Discrepancy</TableHead>
364:                       <TableHead className="text-right">Actions</TableHead>
365:                     </TableRow>
366:                   </TableHeader>
367:                   <TableBody>
368:                     {audit.items.map((item) => (
369:                       <TableRow key={item.id}>
370:                         <TableCell className="font-medium">{item.sku}</TableCell>
371:                         <TableCell>{item.name}</TableCell>
372:                         <TableCell className="text-right">{item.systemQuantity}</TableCell>
373:                         <TableCell className="text-right">
374:                           {audit.status === "IN_PROGRESS" && item.actualQuantity === 0 ? (
375:                             <Badge variant="outline">Not Counted</Badge>
376:                           ) : (
377:                             item.actualQuantity
378:                           )}
379:                         </TableCell>
380:                         <TableCell className={`text-right ${getDiscrepancyClass(item.discrepancy)}`}>
381:                           {audit.status === "COMPLETED" ? item.discrepancy : "-"}
382:                         </TableCell>
383:                         <TableCell className="text-right">
384:                           <Button variant="ghost" size="sm" asChild>
385:                             <Link href={`/products/${item.productId}`}>View Product</Link>
386:                           </Button>
387:                         </TableCell>
388:                       </TableRow>
389:                     ))}
390:                   </TableBody>
391:                 </Table>
392:               ) : (
393:                 <div className="text-center py-8 text-muted-foreground">
394:                   {audit.status === "DRAFT" ? (
395:                     <div className="flex flex-col items-center">
396:                       <p className="mb-4">No items have been added to this audit yet.</p>
397:                       <Button asChild>
398:                         <Link href={`/inventory-audit/${params.id}/edit`}>Add Items</Link>
399:                       </Button>
400:                     </div>
401:                   ) : (
402:                     "No items in this audit"
403:                   )}
404:                 </div>
405:               )}
406:             </CardContent>
407:           </Card>
408:           
409:           {audit.status === "COMPLETED" && audit.discrepancies !== 0 && (
410:             <Card>
411:               <CardHeader>
412:                 <CardTitle>Adjustment Actions</CardTitle>
413:                 <CardDescription>
414:                   Actions taken to resolve inventory discrepancies
415:                 </CardDescription>
416:               </CardHeader>
417:               <CardContent>
418:                 <div className="space-y-4">
419:                   <div className="flex items-center justify-between p-3 bg-muted rounded-md">
420:                     <div>
421:                       <p className="font-medium">System Inventory Updated</p>
422:                       <p className="text-sm text-muted-foreground">
423:                         {format(new Date(audit.auditDate.getTime() + 86400000), "MMM dd, yyyy")}
424:                       </p>
425:                     </div>
426:                     <Badge className="bg-emerald-500">Completed</Badge>
427:                   </div>
428:                   
429:                   <div className="flex items-center justify-between p-3 bg-muted rounded-md">
430:                     <div>
431:                       <p className="font-medium">Investigation Report</p>
432:                       <p className="text-sm text-muted-foreground">
433:                         {format(new Date(audit.auditDate.getTime() + 172800000), "MMM dd, yyyy")}
434:                       </p>
435:                     </div>
436:                     <Badge className="bg-emerald-500">Completed</Badge>
437:                   </div>
438:                 </div>
439:               </CardContent>
440:             </Card>
441:           )}
442:         </>
443:       ) : (
444:         <Card>
445:           <CardContent className="flex flex-col items-center justify-center py-10">
446:             <h2 className="text-xl font-semibold mb-2">Audit Not Found</h2>
447:             <p className="text-muted-foreground mb-4">
448:               The inventory audit you're looking for doesn't exist or has been removed.
449:             </p>
450:             <Button asChild>
451:               <Link href="/inventory-audit">Back to Inventory Audits</Link>
452:             </Button>
453:           </CardContent>
454:         </Card>
455:       )}
456:     </div>
457:   );
458: }
```

## app\layout.tsx

- Characters: 1133
- Tokens: 0

```text
 1: import './globals.css';
 2: import type { Metadata } from 'next';
 3: import { Inter } from 'next/font/google';
 4: import { ThemeProvider } from '@/components/theme-provider';
 5: import { Toaster } from '@/components/ui/toaster';
 6: import { AuthProvider } from '@/hooks/use-auth';
 7: 
 8: const inter = Inter({ subsets: ['latin'] });
 9: 
10: export const metadata: Metadata = {
11:   title: 'Fashion Inventory Management System',
12:   description: 'A comprehensive inventory management system for fashion retail businesses',
13: };
14: 
15: export default function RootLayout({
16:   children,
17: }: {
18:   children: React.ReactNode;
19: }) {
20:   return (
21:     <html lang="en" suppressHydrationWarning>
22:       <body className={inter.className}>
23:         <ThemeProvider
24:           attribute="class"
25:           defaultTheme="system"
26:           enableSystem
27:           disableTransitionOnChange
28:         >
29:           <AuthProvider>
30:             {children}
31:             <Toaster />
32:           </AuthProvider>
33:         </ThemeProvider>
34:       </body>
35:     </html>
36:   );
37: }
```

## app\not-found.tsx

- Characters: 1364
- Tokens: 0

```text
 1: import Link from "next/link";
 2: import { Button } from "@/components/ui/button";
 3: import { AlertCircle } from "lucide-react";
 4: 
 5: export default function NotFound() {
 6:   return (
 7:     <div className="flex min-h-screen flex-col items-center justify-center bg-background">
 8:       <div className="mx-auto flex w-full max-w-md flex-col items-center justify-center space-y-6 text-center">
 9:         <div className="flex h-20 w-20 items-center justify-center rounded-full bg-muted">
10:           <AlertCircle className="h-10 w-10 text-muted-foreground" />
11:         </div>
12:         <div className="space-y-2">
13:           <h1 className="text-4xl font-bold tracking-tighter">404</h1>
14:           <h2 className="text-2xl font-semibold tracking-tight">Page Not Found</h2>
15:           <p className="text-muted-foreground">
16:             The page you're looking for doesn't exist or has been moved.
17:           </p>
18:         </div>
19:         <div className="flex flex-col space-y-2 sm:flex-row sm:space-x-2 sm:space-y-0">
20:           <Button asChild>
21:             <Link href="/dashboard">Go to Dashboard</Link>
22:           </Button>
23:           <Button variant="outline" asChild>
24:             <Link href="/">Back to Home</Link>
25:           </Button>
26:         </div>
27:       </div>
28:     </div>
29:   );
30: }
```

## app\page.tsx

- Characters: 3258
- Tokens: 0

```text
 1: import { Button } from "@/components/ui/button";
 2: import Link from "next/link";
 3: import { ShoppingBag } from "lucide-react";
 4: 
 5: export default function Home() {
 6:   return (
 7:     <div className="flex min-h-screen flex-col">
 8:       <header className="bg-primary py-6">
 9:         <div className="container mx-auto px-4">
10:           <div className="flex items-center justify-between">
11:             <div className="flex items-center space-x-2">
12:               <ShoppingBag className="h-8 w-8 text-primary-foreground" />
13:               <h1 className="text-2xl font-bold text-primary-foreground">Fashion Inventory</h1>
14:             </div>
15:             <div>
16:               <Button asChild variant="secondary">
17:                 <Link href="/login">Login</Link>
18:               </Button>
19:             </div>
20:           </div>
21:         </div>
22:       </header>
23: 
24:       <main className="flex-1">
25:         <section className="bg-gradient-to-b from-primary/20 to-background py-20">
26:           <div className="container mx-auto px-4 text-center">
27:             <h2 className="text-4xl font-bold mb-6">Fashion Retail Inventory Management System</h2>
28:             <p className="text-xl mb-8 max-w-2xl mx-auto">
29:               A comprehensive solution for managing your fashion retail inventory, from products and suppliers to sales and reporting.
30:             </p>
31:             <Button asChild size="lg">
32:               <Link href="/login">Get Started</Link>
33:             </Button>
34:           </div>
35:         </section>
36: 
37:         <section className="py-16">
38:           <div className="container mx-auto px-4">
39:             <h3 className="text-2xl font-bold mb-8 text-center">Key Features</h3>
40:             <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
41:               <FeatureCard 
42:                 title="Product Management" 
43:                 description="Manage your products with categories, safety stock levels, and cost tracking."
44:               />
45:               <FeatureCard 
46:                 title="Inventory Control" 
47:                 description="Track inventory across multiple warehouses with transfers and auditing."
48:               />
49:               <FeatureCard 
50:                 title="Purchase & Sales" 
51:                 description="Manage the complete lifecycle from purchasing to sales with automatic cost updates."
52:               />
53:             </div>
54:           </div>
55:         </section>
56:       </main>
57: 
58:       <footer className="bg-muted py-8">
59:         <div className="container mx-auto px-4 text-center">
60:           <p className="text-muted-foreground">
61:             © {new Date().getFullYear()} Fashion Inventory Management System
62:           </p>
63:         </div>
64:       </footer>
65:     </div>
66:   );
67: }
68: 
69: function FeatureCard({ title, description }: { title: string; description: string }) {
70:   return (
71:     <div className="bg-card p-6 rounded-lg shadow-sm border">
72:       <h4 className="text-xl font-semibold mb-3">{title}</h4>
73:       <p className="text-card-foreground">{description}</p>
74:     </div>
75:   );
76: }
```

## app\products\layout.tsx

- Characters: 2400
- Tokens: 0

```text
 1: "use client";
 2: 
 3: import { useEffect, useState } from "react";
 4: import { useRouter, usePathname } from "next/navigation";
 5: import { Sidebar } from "@/components/layout/sidebar";
 6: import { Header } from "@/components/layout/header";
 7: import { useAuth } from "@/hooks/use-auth";
 8: import { Loader2 } from "lucide-react";
 9: 
10: export default function ProductsLayout({
11:   children,
12: }: {
13:   children: React.ReactNode;
14: }) {
15:   const { user } = useAuth();
16:   const router = useRouter();
17:   const pathname = usePathname();
18:   const [isLoading, setIsLoading] = useState(true);
19:   const [currentPath, setCurrentPath] = useState(pathname);
20:   const [isTransitioning, setIsTransitioning] = useState(false);
21:   
22:   // Handle authentication check
23:   useEffect(() => {
24:     if (!user) {
25:       router.push("/login");
26:     } else {
27:       // Simulate loading delay
28:       const timer = setTimeout(() => {
29:         setIsLoading(false);
30:       }, 500);
31:       
32:       return () => clearTimeout(timer);
33:     }
34:   }, [user, router]);
35:   
36:   // Handle route transitions
37:   useEffect(() => {
38:     if (pathname !== currentPath) {
39:       setIsTransitioning(true);
40:       
41:       // Short delay to allow transition to complete
42:       const timer = setTimeout(() => {
43:         setCurrentPath(pathname);
44:         setIsTransitioning(false);
45:       }, 300);
46:       
47:       return () => clearTimeout(timer);
48:     }
49:   }, [pathname, currentPath]);
50:   
51:   if (!user || isLoading) {
52:     return (
53:       <div className="flex min-h-screen items-center justify-center">
54:         <div className="flex flex-col items-center space-y-4">
55:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
56:           <p className="text-lg font-medium">Loading...</p>
57:         </div>
58:       </div>
59:     );
60:   }
61:   
62:   return (
63:     <div className="flex min-h-screen">
64:       <div className="hidden md:block">
65:         <Sidebar />
66:       </div>
67:       <div className="flex flex-col flex-1">
68:         <Header />
69:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
70:           {children}
71:         </main>
72:       </div>
73:     </div>
74:   );
75: }
```

## app\products\new\page.tsx

- Characters: 15929
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import { useForm } from "react-hook-form";
  6: import { zodResolver } from "@hookform/resolvers/zod";
  7: import * as z from "zod";
  8: import { ArrowLeft } from "lucide-react";
  9: import Link from "next/link";
 10: 
 11: import { Button } from "@/components/ui/button";
 12: import {
 13:   Form,
 14:   FormControl,
 15:   FormDescription,
 16:   FormField,
 17:   FormItem,
 18:   FormLabel,
 19:   FormMessage,
 20: } from "@/components/ui/form";
 21: import { Input } from "@/components/ui/input";
 22: import { Textarea } from "@/components/ui/textarea";
 23: import {
 24:   Select,
 25:   SelectContent,
 26:   SelectItem,
 27:   SelectTrigger,
 28:   SelectValue,
 29: } from "@/components/ui/select";
 30: import { Checkbox } from "@/components/ui/checkbox";
 31: import { useToast } from "@/hooks/use-toast";
 32: import {
 33:   Card,
 34:   CardContent,
 35:   CardDescription,
 36:   CardHeader,
 37:   CardTitle,
 38: } from "@/components/ui/card";
 39: 
 40: // Mock products data - this would normally be in a database
 41: const mockProducts = [
 42:   {
 43:     id: "1",
 44:     sku: "SH-001",
 45:     name: "Cotton T-Shirt",
 46:     category: "Shirts",
 47:     categories: ["1"],
 48:     costPrice: 12.50,
 49:     sellingPrice: 24.99,
 50:     stock: 120,
 51:     safetyStock: 20,
 52:   },
 53:   {
 54:     id: "2",
 55:     sku: "PA-001",
 56:     name: "Slim Fit Jeans",
 57:     category: "Pants",
 58:     categories: ["2"],
 59:     costPrice: 18.75,
 60:     sellingPrice: 39.99,
 61:     stock: 85,
 62:     safetyStock: 15,
 63:   },
 64:   {
 65:     id: "3",
 66:     sku: "DR-001",
 67:     name: "Summer Dress",
 68:     category: "Dresses",
 69:     categories: ["3"],
 70:     costPrice: 22.00,
 71:     sellingPrice: 49.99,
 72:     stock: 42,
 73:     safetyStock: 10,
 74:   },
 75:   {
 76:     id: "4",
 77:     sku: "AC-001",
 78:     name: "Leather Belt",
 79:     category: "Accessories",
 80:     categories: ["4"],
 81:     costPrice: 8.25,
 82:     sellingPrice: 19.99,
 83:     stock: 65,
 84:     safetyStock: 12,
 85:   },
 86:   {
 87:     id: "5",
 88:     sku: "SH-002",
 89:     name: "Polo Shirt",
 90:     category: "Shirts",
 91:     categories: ["1"],
 92:     costPrice: 15.00,
 93:     sellingPrice: 29.99,
 94:     stock: 8,
 95:     safetyStock: 15,
 96:   },
 97: ];
 98: 
 99: // Create a global variable to store the updated products if it doesn't exist
100: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedProducts')) {
101:   window.updatedProducts = [...mockProducts];
102: }
103: 
104: // Mock categories data - this would normally be in a database
105: const mockCategories = [
106:   {
107:     id: "1",
108:     name: "Shirts",
109:     description: "All types of shirts and tops",
110:     productCount: 45,
111:     status: "Active",
112:   },
113:   {
114:     id: "2",
115:     name: "Pants",
116:     description: "All types of pants and bottoms",
117:     productCount: 32,
118:     status: "Active",
119:   },
120:   {
121:     id: "3",
122:     name: "Dresses",
123:     description: "All types of dresses",
124:     productCount: 28,
125:     status: "Active",
126:   },
127:   {
128:     id: "4",
129:     name: "Accessories",
130:     description: "Belts, hats, and other accessories",
131:     productCount: 56,
132:     status: "Active",
133:   },
134:   {
135:     id: "5",
136:     name: "Shoes",
137:     description: "All types of footwear",
138:     productCount: 37,
139:     status: "Active",
140:   },
141:   {
142:     id: "6",
143:     name: "Seasonal",
144:     description: "Seasonal items and collections",
145:     productCount: 12,
146:     status: "Active",
147:   },
148: ];
149: 
150: // Create a global variable to store the updated categories if it doesn't exist
151: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedCategories')) {
152:   window.updatedCategories = [...mockCategories];
153: }
154: 
155: const productSchema = z.object({
156:   sku: z.string().min(3, { message: "SKU must be at least 3 characters" }),
157:   name: z.string().min(2, { message: "Name must be at least 2 characters" }),
158:   description: z.string().optional(),
159:   categories: z.array(z.string()).min(1, { message: "Select at least one category" }),
160:   sellingPrice: z.coerce
161:     .number()
162:     .positive({ message: "Selling price must be positive" }),
163:   safetyStock: z.coerce
164:     .number()
165:     .int()
166:     .nonnegative({ message: "Safety stock must be a non-negative integer" }),
167: });
168: 
169: type ProductFormValues = z.infer<typeof productSchema>;
170: 
171: export default function NewProductPage() {
172:   const router = useRouter();
173:   const { toast } = useToast();
174:   const [isLoading, setIsLoading] = useState(false);
175:   const [availableCategories, setAvailableCategories] = useState<{ id: string; name: string; status: string }[]>([]);
176: 
177:   // Load categories from our mock database
178:   useEffect(() => {
179:     const loadCategories = () => {
180:       const categories = typeof window !== 'undefined' ? window.updatedCategories : mockCategories;
181:       // Only show active categories
182:       const activeCategories = categories.filter(c => c.status === "Active").map(c => ({
183:         id: c.id,
184:         name: c.name,
185:         status: c.status
186:       }));
187:       setAvailableCategories(activeCategories);
188:     };
189:     
190:     loadCategories();
191:   }, []);
192: 
193:   const form = useForm<ProductFormValues>({
194:     resolver: zodResolver(productSchema),
195:     defaultValues: {
196:       sku: "",
197:       name: "",
198:       description: "",
199:       categories: [],
200:       sellingPrice: 0,
201:       safetyStock: 0,
202:     },
203:   });
204: 
205:   async function onSubmit(data: ProductFormValues) {
206:     setIsLoading(true);
207:     
208:     try {
209:       // In a real application, this would be an API call
210:       // const response = await fetch("/api/products", {
211:       //   method: "POST",
212:       //   headers: {
213:       //     "Content-Type": "application/json",
214:       //   },
215:       //   body: JSON.stringify(data),
216:       // });
217:       
218:       // if (!response.ok) {
219:       //   throw new Error("Failed to create product");
220:       // }
221:       
222:       // Simulate API call and update our mock database
223:       await new Promise(resolve => setTimeout(resolve, 1000));
224:       
225:       // Get the primary category name from the first category in the array
226:       const primaryCategoryId = data.categories[0];
227:       const primaryCategory = availableCategories.find(c => c.id === primaryCategoryId)?.name || "";
228:       
229:       // Create a new product with a unique ID
230:       const newProduct = {
231:         id: `${Date.now()}`, // Generate a unique ID
232:         ...data,
233:         category: primaryCategory, // Add the primary category name for backward compatibility
234:         categories: data.categories, // Store all selected categories
235:         costPrice: 0, // New products start with 0 cost price
236:         stock: 0, // New products start with 0 stock
237:       };
238:       
239:       // Add the new product to our mock database
240:       if (typeof window !== 'undefined') {
241:         window.updatedProducts = [...window.updatedProducts, newProduct];
242:       }
243:       
244:       toast({
245:         title: "Product created",
246:         description: "The product has been created successfully.",
247:       });
248:       
249:       router.push("/products");
250:     } catch (error) {
251:       toast({
252:         title: "Error",
253:         description: error instanceof Error ? error.message : "An error occurred",
254:         variant: "destructive",
255:       });
256:     } finally {
257:       setIsLoading(false);
258:     }
259:   }
260: 
261:   return (
262:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
263:       <div className="flex items-center gap-2">
264:         <Button variant="ghost" size="icon" asChild>
265:           <Link href="/products">
266:             <ArrowLeft className="h-4 w-4" />
267:           </Link>
268:         </Button>
269:         <h1 className="text-3xl font-bold tracking-tight">Add New Product</h1>
270:       </div>
271:       
272:       <Card>
273:         <CardHeader>
274:           <CardTitle>Product Information</CardTitle>
275:           <CardDescription>
276:             Enter the details for the new product
277:           </CardDescription>
278:         </CardHeader>
279:         <CardContent>
280:           <Form {...form}>
281:             <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
282:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
283:                 <FormField
284:                   control={form.control}
285:                   name="sku"
286:                   render={({ field }) => (
287:                     <FormItem>
288:                       <FormLabel>SKU</FormLabel>
289:                       <FormControl>
290:                         <Input placeholder="SH-001" {...field} />
291:                       </FormControl>
292:                       <FormDescription>
293:                         Unique identifier for the product
294:                       </FormDescription>
295:                       <FormMessage />
296:                     </FormItem>
297:                   )}
298:                 />
299:                 
300:                 <FormField
301:                   control={form.control}
302:                   name="name"
303:                   render={({ field }) => (
304:                     <FormItem>
305:                       <FormLabel>Name</FormLabel>
306:                       <FormControl>
307:                         <Input placeholder="Cotton T-Shirt" {...field} />
308:                       </FormControl>
309:                       <FormMessage />
310:                     </FormItem>
311:                   )}
312:                 />
313:               </div>
314:               
315:               <FormField
316:                 control={form.control}
317:                 name="description"
318:                 render={({ field }) => (
319:                   <FormItem>
320:                     <FormLabel>Description</FormLabel>
321:                     <FormControl>
322:                       <Textarea
323:                         placeholder="Product description..."
324:                         {...field}
325:                       />
326:                     </FormControl>
327:                     <FormMessage />
328:                   </FormItem>
329:                 )}
330:               />
331:               
332:               <FormField
333:                 control={form.control}
334:                 name="categories"
335:                 render={() => (
336:                   <FormItem>
337:                     <div className="mb-4">
338:                       <FormLabel className="text-base">Categories</FormLabel>
339:                       <FormDescription>
340:                         Select one or more categories for this product
341:                       </FormDescription>
342:                     </div>
343:                     <div className="grid grid-cols-2 md:grid-cols-3 gap-2">
344:                       {availableCategories.map((category) => (
345:                         <FormField
346:                           key={category.id}
347:                           control={form.control}
348:                           name="categories"
349:                           render={({ field }) => {
350:                             return (
351:                               <FormItem
352:                                 key={category.id}
353:                                 className="flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4"
354:                               >
355:                                 <FormControl>
356:                                   <Checkbox
357:                                     checked={field.value?.includes(category.id)}
358:                                     onCheckedChange={(checked) => {
359:                                       return checked
360:                                         ? field.onChange([...field.value, category.id])
361:                                         : field.onChange(
362:                                             field.value?.filter(
363:                                               (value) => value !== category.id
364:                                             )
365:                                           )
366:                                     }}
367:                                   />
368:                                 </FormControl>
369:                                 <FormLabel className="font-normal">
370:                                   {category.name}
371:                                 </FormLabel>
372:                               </FormItem>
373:                             )
374:                           }}
375:                         />
376:                       ))}
377:                     </div>
378:                     <FormMessage />
379:                   </FormItem>
380:                 )}
381:               />
382:               
383:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
384:                 <FormField
385:                   control={form.control}
386:                   name="sellingPrice"
387:                   render={({ field }) => (
388:                     <FormItem>
389:                       <FormLabel>Selling Price</FormLabel>
390:                       <FormControl>
391:                         <Input
392:                           type="number"
393:                           step="0.01"
394:                           placeholder="0.00"
395:                           {...field}
396:                         />
397:                       </FormControl>
398:                       <FormMessage />
399:                     </FormItem>
400:                   )}
401:                 />
402:                 
403:                 <FormField
404:                   control={form.control}
405:                   name="safetyStock"
406:                   render={({ field }) => (
407:                     <FormItem>
408:                       <FormLabel>Safety Stock</FormLabel>
409:                       <FormControl>
410:                         <Input
411:                           type="number"
412:                           placeholder="0"
413:                           {...field}
414:                         />
415:                       </FormControl>
416:                       <FormDescription>
417:                         Minimum stock level before reordering
418:                       </FormDescription>
419:                       <FormMessage />
420:                     </FormItem>
421:                   )}
422:                 />
423:               </div>
424:               
425:               <div className="flex justify-end space-x-2">
426:                 <Button
427:                   variant="outline"
428:                   onClick={() => router.push("/products")}
429:                   type="button"
430:                 >
431:                   Cancel
432:                 </Button>
433:                 <Button type="submit" disabled={isLoading}>
434:                   {isLoading ? "Creating..." : "Create Product"}
435:                 </Button>
436:               </div>
437:             </form>
438:           </Form>
439:         </CardContent>
440:       </Card>
441:     </div>
442:   );
443: }
```

## app\products\page.tsx

- Characters: 10674
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import Link from "next/link";
  4: import { Plus, Edit, Eye } from "lucide-react";
  5: import { Button } from "@/components/ui/button";
  6: import {
  7:   Card,
  8:   CardContent,
  9:   CardDescription,
 10:   CardHeader,
 11:   CardTitle,
 12: } from "@/components/ui/card";
 13: import {
 14:   Table,
 15:   TableBody,
 16:   TableCell,
 17:   TableHead,
 18:   TableHeader,
 19:   TableRow,
 20: } from "@/components/ui/table";
 21: import { Badge } from "@/components/ui/badge";
 22: import { useState, useEffect } from "react";
 23: import { Skeleton } from "@/components/ui/skeleton";
 24: import { DeleteButton } from "@/components/shared/delete-button";
 25: import { useToast } from "@/hooks/use-toast";
 26: 
 27: // Mock products data - this would normally be in a database
 28: const mockProducts = [
 29:   {
 30:     id: "1",
 31:     sku: "SH-001",
 32:     name: "Cotton T-Shirt",
 33:     category: "Shirts",
 34:     categories: ["1"],
 35:     costPrice: 12.50,
 36:     sellingPrice: 24.99,
 37:     stock: 120,
 38:     safetyStock: 20,
 39:   },
 40:   {
 41:     id: "2",
 42:     sku: "PA-001",
 43:     name: "Slim Fit Jeans",
 44:     category: "Pants",
 45:     categories: ["2"],
 46:     costPrice: 18.75,
 47:     sellingPrice: 39.99,
 48:     stock: 85,
 49:     safetyStock: 15,
 50:   },
 51:   {
 52:     id: "3",
 53:     sku: "DR-001",
 54:     name: "Summer Dress",
 55:     category: "Dresses",
 56:     categories: ["3"],
 57:     costPrice: 22.00,
 58:     sellingPrice: 49.99,
 59:     stock: 42,
 60:     safetyStock: 10,
 61:   },
 62:   {
 63:     id: "4",
 64:     sku: "AC-001",
 65:     name: "Leather Belt",
 66:     category: "Accessories",
 67:     categories: ["4"],
 68:     costPrice: 8.25,
 69:     sellingPrice: 19.99,
 70:     stock: 65,
 71:     safetyStock: 12,
 72:   },
 73:   {
 74:     id: "5",
 75:     sku: "SH-002",
 76:     name: "Polo Shirt",
 77:     category: "Shirts",
 78:     categories: ["1"],
 79:     costPrice: 15.00,
 80:     sellingPrice: 29.99,
 81:     stock: 8,
 82:     safetyStock: 15,
 83:   },
 84: ];
 85: 
 86: // Create a global variable to store the updated products if it doesn't exist
 87: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedProducts')) {
 88:   window.updatedProducts = [...mockProducts];
 89: }
 90: 
 91: // Mock categories data - this would normally be in a database
 92: const mockCategories = [
 93:   {
 94:     id: "1",
 95:     name: "Shirts",
 96:     description: "All types of shirts and tops",
 97:     productCount: 45,
 98:     status: "Active",
 99:   },
100:   {
101:     id: "2",
102:     name: "Pants",
103:     description: "All types of pants and bottoms",
104:     productCount: 32,
105:     status: "Active",
106:   },
107:   {
108:     id: "3",
109:     name: "Dresses",
110:     description: "All types of dresses",
111:     productCount: 28,
112:     status: "Active",
113:   },
114:   {
115:     id: "4",
116:     name: "Accessories",
117:     description: "Belts, hats, and other accessories",
118:     productCount: 56,
119:     status: "Active",
120:   },
121:   {
122:     id: "5",
123:     name: "Shoes",
124:     description: "All types of footwear",
125:     productCount: 37,
126:     status: "Active",
127:   },
128:   {
129:     id: "6",
130:     name: "Seasonal",
131:     description: "Seasonal items and collections",
132:     productCount: 12,
133:     status: "Active",
134:   },
135: ];
136: 
137: // Create a global variable to store the updated categories if it doesn't exist
138: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedCategories')) {
139:   window.updatedCategories = [...mockCategories];
140: }
141: 
142: export default function ProductsPage() {
143:   const [isLoading, setIsLoading] = useState(true);
144:   const [data, setData] = useState(mockProducts);
145:   const [categories, setCategories] = useState<Record<string, string>>({});
146:   const { toast } = useToast();
147: 
148:   useEffect(() => {
149:     // Simulate data loading and get data from our mock database
150:     const timer = setTimeout(() => {
151:       if (typeof window !== 'undefined') {
152:         setData(window.updatedProducts);
153:         
154:         // Create a map of category IDs to names
155:         const categoryMap: Record<string, string> = {};
156:         const categoriesData = window.updatedCategories || mockCategories;
157:         categoriesData.forEach(category => {
158:           categoryMap[category.id] = category.name;
159:         });
160:         setCategories(categoryMap);
161:       }
162:       setIsLoading(false);
163:     }, 1000);
164:     
165:     return () => clearTimeout(timer);
166:   }, []);
167: 
168:   const handleDelete = async (id: string) => {
169:     // Simulate API call to delete product
170:     return new Promise<void>((resolve, reject) => {
171:       setTimeout(() => {
172:         // Update our mock database
173:         const updatedData = data.filter(product => product.id !== id);
174:         setData(updatedData);
175:         
176:         if (typeof window !== 'undefined') {
177:           window.updatedProducts = updatedData;
178:         }
179:         
180:         resolve();
181:       }, 1000);
182:     });
183:   };
184: 
185:   // Function to get category names from category IDs
186:   const getCategoryNames = (categoryIds: string[] | undefined) => {
187:     if (!categoryIds || categoryIds.length === 0) return "Uncategorized";
188:     
189:     return categoryIds.map(id => categories[id] || "Unknown").join(", ");
190:   };
191: 
192:   return (
193:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
194:       <div className="flex items-center justify-between">
195:         <h1 className="text-3xl font-bold tracking-tight">Products</h1>
196:         <Button asChild>
197:           <Link href="/products/new">
198:             <Plus className="mr-2 h-4 w-4" />
199:             Add Product
200:           </Link>
201:         </Button>
202:       </div>
203:       
204:       <Card>
205:         <CardHeader>
206:           <CardTitle>Product Inventory</CardTitle>
207:           <CardDescription>
208:             Manage your product catalog and inventory levels
209:           </CardDescription>
210:         </CardHeader>
211:         <CardContent>
212:           {isLoading ? (
213:             <div className="space-y-2">
214:               <Skeleton className="h-10 w-full" />
215:               <Skeleton className="h-10 w-full" />
216:               <Skeleton className="h-10 w-full" />
217:               <Skeleton className="h-10 w-full" />
218:               <Skeleton className="h-10 w-full" />
219:             </div>
220:           ) : (
221:             <Table>
222:               <TableHeader>
223:                 <TableRow>
224:                   <TableHead>SKU</TableHead>
225:                   <TableHead>Name</TableHead>
226:                   <TableHead>Categories</TableHead>
227:                   <TableHead className="text-right">Cost Price</TableHead>
228:                   <TableHead className="text-right">Selling Price</TableHead>
229:                   <TableHead className="text-right">Stock</TableHead>
230:                   <TableHead>Status</TableHead>
231:                   <TableHead className="text-right">Actions</TableHead>
232:                 </TableRow>
233:               </TableHeader>
234:               <TableBody>
235:                 {data.map((product) => (
236:                   <TableRow key={product.id}>
237:                     <TableCell className="font-medium">{product.sku}</TableCell>
238:                     <TableCell>{product.name}</TableCell>
239:                     <TableCell>
240:                       <div className="flex flex-wrap gap-1">
241:                         {product.categories && product.categories.length > 0 ? (
242:                           product.categories.slice(0, 2).map((categoryId, index) => (
243:                             <Badge key={index} variant="outline" className="mr-1">
244:                               {categories[categoryId] || "Unknown"}
245:                             </Badge>
246:                           ))
247:                         ) : (
248:                           <Badge variant="outline">Uncategorized</Badge>
249:                         )}
250:                         {product.categories && product.categories.length > 2 && (
251:                           <Badge variant="outline">+{product.categories.length - 2}</Badge>
252:                         )}
253:                       </div>
254:                     </TableCell>
255:                     <TableCell className="text-right">
256:                       ${product.costPrice.toFixed(2)}
257:                     </TableCell>
258:                     <TableCell className="text-right">
259:                       ${product.sellingPrice.toFixed(2)}
260:                     </TableCell>
261:                     <TableCell className="text-right">{product.stock}</TableCell>
262:                     <TableCell>
263:                       {product.stock <= product.safetyStock ? (
264:                         <Badge variant="destructive">Low Stock</Badge>
265:                       ) : (
266:                         <Badge variant="outline">In Stock</Badge>
267:                       )}
268:                     </TableCell>
269:                     <TableCell className="text-right">
270:                       <div className="flex justify-end gap-2">
271:                         <Button variant="ghost" size="icon" asChild>
272:                           <Link href={`/products/${product.id}`}>
273:                             <Eye className="h-4 w-4" />
274:                           </Link>
275:                         </Button>
276:                         <Button variant="ghost" size="icon" asChild>
277:                           <Link href={`/products/${product.id}/edit`}>
278:                             <Edit className="h-4 w-4" />
279:                           </Link>
280:                         </Button>
281:                         <DeleteButton
282:                           id={product.id}
283:                           name={product.name}
284:                           onDelete={handleDelete}
285:                         />
286:                       </div>
287:                     </TableCell>
288:                   </TableRow>
289:                 ))}
290:               </TableBody>
291:             </Table>
292:           )}
293:         </CardContent>
294:       </Card>
295:     </div>
296:   );
297: }
```

## app\products\[id]\edit\page.tsx

- Characters: 19100
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import { useForm } from "react-hook-form";
  6: import { zodResolver } from "@hookform/resolvers/zod";
  7: import * as z from "zod";
  8: import { ArrowLeft } from "lucide-react";
  9: import Link from "next/link";
 10: 
 11: import { Button } from "@/components/ui/button";
 12: import {
 13:   Form,
 14:   FormControl,
 15:   FormDescription,
 16:   FormField,
 17:   FormItem,
 18:   FormLabel,
 19:   FormMessage,
 20: } from "@/components/ui/form";
 21: import { Input } from "@/components/ui/input";
 22: import { Textarea } from "@/components/ui/textarea";
 23: import { Checkbox } from "@/components/ui/checkbox";
 24: import { useToast } from "@/hooks/use-toast";
 25: import {
 26:   Card,
 27:   CardContent,
 28:   CardDescription,
 29:   CardHeader,
 30:   CardTitle,
 31: } from "@/components/ui/card";
 32: import { Skeleton } from "@/components/ui/skeleton";
 33: 
 34: // Mock products data - this would normally be in a database
 35: const mockProducts = [
 36:   {
 37:     id: "1",
 38:     sku: "SH-001",
 39:     name: "Cotton T-Shirt",
 40:     description: "Comfortable cotton t-shirt for everyday wear",
 41:     category: "Shirts",
 42:     categories: ["1"],
 43:     costPrice: 12.50,
 44:     sellingPrice: 24.99,
 45:     stock: 120,
 46:     safetyStock: 20,
 47:   },
 48:   {
 49:     id: "2",
 50:     sku: "PA-001",
 51:     name: "Slim Fit Jeans",
 52:     description: "Stylish slim fit jeans for a modern look",
 53:     category: "Pants",
 54:     categories: ["2"],
 55:     costPrice: 18.75,
 56:     sellingPrice: 39.99,
 57:     stock: 85,
 58:     safetyStock: 15,
 59:   },
 60:   {
 61:     id: "3",
 62:     sku: "DR-001",
 63:     name: "Summer Dress",
 64:     description: "Light and airy dress for summer days",
 65:     category: "Dresses",
 66:     categories: ["3"],
 67:     costPrice: 22.00,
 68:     sellingPrice: 49.99,
 69:     stock: 42,
 70:     safetyStock: 10,
 71:   },
 72:   {
 73:     id: "4",
 74:     sku: "AC-001",
 75:     name: "Leather Belt",
 76:     description: "Classic leather belt with metal buckle",
 77:     category: "Accessories",
 78:     categories: ["4"],
 79:     costPrice: 8.25,
 80:     sellingPrice: 19.99,
 81:     stock: 65,
 82:     safetyStock: 12,
 83:   },
 84:   {
 85:     id: "5",
 86:     sku: "SH-002",
 87:     name: "Polo Shirt",
 88:     description: "Classic polo shirt with embroidered logo",
 89:     category: "Shirts",
 90:     categories: ["1"],
 91:     costPrice: 15.00,
 92:     sellingPrice: 29.99,
 93:     stock: 8,
 94:     safetyStock: 15,
 95:   },
 96: ];
 97: 
 98: // Create a global variable to store the updated products if it doesn't exist
 99: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedProducts')) {
100:   window.updatedProducts = [...mockProducts];
101: }
102: 
103: // Mock categories data - this would normally be in a database
104: const mockCategories = [
105:   {
106:     id: "1",
107:     name: "Shirts",
108:     description: "All types of shirts and tops",
109:     productCount: 45,
110:     status: "Active",
111:   },
112:   {
113:     id: "2",
114:     name: "Pants",
115:     description: "All types of pants and bottoms",
116:     productCount: 32,
117:     status: "Active",
118:   },
119:   {
120:     id: "3",
121:     name: "Dresses",
122:     description: "All types of dresses",
123:     productCount: 28,
124:     status: "Active",
125:   },
126:   {
127:     id: "4",
128:     name: "Accessories",
129:     description: "Belts, hats, and other accessories",
130:     productCount: 56,
131:     status: "Active",
132:   },
133:   {
134:     id: "5",
135:     name: "Shoes",
136:     description: "All types of footwear",
137:     productCount: 37,
138:     status: "Active",
139:   },
140:   {
141:     id: "6",
142:     name: "Seasonal",
143:     description: "Seasonal items and collections",
144:     productCount: 12,
145:     status: "Active",
146:   },
147: ];
148: 
149: // Create a global variable to store the updated categories if it doesn't exist
150: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedCategories')) {
151:   window.updatedCategories = [...mockCategories];
152: }
153: 
154: const productSchema = z.object({
155:   sku: z.string().min(3, { message: "SKU must be at least 3 characters" }),
156:   name: z.string().min(2, { message: "Name must be at least 2 characters" }),
157:   description: z.string().optional(),
158:   categories: z.array(z.string()).min(1, { message: "Select at least one category" }),
159:   sellingPrice: z.coerce
160:     .number()
161:     .positive({ message: "Selling price must be positive" }),
162:   safetyStock: z.coerce
163:     .number()
164:     .int()
165:     .nonnegative({ message: "Safety stock must be a non-negative integer" }),
166: });
167: 
168: type ProductFormValues = z.infer<typeof productSchema>;
169: 
170: export default function EditProductPage({ params }: { params: { id: string } }) {
171:   const router = useRouter();
172:   const { toast } = useToast();
173:   const [isLoading, setIsLoading] = useState(false);
174:   const [isFetching, setIsFetching] = useState(true);
175:   const [product, setProduct] = useState<any | null>(null);
176:   const [availableCategories, setAvailableCategories] = useState<{ id: string; name: string; status: string }[]>([]);
177: 
178:   // Load categories from our mock database
179:   useEffect(() => {
180:     const loadCategories = () => {
181:       const categories = typeof window !== 'undefined' ? window.updatedCategories : mockCategories;
182:       // Only show active categories
183:       const activeCategories = categories.filter(c => c.status === "Active").map(c => ({
184:         id: c.id,
185:         name: c.name,
186:         status: c.status
187:       }));
188:       setAvailableCategories(activeCategories);
189:     };
190:     
191:     loadCategories();
192:   }, []);
193: 
194:   const form = useForm<ProductFormValues>({
195:     resolver: zodResolver(productSchema),
196:     defaultValues: {
197:       sku: "",
198:       name: "",
199:       description: "",
200:       categories: [],
201:       sellingPrice: 0,
202:       safetyStock: 0,
203:     },
204:   });
205: 
206:   useEffect(() => {
207:     // Fetch product data
208:     const fetchProduct = async () => {
209:       setIsFetching(true);
210:       try {
211:         // In a real app, this would be an API call
212:         // const response = await fetch(`/api/products/${params.id}`);
213:         // const data = await response.json();
214:         
215:         // Get data from our mock database (window.updatedProducts)
216:         setTimeout(() => {
217:           const products = typeof window !== 'undefined' ? window.updatedProducts : mockProducts;
218:           const foundProduct = products.find(p => p.id === params.id);
219:           
220:           if (foundProduct) {
221:             // Ensure the product has a categories array
222:             if (!foundProduct.categories) {
223:               // If no categories array exists, create one with the categoryId
224:               foundProduct.categories = foundProduct.categoryId ? [foundProduct.categoryId] : [];
225:             }
226:             
227:             setProduct(foundProduct);
228:             form.reset({
229:               sku: foundProduct.sku,
230:               name: foundProduct.name,
231:               description: foundProduct.description || "",
232:               categories: foundProduct.categories || [],
233:               sellingPrice: foundProduct.sellingPrice,
234:               safetyStock: foundProduct.safetyStock,
235:             });
236:           }
237:           
238:           setIsFetching(false);
239:         }, 1000);
240:       } catch (error) {
241:         toast({
242:           title: "Error",
243:           description: "Failed to load product details",
244:           variant: "destructive",
245:         });
246:         setIsFetching(false);
247:       }
248:     };
249: 
250:     fetchProduct();
251:   }, [params.id, toast, form]);
252: 
253:   async function onSubmit(data: ProductFormValues) {
254:     setIsLoading(true);
255:     
256:     try {
257:       // In a real application, this would be an API call
258:       // const response = await fetch(`/api/products/${params.id}`, {
259:       //   method: "PUT",
260:       //   headers: {
261:       //     "Content-Type": "application/json",
262:       //   },
263:       //   body: JSON.stringify(data),
264:       // });
265:       
266:       // if (!response.ok) {
267:       //   throw new Error("Failed to update product");
268:       // }
269:       
270:       // Simulate API call and update our mock database
271:       await new Promise(resolve => setTimeout(resolve, 1000));
272:       
273:       // Get the primary category name from the first category in the array
274:       const primaryCategoryId = data.categories[0];
275:       const primaryCategory = availableCategories.find(c => c.id === primaryCategoryId)?.name || "";
276:       
277:       // Update the product in our mock database
278:       if (typeof window !== 'undefined') {
279:         const index = window.updatedProducts.findIndex(p => p.id === params.id);
280:         if (index !== -1) {
281:           window.updatedProducts[index] = {
282:             ...window.updatedProducts[index],
283:             ...data,
284:             category: primaryCategory, // Update the primary category name for backward compatibility
285:             categories: data.categories, // Store all selected categories
286:           };
287:           
288:           // Log the updated products for debugging
289:           console.log("Updated products:", window.updatedProducts);
290:         }
291:       }
292:       
293:       toast({
294:         title: "Product updated",
295:         description: "The product has been updated successfully.",
296:       });
297:       
298:       router.push(`/products/${params.id}`);
299:     } catch (error) {
300:       toast({
301:         title: "Error",
302:         description: error instanceof Error ? error.message : "An error occurred",
303:         variant: "destructive",
304:       });
305:     } finally {
306:       setIsLoading(false);
307:     }
308:   }
309: 
310:   return (
311:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
312:       <div className="flex items-center gap-2">
313:         <Button variant="ghost" size="icon" asChild>
314:           <Link href={`/products/${params.id}`}>
315:             <ArrowLeft className="h-4 w-4" />
316:           </Link>
317:         </Button>
318:         <h1 className="text-3xl font-bold tracking-tight">
319:           {isFetching ? <Skeleton className="h-9 w-40" /> : `Edit ${product?.name}`}
320:         </h1>
321:       </div>
322:       
323:       <Card>
324:         <CardHeader>
325:           <CardTitle>Product Information</CardTitle>
326:           <CardDescription>
327:             Update the product details
328:           </CardDescription>
329:         </CardHeader>
330:         <CardContent>
331:           {isFetching ? (
332:             <div className="space-y-4">
333:               <Skeleton className="h-10 w-full" />
334:               <Skeleton className="h-10 w-full" />
335:               <Skeleton className="h-10 w-full" />
336:               <Skeleton className="h-10 w-full" />
337:               <Skeleton className="h-10 w-full" />
338:             </div>
339:           ) : (
340:             <Form {...form}>
341:               <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
342:                 <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
343:                   <FormField
344:                     control={form.control}
345:                     name="sku"
346:                     render={({ field }) => (
347:                       <FormItem>
348:                         <FormLabel>SKU</FormLabel>
349:                         <FormControl>
350:                           <Input placeholder="SH-001" {...field} />
351:                         </FormControl>
352:                         <FormDescription>
353:                           Unique identifier for the product
354:                         </FormDescription>
355:                         <FormMessage />
356:                       </FormItem>
357:                     )}
358:                   />
359:                   
360:                   <FormField
361:                     control={form.control}
362:                     name="name"
363:                     render={({ field }) => (
364:                       <FormItem>
365:                         <FormLabel>Name</FormLabel>
366:                         <FormControl>
367:                           <Input placeholder="Cotton T-Shirt" {...field} />
368:                         </FormControl>
369:                         <FormMessage />
370:                       </FormItem>
371:                     )}
372:                   />
373:                 </div>
374:                 
375:                 <FormField
376:                   control={form.control}
377:                   name="description"
378:                   render={({ field }) => (
379:                     <FormItem>
380:                       <FormLabel>Description</FormLabel>
381:                       <FormControl>
382:                         <Textarea
383:                           placeholder="Product description..."
384:                           {...field}
385:                         />
386:                       </FormControl>
387:                       <FormMessage />
388:                     </FormItem>
389:                   )}
390:                 />
391:                 
392:                 <FormField
393:                   control={form.control}
394:                   name="categories"
395:                   render={() => (
396:                     <FormItem>
397:                       <div className="mb-4">
398:                         <FormLabel className="text-base">Categories</FormLabel>
399:                         <FormDescription>
400:                           Select one or more categories for this product
401:                         </FormDescription>
402:                       </div>
403:                       <div className="grid grid-cols-2 md:grid-cols-3 gap-2">
404:                         {availableCategories.map((category) => (
405:                           <FormField
406:                             key={category.id}
407:                             control={form.control}
408:                             name="categories"
409:                             render={({ field }) => {
410:                               return (
411:                                 <FormItem
412:                                   key={category.id}
413:                                   className="flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4"
414:                                 >
415:                                   <FormControl>
416:                                     <Checkbox
417:                                       checked={field.value?.includes(category.id)}
418:                                       onCheckedChange={(checked) => {
419:                                         return checked
420:                                           ? field.onChange([...field.value, category.id])
421:                                           : field.onChange(
422:                                               field.value?.filter(
423:                                                 (value) => value !== category.id
424:                                               )
425:                                             )
426:                                       }}
427:                                     />
428:                                   </FormControl>
429:                                   <FormLabel className="font-normal">
430:                                     {category.name}
431:                                   </FormLabel>
432:                                 </FormItem>
433:                               )
434:                             }}
435:                           />
436:                         ))}
437:                       </div>
438:                       <FormMessage />
439:                     </FormItem>
440:                   )}
441:                 />
442:                 
443:                 <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
444:                   <FormField
445:                     control={form.control}
446:                     name="sellingPrice"
447:                     render={({ field }) => (
448:                       <FormItem>
449:                         <FormLabel>Selling Price</FormLabel>
450:                         <FormControl>
451:                           <Input
452:                             type="number"
453:                             step="0.01"
454:                             placeholder="0.00"
455:                             {...field}
456:                           />
457:                         </FormControl>
458:                         <FormMessage />
459:                       </FormItem>
460:                     )}
461:                   />
462:                   
463:                   <FormField
464:                     control={form.control}
465:                     name="safetyStock"
466:                     render={({ field }) => (
467:                       <FormItem>
468:                         <FormLabel>Safety Stock</FormLabel>
469:                         <FormControl>
470:                           <Input
471:                             type="number"
472:                             placeholder="0"
473:                             {...field}
474:                           />
475:                         </FormControl>
476:                         <FormDescription>
477:                           Minimum stock level before reordering
478:                         </FormDescription>
479:                         <FormMessage />
480:                       </FormItem>
481:                     )}
482:                   />
483:                 </div>
484:                 
485:                 <div className="flex justify-end space-x-2">
486:                   <Button
487:                     variant="outline"
488:                     onClick={() => router.push(`/products/${params.id}`)}
489:                     type="button"
490:                   >
491:                     Cancel
492:                   </Button>
493:                   <Button type="submit" disabled={isLoading}>
494:                     {isLoading ? "Saving..." : "Save Changes"}
495:                   </Button>
496:                 </div>
497:               </form>
498:             </Form>
499:           )}
500:         </CardContent>
501:       </Card>
502:     </div>
503:   );
504: }
```

## app\products\[id]\page.tsx

- Characters: 16019
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import Link from "next/link";
  6: import { ArrowLeft, Edit, Package, Tag } from "lucide-react";
  7: import { Button } from "@/components/ui/button";
  8: import {
  9:   Card,
 10:   CardContent,
 11:   CardDescription,
 12:   CardHeader,
 13:   CardTitle,
 14: } from "@/components/ui/card";
 15: import { Skeleton } from "@/components/ui/skeleton";
 16: import { Badge } from "@/components/ui/badge";
 17: import { DeleteButton } from "@/components/shared/delete-button";
 18: import { useToast } from "@/hooks/use-toast";
 19: 
 20: // Mock products data - this would normally be in a database
 21: const mockProducts = [
 22:   {
 23:     id: "1",
 24:     sku: "SH-001",
 25:     name: "Cotton T-Shirt",
 26:     description: "Comfortable cotton t-shirt for everyday wear",
 27:     category: "Shirts",
 28:     categories: ["1"],
 29:     costPrice: 12.50,
 30:     sellingPrice: 24.99,
 31:     stock: 120,
 32:     safetyStock: 20,
 33:   },
 34:   {
 35:     id: "2",
 36:     sku: "PA-001",
 37:     name: "Slim Fit Jeans",
 38:     description: "Stylish slim fit jeans for a modern look",
 39:     category: "Pants",
 40:     categories: ["2"],
 41:     costPrice: 18.75,
 42:     sellingPrice: 39.99,
 43:     stock: 85,
 44:     safetyStock: 15,
 45:   },
 46:   {
 47:     id: "3",
 48:     sku: "DR-001",
 49:     name: "Summer Dress",
 50:     description: "Light and airy dress for summer days",
 51:     category: "Dresses",
 52:     categories: ["3"],
 53:     costPrice: 22.00,
 54:     sellingPrice: 49.99,
 55:     stock: 42,
 56:     safetyStock: 10,
 57:   },
 58:   {
 59:     id: "4",
 60:     sku: "AC-001",
 61:     name: "Leather Belt",
 62:     description: "Classic leather belt with metal buckle",
 63:     category: "Accessories",
 64:     categories: ["4"],
 65:     costPrice: 8.25,
 66:     sellingPrice: 19.99,
 67:     stock: 65,
 68:     safetyStock: 12,
 69:   },
 70:   {
 71:     id: "5",
 72:     sku: "SH-002",
 73:     name: "Polo Shirt",
 74:     description: "Classic polo shirt with embroidered logo",
 75:     category: "Shirts",
 76:     categories: ["1"],
 77:     costPrice: 15.00,
 78:     sellingPrice: 29.99,
 79:     stock: 8,
 80:     safetyStock: 15,
 81:   },
 82: ];
 83: 
 84: // Create a global variable to store the updated products if it doesn't exist
 85: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedProducts')) {
 86:   window.updatedProducts = [...mockProducts];
 87: }
 88: 
 89: // Mock categories data - this would normally be in a database
 90: const mockCategories = [
 91:   {
 92:     id: "1",
 93:     name: "Shirts",
 94:     description: "All types of shirts and tops",
 95:     productCount: 45,
 96:     status: "Active",
 97:   },
 98:   {
 99:     id: "2",
100:     name: "Pants",
101:     description: "All types of pants and bottoms",
102:     productCount: 32,
103:     status: "Active",
104:   },
105:   {
106:     id: "3",
107:     name: "Dresses",
108:     description: "All types of dresses",
109:     productCount: 28,
110:     status: "Active",
111:   },
112:   {
113:     id: "4",
114:     name: "Accessories",
115:     description: "Belts, hats, and other accessories",
116:     productCount: 56,
117:     status: "Active",
118:   },
119:   {
120:     id: "5",
121:     name: "Shoes",
122:     description: "All types of footwear",
123:     productCount: 37,
124:     status: "Active",
125:   },
126:   {
127:     id: "6",
128:     name: "Seasonal",
129:     description: "Seasonal items and collections",
130:     productCount: 12,
131:     status: "Active",
132:   },
133: ];
134: 
135: // Create a global variable to store the updated categories if it doesn't exist
136: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedCategories')) {
137:   window.updatedCategories = [...mockCategories];
138: }
139: 
140: interface Product {
141:   id: string;
142:   sku: string;
143:   name: string;
144:   description: string;
145:   category: string;
146:   categories: string[];
147:   costPrice: number;
148:   sellingPrice: number;
149:   stock: number;
150:   safetyStock: number;
151: }
152: 
153: export default function ProductDetailsPage({ params }: { params: { id: string } }) {
154:   const router = useRouter();
155:   const { toast } = useToast();
156:   const [product, setProduct] = useState<Product | null>(null);
157:   const [isLoading, setIsLoading] = useState(true);
158:   const [productCategories, setProductCategories] = useState<string[]>([]);
159: 
160:   useEffect(() => {
161:     // Fetch product details
162:     const fetchProduct = async () => {
163:       setIsLoading(true);
164:       try {
165:         // Get data from our mock database (window.updatedProducts)
166:         setTimeout(() => {
167:           const products = typeof window !== 'undefined' ? window.updatedProducts : mockProducts;
168:           const foundProduct = products.find(p => p.id === params.id);
169:           
170:           if (foundProduct) {
171:             // Ensure the product has a categories array
172:             if (!foundProduct.categories) {
173:               // If no categories array exists, create one with the categoryId
174:               foundProduct.categories = foundProduct.categoryId ? [foundProduct.categoryId] : [];
175:             }
176:             
177:             setProduct(foundProduct);
178:             
179:             // Get category names from category IDs
180:             const categories = typeof window !== 'undefined' ? window.updatedCategories : mockCategories;
181:             const categoryNames = foundProduct.categories.map(categoryId => {
182:               const category = categories.find(c => c.id === categoryId);
183:               return category ? category.name : "Unknown";
184:             });
185:             
186:             setProductCategories(categoryNames);
187:           }
188:           
189:           setIsLoading(false);
190:         }, 1000);
191:       } catch (error) {
192:         toast({
193:           title: "Error",
194:           description: "Failed to load product details",
195:           variant: "destructive",
196:         });
197:         setIsLoading(false);
198:       }
199:     };
200: 
201:     fetchProduct();
202:   }, [params.id, toast]);
203: 
204:   const handleDelete = async (id: string) => {
205:     // Simulate API call to delete product
206:     return new Promise<void>((resolve, reject) => {
207:       setTimeout(() => {
208:         // Update our mock database
209:         if (typeof window !== 'undefined') {
210:           window.updatedProducts = window.updatedProducts.filter(p => p.id !== id);
211:         }
212:         
213:         router.push("/products");
214:         resolve();
215:       }, 1000);
216:     });
217:   };
218: 
219:   const getStockStatus = (stock: number, safetyStock: number) => {
220:     if (stock <= 0) {
221:       return { label: "Out of Stock", color: "bg-red-500" };
222:     } else if (stock <= safetyStock) {
223:       return { label: "Low Stock", color: "bg-amber-500" };
224:     } else {
225:       return { label: "In Stock", color: "bg-emerald-500" };
226:     }
227:   };
228: 
229:   return (
230:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
231:       <div className="flex items-center justify-between">
232:         <div className="flex items-center gap-2">
233:           <Button variant="ghost" size="icon" asChild>
234:             <Link href="/products">
235:               <ArrowLeft className="h-4 w-4" />
236:             </Link>
237:           </Button>
238:           <h1 className="text-3xl font-bold tracking-tight">
239:             {isLoading ? <Skeleton className="h-9 w-40" /> : product?.name}
240:           </h1>
241:         </div>
242:         
243:         <div className="flex items-center gap-2">
244:           {!isLoading && product && (
245:             <>
246:               <Button variant="outline" size="sm" asChild>
247:                 <Link href={`/products/${params.id}/edit`}>
248:                   <Edit className="mr-2 h-4 w-4" />
249:                   Edit
250:                 </Link>
251:               </Button>
252:               
253:               <DeleteButton
254:                 id={params.id}
255:                 name={product.name}
256:                 onDelete={handleDelete}
257:               />
258:             </>
259:           )}
260:         </div>
261:       </div>
262:       
263:       {isLoading ? (
264:         <Card>
265:           <CardHeader>
266:             <Skeleton className="h-7 w-40 mb-2" />
267:             <Skeleton className="h-5 w-60" />
268:           </CardHeader>
269:           <CardContent className="space-y-4">
270:             <Skeleton className="h-5 w-full" />
271:             <Skeleton className="h-5 w-3/4" />
272:             <Skeleton className="h-5 w-1/2" />
273:           </CardContent>
274:         </Card>
275:       ) : product ? (
276:         <>
277:           <Card>
278:             <CardHeader>
279:               <CardTitle className="flex items-center justify-between">
280:                 Product Details
281:                 {product && (
282:                   <Badge className={getStockStatus(product.stock, product.safetyStock).color}>
283:                     {getStockStatus(product.stock, product.safetyStock).label}
284:                   </Badge>
285:                 )}
286:               </CardTitle>
287:               <CardDescription>
288:                 Detailed information about this product
289:               </CardDescription>
290:             </CardHeader>
291:             <CardContent className="space-y-6">
292:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
293:                 <div>
294:                   <h3 className="text-sm font-medium text-muted-foreground">SKU</h3>
295:                   <p className="text-base">{product.sku}</p>
296:                 </div>
297:                 <div>
298:                   <h3 className="text-sm font-medium text-muted-foreground">Categories</h3>
299:                   <div className="flex flex-wrap gap-1 mt-1">
300:                     {productCategories.map((category, index) => (
301:                       <Badge key={index} variant="outline" className="mr-1">
302:                         {category}
303:                       </Badge>
304:                     ))}
305:                   </div>
306:                 </div>
307:               </div>
308:               
309:               <div>
310:                 <h3 className="text-sm font-medium text-muted-foreground">Description</h3>
311:                 <p className="text-base">{product.description}</p>
312:               </div>
313:               
314:               <div className="grid grid-cols-1 gap-4 md:grid-cols-4">
315:                 <div>
316:                   <h3 className="text-sm font-medium text-muted-foreground">Cost Price</h3>
317:                   <p className="text-base">${product.costPrice.toFixed(2)}</p>
318:                 </div>
319:                 <div>
320:                   <h3 className="text-sm font-medium text-muted-foreground">Selling Price</h3>
321:                   <p className="text-base">${product.sellingPrice.toFixed(2)}</p>
322:                 </div>
323:                 <div>
324:                   <h3 className="text-sm font-medium text-muted-foreground">Current Stock</h3>
325:                   <p className="text-base">{product.stock}</p>
326:                 </div>
327:                 <div>
328:                   <h3 className="text-sm font-medium text-muted-foreground">Safety Stock</h3>
329:                   <p className="text-base">{product.safetyStock}</p>
330:                 </div>
331:               </div>
332:               
333:               <div>
334:                 <h3 className="text-sm font-medium text-muted-foreground">Profit Margin</h3>
335:                 <p className="text-base">
336:                   {product.costPrice > 0 
337:                     ? `${(((product.sellingPrice - product.costPrice) / product.sellingPrice) * 100).toFixed(2)}%` 
338:                     : "N/A"}
339:                 </p>
340:               </div>
341:             </CardContent>
342:           </Card>
343:           
344:           <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
345:             <Card>
346:               <CardHeader>
347:                 <CardTitle className="flex items-center">
348:                   <Package className="mr-2 h-5 w-5" />
349:                   Inventory
350:                 </CardTitle>
351:                 <CardDescription>
352:                   Current inventory levels across warehouses
353:                 </CardDescription>
354:               </CardHeader>
355:               <CardContent>
356:                 <div className="space-y-2">
357:                   <div className="flex justify-between items-center py-2 border-b">
358:                     <span>Main Store</span>
359:                     <span className="font-medium">{Math.floor(product.stock * 0.7)}</span>
360:                   </div>
361:                   <div className="flex justify-between items-center py-2 border-b">
362:                     <span>Downtown Branch</span>
363:                     <span className="font-medium">{Math.floor(product.stock * 0.3)}</span>
364:                   </div>
365:                   <div className="flex justify-between items-center py-2">
366:                     <span className="font-semibold">Total</span>
367:                     <span className="font-semibold">{product.stock}</span>
368:                   </div>
369:                 </div>
370:               </CardContent>
371:             </Card>
372:             
373:             <Card>
374:               <CardHeader>
375:                 <CardTitle className="flex items-center">
376:                   <Tag className="mr-2 h-5 w-5" />
377:                   Pricing History
378:                 </CardTitle>
379:                 <CardDescription>
380:                   Recent price changes for this product
381:                 </CardDescription>
382:               </CardHeader>
383:               <CardContent>
384:                 <div className="space-y-2">
385:                   <div className="flex justify-between items-center py-2 border-b">
386:                     <div>
387:                       <p className="font-medium">Initial Price</p>
388:                       <p className="text-sm text-muted-foreground">May 15, 2023</p>
389:                     </div>
390:                     <span className="font-medium">${(product.sellingPrice - 2).toFixed(2)}</span>
391:                   </div>
392:                   <div className="flex justify-between items-center py-2">
393:                     <div>
394:                       <p className="font-medium">Current Price</p>
395:                       <p className="text-sm text-muted-foreground">Jun 10, 2023</p>
396:                     </div>
397:                     <span className="font-medium">${product.sellingPrice.toFixed(2)}</span>
398:                   </div>
399:                 </div>
400:               </CardContent>
401:             </Card>
402:           </div>
403:         </>
404:       ) : (
405:         <Card>
406:           <CardContent className="flex flex-col items-center justify-center py-10">
407:             <h2 className="text-xl font-semibold mb-2">Product Not Found</h2>
408:             <p className="text-muted-foreground mb-4">
409:               The product you're looking for doesn't exist or has been removed.
410:             </p>
411:             <Button asChild>
412:               <Link href="/products">Back to Products</Link>
413:             </Button>
414:           </CardContent>
415:         </Card>
416:       )}
417:     </div>
418:   );
419: }
```

## app\purchases\edit\page.tsx

- Characters: 14424
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import { useForm } from "react-hook-form";
  6: import { zodResolver } from "@hookform/resolvers/zod";
  7: import * as z from "zod";
  8: import { ArrowLeft } from "lucide-react";
  9: import Link from "next/link";
 10: 
 11: import { Button } from "@/components/ui/button";
 12: import {
 13:   Form,
 14:   FormControl,
 15:   FormDescription,
 16:   FormField,
 17:   FormItem,
 18:   FormLabel,
 19:   FormMessage,
 20: } from "@/components/ui/form";
 21: import { Input } from "@/components/ui/input";
 22: import { Textarea } from "@/components/ui/textarea";
 23: import {
 24:   Select,
 25:   SelectContent,
 26:   SelectItem,
 27:   SelectTrigger,
 28:   SelectValue,
 29: } from "@/components/ui/select";
 30: import { useToast } from "@/hooks/use-toast";
 31: import {
 32:   Card,
 33:   CardContent,
 34:   CardDescription,
 35:   CardHeader,
 36:   CardTitle,
 37: } from "@/components/ui/card";
 38: import { Skeleton } from "@/components/ui/skeleton";
 39: 
 40: // Mock purchase orders data
 41: const mockPurchases = [
 42:   {
 43:     id: "1",
 44:     orderNumber: "PO-2023-001",
 45:     supplier: "Fashion Wholesale Co.",
 46:     supplierId: "1",
 47:     status: "RECEIVED",
 48:     orderDate: new Date("2023-05-15"),
 49:     deliveryDate: new Date("2023-05-25"),
 50:     notes: "Summer collection order",
 51:     totalItems: 120,
 52:     totalAmount: 1850.75,
 53:     items: [
 54:       {
 55:         id: "1",
 56:         productId: "1",
 57:         sku: "SH-001",
 58:         name: "Cotton T-Shirt",
 59:         quantity: 80,
 60:         unitPrice: 12.50,
 61:         receivedQuantity: 80
 62:       },
 63:       {
 64:         id: "2",
 65:         productId: "5",
 66:         sku: "SH-002",
 67:         name: "Polo Shirt",
 68:         quantity: 40,
 69:         unitPrice: 15.00,
 70:         receivedQuantity: 40
 71:       }
 72:     ]
 73:   },
 74:   {
 75:     id: "2",
 76:     orderNumber: "PO-2023-002",
 77:     supplier: "Textile Suppliers Inc.",
 78:     supplierId: "2",
 79:     status: "ORDERED",
 80:     orderDate: new Date("2023-06-02"),
 81:     deliveryDate: new Date("2023-06-12"),
 82:     notes: "Fall collection pre-order",
 83:     totalItems: 85,
 84:     totalAmount: 1245.50,
 85:     items: [
 86:       {
 87:         id: "3",
 88:         productId: "2",
 89:         sku: "PA-001",
 90:         name: "Slim Fit Jeans",
 91:         quantity: 50,
 92:         unitPrice: 18.75,
 93:         receivedQuantity: 0
 94:       },
 95:       {
 96:         id: "4",
 97:         productId: "3",
 98:         sku: "DR-001",
 99:         name: "Summer Dress",
100:         quantity: 35,
101:         unitPrice: 22.00,
102:         receivedQuantity: 0
103:       }
104:     ]
105:   },
106:   {
107:     id: "3",
108:     orderNumber: "PO-2023-003",
109:     supplier: "Apparel Manufacturing Ltd.",
110:     supplierId: "3",
111:     status: "DRAFT",
112:     orderDate: new Date("2023-06-10"),
113:     deliveryDate: null,
114:     notes: "Winter collection planning",
115:     totalItems: 200,
116:     totalAmount: 3200.00,
117:     items: [
118:       {
119:         id: "5",
120:         productId: "1",
121:         sku: "SH-001",
122:         name: "Cotton T-Shirt",
123:         quantity: 100,
124:         unitPrice: 12.00,
125:         receivedQuantity: 0
126:       },
127:       {
128:         id: "6",
129:         productId: "2",
130:         sku: "PA-001",
131:         name: "Slim Fit Jeans",
132:         quantity: 100,
133:         unitPrice: 20.00,
134:         receivedQuantity: 0
135:       }
136:     ]
137:   },
138:   {
139:     id: "4",
140:     orderNumber: "PO-2023-004",
141:     supplier: "Fashion Wholesale Co.",
142:     supplierId: "1",
143:     status: "CANCELLED",
144:     orderDate: new Date("2023-05-20"),
145:     deliveryDate: null,
146:     notes: "Cancelled due to pricing issues",
147:     totalItems: 50,
148:     totalAmount: 750.25,
149:     items: [
150:       {
151:         id: "7",
152:         productId: "4",
153:         sku: "AC-001",
154:         name: "Leather Belt",
155:         quantity: 50,
156:         unitPrice: 15.00,
157:         receivedQuantity: 0
158:       }
159:     ]
160:   },
161: ];
162: 
163: // Create a global variable to store the updated purchases if it doesn't exist
164: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedPurchases')) {
165:   window.updatedPurchases = [...mockPurchases];
166: }
167: 
168: // Mock suppliers data
169: const suppliers = [
170:   { id: "1", name: "Fashion Wholesale Co." },
171:   { id: "2", name: "Textile Suppliers Inc." },
172:   { id: "3", name: "Apparel Manufacturing Ltd." },
173:   { id: "4", name: "Fabric Importers Co." },
174:   { id: "5", name: "Accessory Distributors" },
175: ];
176: 
177: const purchaseSchema = z.object({
178:   supplierId: z.string({ required_error: "Please select a supplier" }),
179:   status: z.enum(["DRAFT", "ORDERED", "RECEIVED", "CANCELLED"]),
180:   deliveryDate: z.date().optional().nullable(),
181:   notes: z.string().optional(),
182: });
183: 
184: type PurchaseFormValues = z.infer<typeof purchaseSchema>;
185: 
186: export default function EditPurchasePage({ params }: { params: { id: string } }) {
187:   const router = useRouter();
188:   const { toast } = useToast();
189:   const [isLoading, setIsLoading] = useState(false);
190:   const [isFetching, setIsFetching] = useState(true);
191:   const [purchase, setPurchase] = useState<any | null>(null);
192: 
193:   const form = useForm<PurchaseFormValues>({
194:     resolver: zodResolver(purchaseSchema),
195:     defaultValues: {
196:       supplierId: "",
197:       status: "DRAFT",
198:       deliveryDate: null,
199:       notes: "",
200:     },
201:   });
202: 
203:   useEffect(() => {
204:     // Fetch purchase data
205:     const fetchPurchase = async () => {
206:       setIsFetching(true);
207:       try {
208:         // In a real app, this would be an API call
209:         // const response = await fetch(`/api/purchases/${params.id}`);
210:         // const data = await response.json();
211:         
212:         // Get data from our mock database
213:         setTimeout(() => {
214:           const purchases = typeof window !== 'undefined' ? window.updatedPurchases : mockPurchases;
215:           const foundPurchase = purchases.find(p => p.id === params.id);
216:           
217:           if (foundPurchase) {
218:             setPurchase(foundPurchase);
219:             form.reset({
220:               supplierId: foundPurchase.supplierId,
221:               status: foundPurchase.status as any,
222:               deliveryDate: foundPurchase.deliveryDate,
223:               notes: foundPurchase.notes || "",
224:             });
225:           }
226:           
227:           setIsFetching(false);
228:         }, 1000);
229:       } catch (error) {
230:         toast({
231:           title: "Error",
232:           description: "Failed to load purchase order details",
233:           variant: "destructive",
234:         });
235:         setIsFetching(false);
236:       }
237:     };
238: 
239:     fetchPurchase();
240:   }, [params.id, toast, form]);
241: 
242:   async function onSubmit(data: PurchaseFormValues) {
243:     setIsLoading(true);
244:     
245:     try {
246:       // In a real application, this would be an API call
247:       // const response = await fetch(`/api/purchases/${params.id}`, {
248:       //   method: "PUT",
249:       //   headers: {
250:       //     "Content-Type": "application/json",
251:       //   },
252:       //   body: JSON.stringify(data),
253:       // });
254:       
255:       // if (!response.ok) {
256:       //   throw new Error("Failed to update purchase order");
257:       // }
258:       
259:       // Simulate API call and update our mock database
260:       await new Promise(resolve => setTimeout(resolve, 1000));
261:       
262:       // Get the supplier name from the supplierId
263:       const supplier = suppliers.find(s => s.id === data.supplierId)?.name || "";
264:       
265:       // Update the purchase in our mock database
266:       if (typeof window !== 'undefined') {
267:         const index = window.updatedPurchases.findIndex(p => p.id === params.id);
268:         if (index !== -1) {
269:           window.updatedPurchases[index] = {
270:             ...window.updatedPurchases[index],
271:             ...data,
272:             supplier, // Add the supplier name
273:           };
274:         }
275:       }
276:       
277:       toast({
278:         title: "Purchase order updated",
279:         description: "The purchase order has been updated successfully.",
280:       });
281:       
282:       router.push(`/purchases/${params.id}`);
283:     } catch (error) {
284:       toast({
285:         title: "Error",
286:         description: error instanceof Error ? error.message : "An error occurred",
287:         variant: "destructive",
288:       });
289:     } finally {
290:       setIsLoading(false);
291:     }
292:   }
293: 
294:   return (
295:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
296:       <div className="flex items-center gap-2">
297:         <Button variant="ghost" size="icon" asChild>
298:           <Link href={`/purchases/${params.id}`}>
299:             <ArrowLeft className="h-4 w-4" />
300:           </Link>
301:         </Button>
302:         <h1 className="text-3xl font-bold tracking-tight">
303:           {isFetching ? <Skeleton className="h-9 w-40" /> : `Edit ${purchase?.orderNumber}`}
304:         </h1>
305:       </div>
306:       
307:       <Card>
308:         <CardHeader>
309:           <CardTitle>Purchase Order Information</CardTitle>
310:           <CardDescription>
311:             Update the purchase order details
312:           </CardDescription>
313:         </CardHeader>
314:         <CardContent>
315:           {isFetching ? (
316:             <div className="space-y-4">
317:               <Skeleton className="h-10 w-full" />
318:               <Skeleton className="h-10 w-full" />
319:               <Skeleton className="h-10 w-full" />
320:               <Skeleton className="h-10 w-full" />
321:             </div>
322:           ) : (
323:             <Form {...form}>
324:               <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
325:                 <FormField
326:                   control={form.control}
327:                   name="supplierId"
328:                   render={({ field }) => (
329:                     <FormItem>
330:                       <FormLabel>Supplier</FormLabel>
331:                       <Select
332:                         onValueChange={field.onChange}
333:                         defaultValue={field.value}
334:                       >
335:                         <FormControl>
336:                           <SelectTrigger>
337:                             <SelectValue placeholder="Select a supplier" />
338:                           </SelectTrigger>
339:                         </FormControl>
340:                         <SelectContent>
341:                           {suppliers.map((supplier) => (
342:                             <SelectItem key={supplier.id} value={supplier.id}>
343:                               {supplier.name}
344:                             </SelectItem>
345:                           ))}
346:                         </SelectContent>
347:                       </Select>
348:                       <FormMessage />
349:                     </FormItem>
350:                   )}
351:                 />
352:                 
353:                 <FormField
354:                   control={form.control}
355:                   name="status"
356:                   render={({ field }) => (
357:                     <FormItem>
358:                       <FormLabel>Status</FormLabel>
359:                       <Select
360:                         onValueChange={field.onChange}
361:                         defaultValue={field.value}
362:                       >
363:                         <FormControl>
364:                           <SelectTrigger>
365:                             <SelectValue placeholder="Select status" />
366:                           </SelectTrigger>
367:                         </FormControl>
368:                         <SelectContent>
369:                           <SelectItem value="DRAFT">Draft</SelectItem>
370:                           <SelectItem value="ORDERED">Ordered</SelectItem>
371:                           <SelectItem value="RECEIVED">Received</SelectItem>
372:                           <SelectItem value="CANCELLED">Cancelled</SelectItem>
373:                         </SelectContent>
374:                       </Select>
375:                       <FormMessage />
376:                     </FormItem>
377:                   )}
378:                 />
379:                 
380:                 <FormField
381:                   control={form.control}
382:                   name="notes"
383:                   render={({ field }) => (
384:                     <FormItem>
385:                       <FormLabel>Notes</FormLabel>
386:                       <FormControl>
387:                         <Textarea
388:                           placeholder="Purchase order notes..."
389:                           {...field}
390:                         />
391:                       </FormControl>
392:                       <FormMessage />
393:                     </FormItem>
394:                   )}
395:                 />
396:                 
397:                 <div className="flex justify-end space-x-2">
398:                   <Button
399:                     variant="outline"
400:                     onClick={() => router.push(`/purchases/${params.id}`)}
401:                     type="button"
402:                   >
403:                     Cancel
404:                   </Button>
405:                   <Button type="submit" disabled={isLoading}>
406:                     {isLoading ? "Saving..." : "Save Changes"}
407:                   </Button>
408:                 </div>
409:               </form>
410:             </Form>
411:           )}
412:         </CardContent>
413:       </Card>
414:     </div>
415:   );
416: }
```

## app\purchases\layout.tsx

- Characters: 2401
- Tokens: 0

```text
 1: "use client";
 2: 
 3: import { useEffect, useState } from "react";
 4: import { useRouter, usePathname } from "next/navigation";
 5: import { Sidebar } from "@/components/layout/sidebar";
 6: import { Header } from "@/components/layout/header";
 7: import { useAuth } from "@/hooks/use-auth";
 8: import { Loader2 } from "lucide-react";
 9: 
10: export default function PurchasesLayout({
11:   children,
12: }: {
13:   children: React.ReactNode;
14: }) {
15:   const { user } = useAuth();
16:   const router = useRouter();
17:   const pathname = usePathname();
18:   const [isLoading, setIsLoading] = useState(true);
19:   const [currentPath, setCurrentPath] = useState(pathname);
20:   const [isTransitioning, setIsTransitioning] = useState(false);
21:   
22:   // Handle authentication check
23:   useEffect(() => {
24:     if (!user) {
25:       router.push("/login");
26:     } else {
27:       // Simulate loading delay
28:       const timer = setTimeout(() => {
29:         setIsLoading(false);
30:       }, 500);
31:       
32:       return () => clearTimeout(timer);
33:     }
34:   }, [user, router]);
35:   
36:   // Handle route transitions
37:   useEffect(() => {
38:     if (pathname !== currentPath) {
39:       setIsTransitioning(true);
40:       
41:       // Short delay to allow transition to complete
42:       const timer = setTimeout(() => {
43:         setCurrentPath(pathname);
44:         setIsTransitioning(false);
45:       }, 300);
46:       
47:       return () => clearTimeout(timer);
48:     }
49:   }, [pathname, currentPath]);
50:   
51:   if (!user || isLoading) {
52:     return (
53:       <div className="flex min-h-screen items-center justify-center">
54:         <div className="flex flex-col items-center space-y-4">
55:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
56:           <p className="text-lg font-medium">Loading...</p>
57:         </div>
58:       </div>
59:     );
60:   }
61:   
62:   return (
63:     <div className="flex min-h-screen">
64:       <div className="hidden md:block">
65:         <Sidebar />
66:       </div>
67:       <div className="flex flex-col flex-1">
68:         <Header />
69:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
70:           {children}
71:         </main>
72:       </div>
73:     </div>
74:   );
75: }
```

## app\purchases\new\page.tsx

- Characters: 16311
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import { useForm } from "react-hook-form";
  6: import { zodResolver } from "@hookform/resolvers/zod";
  7: import * as z from "zod";
  8: import { ArrowLeft, Package } from "lucide-react";
  9: import Link from "next/link";
 10: 
 11: import { Button } from "@/components/ui/button";
 12: import {
 13:   Form,
 14:   FormControl,
 15:   FormDescription,
 16:   FormField,
 17:   FormItem,
 18:   FormLabel,
 19:   FormMessage,
 20: } from "@/components/ui/form";
 21: import { Input } from "@/components/ui/input";
 22: import { Textarea } from "@/components/ui/textarea";
 23: import {
 24:   Select,
 25:   SelectContent,
 26:   SelectItem,
 27:   SelectTrigger,
 28:   SelectValue,
 29: } from "@/components/ui/select";
 30: import { useToast } from "@/hooks/use-toast";
 31: import {
 32:   Card,
 33:   CardContent,
 34:   CardDescription,
 35:   CardHeader,
 36:   CardTitle,
 37:   CardFooter,
 38: } from "@/components/ui/card";
 39: import { ProductSelector } from "@/components/purchases/product-selector";
 40: 
 41: // Mock purchase orders data
 42: const mockPurchases = [
 43:   {
 44:     id: "1",
 45:     orderNumber: "PO-2023-001",
 46:     supplier: "Fashion Wholesale Co.",
 47:     supplierId: "1",
 48:     status: "RECEIVED",
 49:     orderDate: new Date("2023-05-15"),
 50:     deliveryDate: new Date("2023-05-25"),
 51:     notes: "Summer collection order",
 52:     totalItems: 120,
 53:     totalAmount: 1850.75,
 54:     items: []
 55:   },
 56:   {
 57:     id: "2",
 58:     orderNumber: "PO-2023-002",
 59:     supplier: "Textile Suppliers Inc.",
 60:     supplierId: "2",
 61:     status: "ORDERED",
 62:     orderDate: new Date("2023-06-02"),
 63:     deliveryDate: new Date("2023-06-12"),
 64:     notes: "Fall collection pre-order",
 65:     totalItems: 85,
 66:     totalAmount: 1245.50,
 67:     items: []
 68:   },
 69:   {
 70:     id: "3",
 71:     orderNumber: "PO-2023-003",
 72:     supplier: "Apparel Manufacturing Ltd.",
 73:     supplierId: "3",
 74:     status: "DRAFT",
 75:     orderDate: new Date("2023-06-10"),
 76:     deliveryDate: null,
 77:     notes: "Winter collection planning",
 78:     totalItems: 200,
 79:     totalAmount: 3200.00,
 80:     items: []
 81:   },
 82:   {
 83:     id: "4",
 84:     orderNumber: "PO-2023-004",
 85:     supplier: "Fashion Wholesale Co.",
 86:     supplierId: "1",
 87:     status: "CANCELLED",
 88:     orderDate: new Date("2023-05-20"),
 89:     deliveryDate: null,
 90:     notes: "Cancelled due to pricing issues",
 91:     totalItems: 50,
 92:     totalAmount: 750.25,
 93:     items: []
 94:   },
 95: ];
 96: 
 97: // Create a global variable to store the updated purchases if it doesn't exist
 98: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedPurchases')) {
 99:   window.updatedPurchases = [...mockPurchases];
100: }
101: 
102: // Mock suppliers data - this would normally be in a database
103: const mockSuppliers = [
104:   {
105:     id: "1",
106:     name: "Fashion Wholesale Co.",
107:     contactName: "John Smith",
108:     email: "john@fashionwholesale.com",
109:     phone: "555-123-4567",
110:     address: "123 Supplier St, Supplier City",
111:     status: "Active",
112:   },
113:   {
114:     id: "2",
115:     name: "Textile Suppliers Inc.",
116:     contactName: "Jane Doe",
117:     email: "jane@textilesuppliers.com",
118:     phone: "555-987-6543",
119:     address: "456 Textile Ave, Fabric City",
120:     status: "Active",
121:   },
122:   {
123:     id: "3",
124:     name: "Apparel Manufacturing Ltd.",
125:     contactName: "Robert Johnson",
126:     email: "robert@apparelmanufacturing.com",
127:     phone: "555-456-7890",
128:     address: "789 Apparel Blvd, Manufacturing Town",
129:     status: "Inactive",
130:   },
131:   {
132:     id: "4",
133:     name: "Fabric Importers Co.",
134:     contactName: "Emily Chen",
135:     email: "emily@fabricimporters.com",
136:     phone: "555-234-5678",
137:     address: "321 Import Road, Port City",
138:     status: "Active",
139:   },
140:   {
141:     id: "5",
142:     name: "Accessory Distributors",
143:     contactName: "Michael Brown",
144:     email: "michael@accessorydist.com",
145:     phone: "555-876-5432",
146:     address: "654 Accessory Lane, Fashion District",
147:     status: "Active",
148:   },
149: ];
150: 
151: // Create a global variable to store the updated suppliers if it doesn't exist
152: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedSuppliers')) {
153:   window.updatedSuppliers = [...mockSuppliers];
154: }
155: 
156: const purchaseSchema = z.object({
157:   supplierId: z.string({ required_error: "Please select a supplier" }),
158:   notes: z.string().optional(),
159: });
160: 
161: type PurchaseFormValues = z.infer<typeof purchaseSchema>;
162: 
163: export default function NewPurchasePage() {
164:   const router = useRouter();
165:   const { toast } = useToast();
166:   const [isLoading, setIsLoading] = useState(false);
167:   const [items, setItems] = useState<any[]>([]);
168:   const [purchaseId, setPurchaseId] = useState<string | null>(null);
169:   const [suppliers, setSuppliers] = useState<any[]>([]);
170: 
171:   // Load suppliers from our mock database
172:   useEffect(() => {
173:     const loadSuppliers = () => {
174:       // Always fetch the latest suppliers data
175:       const suppliersData = typeof window !== 'undefined' ? window.updatedSuppliers : mockSuppliers;
176:       setSuppliers(suppliersData);
177:     };
178:     
179:     loadSuppliers();
180:     
181:     // Set up an interval to refresh suppliers data every few seconds
182:     const refreshInterval = setInterval(loadSuppliers, 5000);
183:     
184:     return () => clearInterval(refreshInterval);
185:   }, []);
186: 
187:   const form = useForm<PurchaseFormValues>({
188:     resolver: zodResolver(purchaseSchema),
189:     defaultValues: {
190:       supplierId: "",
191:       notes: "",
192:     },
193:   });
194: 
195:   const handleProductsSelected = (newItems: any[]) => {
196:     // Merge with existing items, avoiding duplicates by product ID
197:     const existingProductIds = new Set(items.map(item => item.productId));
198:     const filteredNewItems = newItems.filter(item => !existingProductIds.has(item.productId));
199:     
200:     setItems([...items, ...filteredNewItems]);
201:   };
202: 
203:   async function onSubmit(data: PurchaseFormValues) {
204:     setIsLoading(true);
205:     
206:     try {
207:       // In a real application, this would be an API call
208:       // const response = await fetch("/api/purchases", {
209:       //   method: "POST",
210:       //   headers: {
211:       //     "Content-Type": "application/json",
212:       //   },
213:       //   body: JSON.stringify(data),
214:       // });
215:       
216:       // if (!response.ok) {
217:       //   throw new Error("Failed to create purchase order");
218:       // }
219:       
220:       // Simulate API call and update our mock database
221:       await new Promise(resolve => setTimeout(resolve, 1000));
222:       
223:       // Get the supplier name from the supplierId
224:       const supplier = suppliers.find(s => s.id === data.supplierId)?.name || "";
225:       
226:       // Calculate total items and amount
227:       const totalItems = items.reduce((sum, item) => sum + item.quantity, 0);
228:       const totalAmount = items.reduce((sum, item) => sum + (item.quantity * item.unitPrice), 0);
229:       
230:       // Create a new purchase order with a unique ID
231:       const id = `${Date.now()}`;
232:       const newPurchase = {
233:         id,
234:         orderNumber: `PO-${new Date().getFullYear()}-${String(window.updatedPurchases?.length + 1 || 1).padStart(3, '0')}`,
235:         supplier,
236:         supplierId: data.supplierId,
237:         status: "DRAFT",
238:         orderDate: new Date(),
239:         deliveryDate: null,
240:         notes: data.notes || "",
241:         totalItems,
242:         totalAmount,
243:         items
244:       };
245:       
246:       // Add the new purchase to our mock database
247:       if (typeof window !== 'undefined') {
248:         window.updatedPurchases = [...(window.updatedPurchases || []), newPurchase];
249:       }
250:       
251:       setPurchaseId(id);
252:       
253:       toast({
254:         title: "Purchase order created",
255:         description: "The purchase order has been created successfully.",
256:       });
257:       
258:       if (items.length === 0) {
259:         router.push("/purchases");
260:       } else {
261:         router.push(`/purchases/${id}`);
262:       }
263:     } catch (error) {
264:       toast({
265:         title: "Error",
266:         description: error instanceof Error ? error.message : "An error occurred",
267:         variant: "destructive",
268:       });
269:       setIsLoading(false);
270:     }
271:   }
272: 
273:   return (
274:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
275:       <div className="flex items-center gap-2">
276:         <Button variant="ghost" size="icon" asChild>
277:           <Link href="/purchases">
278:             <ArrowLeft className="h-4 w-4" />
279:           </Link>
280:         </Button>
281:         <h1 className="text-3xl font-bold tracking-tight">New Purchase Order</h1>
282:       </div>
283:       
284:       <Card>
285:         <CardHeader>
286:           <CardTitle>Purchase Order Information</CardTitle>
287:           <CardDescription>
288:             Enter the details for the new purchase order
289:           </CardDescription>
290:         </CardHeader>
291:         <CardContent>
292:           <Form {...form}>
293:             <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
294:               <FormField
295:                 control={form.control}
296:                 name="supplierId"
297:                 render={({ field }) => (
298:                   <FormItem>
299:                     <FormLabel>Supplier</FormLabel>
300:                     <Select
301:                       onValueChange={field.onChange}
302:                       defaultValue={field.value}
303:                     >
304:                       <FormControl>
305:                         <SelectTrigger>
306:                           <SelectValue placeholder="Select a supplier" />
307:                         </SelectTrigger>
308:                       </FormControl>
309:                       <SelectContent>
310:                         {suppliers.map((supplier) => (
311:                           <SelectItem key={supplier.id} value={supplier.id}>
312:                             {supplier.name}
313:                           </SelectItem>
314:                         ))}
315:                       </SelectContent>
316:                     </Select>
317:                     <FormDescription>
318:                       Select the supplier for this purchase order
319:                     </FormDescription>
320:                     <FormMessage />
321:                   </FormItem>
322:                 )}
323:               />
324:               
325:               <FormField
326:                 control={form.control}
327:                 name="notes"
328:                 render={({ field }) => (
329:                   <FormItem>
330:                     <FormLabel>Notes</FormLabel>
331:                     <FormControl>
332:                       <Textarea
333:                         placeholder="Purchase order notes..."
334:                         {...field}
335:                       />
336:                     </FormControl>
337:                     <FormDescription>
338:                       Any additional information about this purchase order
339:                     </FormDescription>
340:                     <FormMessage />
341:                   </FormItem>
342:                 )}
343:               />
344:               
345:               <div className="flex justify-end space-x-2">
346:                 <Button
347:                   variant="outline"
348:                   onClick={() => router.push("/purchases")}
349:                   type="button"
350:                 >
351:                   Cancel
352:                 </Button>
353:                 <Button type="submit" disabled={isLoading || !!purchaseId}>
354:                   {isLoading ? "Creating..." : "Create Purchase Order"}
355:                 </Button>
356:               </div>
357:             </form>
358:           </Form>
359:         </CardContent>
360:       </Card>
361:       
362:       {purchaseId && (
363:         <Card>
364:           <CardHeader>
365:             <CardTitle className="flex items-center">
366:               <Package className="mr-2 h-5 w-5" />
367:               Add Products to Purchase Order
368:             </CardTitle>
369:             <CardDescription>
370:               Select products to add to this purchase order
371:             </CardDescription>
372:           </CardHeader>
373:           <CardContent>
374:             {items.length > 0 ? (
375:               <div className="space-y-4">
376:                 <Table>
377:                   <TableHeader>
378:                     <TableRow>
379:                       <TableHead>SKU</TableHead>
380:                       <TableHead>Product</TableHead>
381:                       <TableHead className="text-right">Quantity</TableHead>
382:                       <TableHead className="text-right">Unit Price</TableHead>
383:                       <TableHead className="text-right">Total</TableHead>
384:                     </TableRow>
385:                   </TableHeader>
386:                   <TableBody>
387:                     {items.map((item) => (
388:                       <TableRow key={item.id}>
389:                         <TableCell className="font-medium">{item.sku}</TableCell>
390:                         <TableCell>{item.name}</TableCell>
391:                         <TableCell className="text-right">{item.quantity}</TableCell>
392:                         <TableCell className="text-right">${item.unitPrice.toFixed(2)}</TableCell>
393:                         <TableCell className="text-right">${(item.quantity * item.unitPrice).toFixed(2)}</TableCell>
394:                       </TableRow>
395:                     ))}
396:                     <TableRow>
397:                       <TableCell colSpan={4} className="text-right font-bold">
398:                         Total
399:                       </TableCell>
400:                       <TableCell className="text-right font-bold">
401:                         ${items.reduce((sum, item) => sum + (item.quantity * item.unitPrice), 0).toFixed(2)}
402:                       </TableCell>
403:                     </TableRow>
404:                   </TableBody>
405:                 </Table>
406:                 
407:                 <div className="flex justify-center">
408:                   <ProductSelector 
409:                     onProductsSelected={handleProductsSelected}
410:                     existingItems={items}
411:                   />
412:                 </div>
413:               </div>
414:             ) : (
415:               <div className="text-center py-8">
416:                 <p className="text-muted-foreground mb-4">No products have been added to this purchase order yet.</p>
417:                 <ProductSelector onProductsSelected={handleProductsSelected} />
418:               </div>
419:             )}
420:           </CardContent>
421:           <CardFooter className="flex justify-end">
422:             <Button 
423:               onClick={() => router.push(`/purchases/${purchaseId}`)}
424:               disabled={isLoading}
425:             >
426:               {items.length > 0 ? "Continue to Purchase Order" : "Skip for Now"}
427:             </Button>
428:           </CardFooter>
429:         </Card>
430:       )}
431:     </div>
432:   );
433: }
434: 
435: // Import Table components
436: import {
437:   Table,
438:   TableBody,
439:   TableCell,
440:   TableHead,
441:   TableHeader,
442:   TableRow,
443: } from "@/components/ui/table";
```

## app\purchases\page.tsx

- Characters: 8597
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import Link from "next/link";
  4: import { Plus, Edit, Eye } from "lucide-react";
  5: import { Button } from "@/components/ui/button";
  6: import {
  7:   Card,
  8:   CardContent,
  9:   CardDescription,
 10:   CardHeader,
 11:   CardTitle,
 12: } from "@/components/ui/card";
 13: import {
 14:   Table,
 15:   TableBody,
 16:   TableCell,
 17:   TableHead,
 18:   TableHeader,
 19:   TableRow,
 20: } from "@/components/ui/table";
 21: import { Badge } from "@/components/ui/badge";
 22: import { format } from "date-fns";
 23: import { useState, useEffect } from "react";
 24: import { Skeleton } from "@/components/ui/skeleton";
 25: import { DeleteButton } from "@/components/shared/delete-button";
 26: import { useToast } from "@/hooks/use-toast";
 27: 
 28: // Mock purchase orders data
 29: const mockPurchases = [
 30:   {
 31:     id: "1",
 32:     orderNumber: "PO-2023-001",
 33:     supplier: "Fashion Wholesale Co.",
 34:     status: "RECEIVED",
 35:     orderDate: new Date("2023-05-15"),
 36:     deliveryDate: new Date("2023-05-25"),
 37:     totalItems: 120,
 38:     totalAmount: 1850.75,
 39:   },
 40:   {
 41:     id: "2",
 42:     orderNumber: "PO-2023-002",
 43:     supplier: "Textile Suppliers Inc.",
 44:     status: "ORDERED",
 45:     orderDate: new Date("2023-06-02"),
 46:     deliveryDate: new Date("2023-06-12"),
 47:     totalItems: 85,
 48:     totalAmount: 1245.50,
 49:   },
 50:   {
 51:     id: "3",
 52:     orderNumber: "PO-2023-003",
 53:     supplier: "Apparel Manufacturing Ltd.",
 54:     status: "DRAFT",
 55:     orderDate: new Date("2023-06-10"),
 56:     deliveryDate: null,
 57:     totalItems: 200,
 58:     totalAmount: 3200.00,
 59:   },
 60:   {
 61:     id: "4",
 62:     orderNumber: "PO-2023-004",
 63:     supplier: "Fashion Wholesale Co.",
 64:     status: "CANCELLED",
 65:     orderDate: new Date("2023-05-20"),
 66:     deliveryDate: null,
 67:     totalItems: 50,
 68:     totalAmount: 750.25,
 69:   },
 70: ];
 71: 
 72: // Create a global variable to store the updated purchases if it doesn't exist
 73: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedPurchases')) {
 74:   window.updatedPurchases = [...mockPurchases];
 75: }
 76: 
 77: const getStatusBadge = (status: string) => {
 78:   switch (status) {
 79:     case "RECEIVED":
 80:       return <Badge className="bg-emerald-500">Received</Badge>;
 81:     case "ORDERED":
 82:       return <Badge className="bg-blue-500">Ordered</Badge>;
 83:     case "DRAFT":
 84:       return <Badge variant="outline">Draft</Badge>;
 85:     case "CANCELLED":
 86:       return <Badge variant="destructive">Cancelled</Badge>;
 87:     default:
 88:       return <Badge variant="outline">{status}</Badge>;
 89:   }
 90: };
 91: 
 92: export default function PurchasesPage() {
 93:   const [isLoading, setIsLoading] = useState(true);
 94:   const [data, setData] = useState(mockPurchases);
 95:   const { toast } = useToast();
 96: 
 97:   useEffect(() => {
 98:     // Simulate data loading and get data from our mock database
 99:     const timer = setTimeout(() => {
100:       if (typeof window !== 'undefined') {
101:         setData(window.updatedPurchases);
102:       }
103:       setIsLoading(false);
104:     }, 1000);
105:     
106:     return () => clearTimeout(timer);
107:   }, []);
108: 
109:   const handleDelete = async (id: string) => {
110:     // Simulate API call to delete purchase order
111:     return new Promise<void>((resolve, reject) => {
112:       setTimeout(() => {
113:         const purchase = data.find(p => p.id === id);
114:         
115:         if (purchase?.status === "RECEIVED" || purchase?.status === "ORDERED") {
116:           reject(new Error("Cannot delete a purchase order that has been ordered or received."));
117:         } else {
118:           // Update our mock database
119:           const updatedData = data.filter(p => p.id !== id);
120:           setData(updatedData);
121:           
122:           if (typeof window !== 'undefined') {
123:             window.updatedPurchases = updatedData;
124:           }
125:           
126:           resolve();
127:         }
128:       }, 1000);
129:     });
130:   };
131: 
132:   return (
133:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
134:       <div className="flex items-center justify-between">
135:         <h1 className="text-3xl font-bold tracking-tight">Purchase Orders</h1>
136:         <Button asChild>
137:           <Link href="/purchases/new">
138:             <Plus className="mr-2 h-4 w-4" />
139:             New Purchase Order
140:           </Link>
141:         </Button>
142:       </div>
143:       
144:       <Card>
145:         <CardHeader>
146:           <CardTitle>Purchase Orders</CardTitle>
147:           <CardDescription>
148:             Manage your purchase orders and track deliveries
149:           </CardDescription>
150:         </CardHeader>
151:         <CardContent>
152:           {isLoading ? (
153:             <div className="space-y-2">
154:               <Skeleton className="h-10 w-full" />
155:               <Skeleton className="h-10 w-full" />
156:               <Skeleton className="h-10 w-full" />
157:               <Skeleton className="h-10 w-full" />
158:             </div>
159:           ) : (
160:             <Table>
161:               <TableHeader>
162:                 <TableRow>
163:                   <TableHead>Order Number</TableHead>
164:                   <TableHead>Supplier</TableHead>
165:                   <TableHead>Status</TableHead>
166:                   <TableHead>Order Date</TableHead>
167:                   <TableHead>Delivery Date</TableHead>
168:                   <TableHead className="text-right">Total Items</TableHead>
169:                   <TableHead className="text-right">Total Amount</TableHead>
170:                   <TableHead className="text-right">Actions</TableHead>
171:                 </TableRow>
172:               </TableHeader>
173:               <TableBody>
174:                 {data.map((purchase) => (
175:                   <TableRow key={purchase.id}>
176:                     <TableCell className="font-medium">
177:                       {purchase.orderNumber}
178:                     </TableCell>
179:                     <TableCell>{purchase.supplier}</TableCell>
180:                     <TableCell>{getStatusBadge(purchase.status)}</TableCell>
181:                     <TableCell>
182:                       {format(purchase.orderDate, "MMM dd, yyyy")}
183:                     </TableCell>
184:                     <TableCell>
185:                       {purchase.deliveryDate
186:                         ? format(purchase.deliveryDate, "MMM dd, yyyy")
187:                         : "-"}
188:                     </TableCell>
189:                     <TableCell className="text-right">
190:                       {purchase.totalItems}
191:                     </TableCell>
192:                     <TableCell className="text-right">
193:                       ${purchase.totalAmount.toFixed(2)}
194:                     </TableCell>
195:                     <TableCell className="text-right">
196:                       <div className="flex justify-end gap-2">
197:                         <Button variant="ghost" size="icon" asChild>
198:                           <Link href={`/purchases/${purchase.id}`}>
199:                             <Eye className="h-4 w-4" />
200:                           </Link>
201:                         </Button>
202:                         <Button variant="ghost" size="icon" asChild>
203:                           <Link href={`/purchases/${purchase.id}/edit`}>
204:                             <Edit className="h-4 w-4" />
205:                           </Link>
206:                         </Button>
207:                         <DeleteButton
208:                           id={purchase.id}
209:                           name={purchase.orderNumber}
210:                           onDelete={handleDelete}
211:                           disabled={purchase.status === "RECEIVED" || purchase.status === "ORDERED"}
212:                           disabledReason="Cannot delete a purchase order that has been ordered or received."
213:                         />
214:                       </div>
215:                     </TableCell>
216:                   </TableRow>
217:                 ))}
218:               </TableBody>
219:             </Table>
220:           )}
221:         </CardContent>
222:       </Card>
223:     </div>
224:   );
225: }
```

## app\purchases\[id]\edit\page.tsx

- Characters: 16356
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import { useForm } from "react-hook-form";
  6: import { zodResolver } from "@hookform/resolvers/zod";
  7: import * as z from "zod";
  8: import { ArrowLeft } from "lucide-react";
  9: import Link from "next/link";
 10: 
 11: import { Button } from "@/components/ui/button";
 12: import {
 13:   Form,
 14:   FormControl,
 15:   FormDescription,
 16:   FormField,
 17:   FormItem,
 18:   FormLabel,
 19:   FormMessage,
 20: } from "@/components/ui/form";
 21: import { Input } from "@/components/ui/input";
 22: import { Textarea } from "@/components/ui/textarea";
 23: import {
 24:   Select,
 25:   SelectContent,
 26:   SelectItem,
 27:   SelectTrigger,
 28:   SelectValue,
 29: } from "@/components/ui/select";
 30: import { useToast } from "@/hooks/use-toast";
 31: import {
 32:   Card,
 33:   CardContent,
 34:   CardDescription,
 35:   CardHeader,
 36:   CardTitle,
 37: } from "@/components/ui/card";
 38: import { Skeleton } from "@/components/ui/skeleton";
 39: 
 40: // Mock purchase orders data
 41: const mockPurchases = [
 42:   {
 43:     id: "1",
 44:     orderNumber: "PO-2023-001",
 45:     supplier: "Fashion Wholesale Co.",
 46:     supplierId: "1",
 47:     status: "RECEIVED",
 48:     orderDate: new Date("2023-05-15"),
 49:     deliveryDate: new Date("2023-05-25"),
 50:     notes: "Summer collection order",
 51:     totalItems: 120,
 52:     totalAmount: 1850.75,
 53:     items: [
 54:       {
 55:         id: "1",
 56:         productId: "1",
 57:         sku: "SH-001",
 58:         name: "Cotton T-Shirt",
 59:         quantity: 80,
 60:         unitPrice: 12.50,
 61:         receivedQuantity: 80
 62:       },
 63:       {
 64:         id: "2",
 65:         productId: "5",
 66:         sku: "SH-002",
 67:         name: "Polo Shirt",
 68:         quantity: 40,
 69:         unitPrice: 15.00,
 70:         receivedQuantity: 40
 71:       }
 72:     ]
 73:   },
 74:   {
 75:     id: "2",
 76:     orderNumber: "PO-2023-002",
 77:     supplier: "Textile Suppliers Inc.",
 78:     supplierId: "2",
 79:     status: "ORDERED",
 80:     orderDate: new Date("2023-06-02"),
 81:     deliveryDate: new Date("2023-06-12"),
 82:     notes: "Fall collection pre-order",
 83:     totalItems: 85,
 84:     totalAmount: 1245.50,
 85:     items: [
 86:       {
 87:         id: "3",
 88:         productId: "2",
 89:         sku: "PA-001",
 90:         name: "Slim Fit Jeans",
 91:         quantity: 50,
 92:         unitPrice: 18.75,
 93:         receivedQuantity: 0
 94:       },
 95:       {
 96:         id: "4",
 97:         productId: "3",
 98:         sku: "DR-001",
 99:         name: "Summer Dress",
100:         quantity: 35,
101:         unitPrice: 22.00,
102:         receivedQuantity: 0
103:       }
104:     ]
105:   },
106:   {
107:     id: "3",
108:     orderNumber: "PO-2023-003",
109:     supplier: "Apparel Manufacturing Ltd.",
110:     supplierId: "3",
111:     status: "DRAFT",
112:     orderDate: new Date("2023-06-10"),
113:     deliveryDate: null,
114:     notes: "Winter collection planning",
115:     totalItems: 200,
116:     totalAmount: 3200.00,
117:     items: [
118:       {
119:         id: "5",
120:         productId: "1",
121:         sku: "SH-001",
122:         name: "Cotton T-Shirt",
123:         quantity: 100,
124:         unitPrice: 12.00,
125:         receivedQuantity: 0
126:       },
127:       {
128:         id: "6",
129:         productId: "2",
130:         sku: "PA-001",
131:         name: "Slim Fit Jeans",
132:         quantity: 100,
133:         unitPrice: 20.00,
134:         receivedQuantity: 0
135:       }
136:     ]
137:   },
138:   {
139:     id: "4",
140:     orderNumber: "PO-2023-004",
141:     supplier: "Fashion Wholesale Co.",
142:     supplierId: "1",
143:     status: "CANCELLED",
144:     orderDate: new Date("2023-05-20"),
145:     deliveryDate: null,
146:     notes: "Cancelled due to pricing issues",
147:     totalItems: 50,
148:     totalAmount: 750.25,
149:     items: [
150:       {
151:         id: "7",
152:         productId: "4",
153:         sku: "AC-001",
154:         name: "Leather Belt",
155:         quantity: 50,
156:         unitPrice: 15.00,
157:         receivedQuantity: 0
158:       }
159:     ]
160:   },
161: ];
162: 
163: // Create a global variable to store the updated purchases if it doesn't exist
164: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedPurchases')) {
165:   window.updatedPurchases = [...mockPurchases];
166: }
167: 
168: // Mock suppliers data
169: const mockSuppliers = [
170:   { id: "1", name: "Fashion Wholesale Co." },
171:   { id: "2", name: "Textile Suppliers Inc." },
172:   { id: "3", name: "Apparel Manufacturing Ltd." },
173:   { id: "4", name: "Fabric Importers Co." },
174:   { id: "5", name: "Accessory Distributors" },
175: ];
176: 
177: // Create a global variable to store the updated suppliers if it doesn't exist
178: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedSuppliers')) {
179:   window.updatedSuppliers = [...mockSuppliers];
180: }
181: 
182: const purchaseSchema = z.object({
183:   supplierId: z.string({ required_error: "Please select a supplier" }),
184:   status: z.enum(["DRAFT", "ORDERED", "RECEIVED", "CANCELLED"]),
185:   deliveryDate: z.date().optional().nullable(),
186:   notes: z.string().optional(),
187: });
188: 
189: type PurchaseFormValues = z.infer<typeof purchaseSchema>;
190: 
191: export default function EditPurchasePage({ params }: { params: { id: string } }) {
192:   const router = useRouter();
193:   const { toast } = useToast();
194:   const [isLoading, setIsLoading] = useState(false);
195:   const [isFetching, setIsFetching] = useState(true);
196:   const [purchase, setPurchase] = useState<any | null>(null);
197:   const [suppliers, setSuppliers] = useState<any[]>([]);
198: 
199:   // Load suppliers from our mock database
200:   useEffect(() => {
201:     const loadSuppliers = () => {
202:       // Always fetch the latest suppliers data
203:       const suppliersData = typeof window !== 'undefined' && window.updatedSuppliers 
204:         ? window.updatedSuppliers 
205:         : mockSuppliers;
206:       setSuppliers(suppliersData);
207:     };
208:     
209:     loadSuppliers();
210:     
211:     // Set up an interval to refresh suppliers data every 5 seconds
212:     const intervalId = setInterval(loadSuppliers, 5000);
213:     
214:     // Clean up the interval when the component unmounts
215:     return () => clearInterval(intervalId);
216:   }, []);
217: 
218:   const form = useForm<PurchaseFormValues>({
219:     resolver: zodResolver(purchaseSchema),
220:     defaultValues: {
221:       supplierId: "",
222:       status: "DRAFT",
223:       deliveryDate: null,
224:       notes: "",
225:     },
226:   });
227: 
228:   useEffect(() => {
229:     // Fetch purchase data
230:     const fetchPurchase = async () => {
231:       setIsFetching(true);
232:       try {
233:         // In a real app, this would be an API call
234:         // const response = await fetch(`/api/purchases/${params.id}`);
235:         // const data = await response.json();
236:         
237:         // Get data from our mock database
238:         setTimeout(() => {
239:           const purchases = typeof window !== 'undefined' ? window.updatedPurchases : mockPurchases;
240:           const foundPurchase = purchases.find(p => p.id === params.id);
241:           
242:           if (foundPurchase) {
243:             setPurchase(foundPurchase);
244:             form.reset({
245:               supplierId: foundPurchase.supplierId,
246:               status: foundPurchase.status as any,
247:               deliveryDate: foundPurchase.deliveryDate,
248:               notes: foundPurchase.notes || "",
249:             });
250:           }
251:           
252:           setIsFetching(false);
253:         }, 1000);
254:       } catch (error) {
255:         toast({
256:           title: "Error",
257:           description: "Failed to load purchase order details",
258:           variant: "destructive",
259:         });
260:         setIsFetching(false);
261:       }
262:     };
263: 
264:     fetchPurchase();
265:   }, [params.id, toast, form]);
266: 
267:   const refreshSuppliers = () => {
268:     // Force refresh suppliers data
269:     const suppliersData = typeof window !== 'undefined' && window.updatedSuppliers 
270:       ? window.updatedSuppliers 
271:       : mockSuppliers;
272:     setSuppliers(suppliersData);
273:     
274:     toast({
275:       title: "Suppliers refreshed",
276:       description: "The suppliers list has been refreshed.",
277:     });
278:   };
279: 
280:   async function onSubmit(data: PurchaseFormValues) {
281:     setIsLoading(true);
282:     
283:     try {
284:       // In a real application, this would be an API call
285:       // const response = await fetch(`/api/purchases/${params.id}`, {
286:       //   method: "PUT",
287:       //   headers: {
288:       //     "Content-Type": "application/json",
289:       //   },
290:       //   body: JSON.stringify(data),
291:       // });
292:       
293:       // if (!response.ok) {
294:       //   throw new Error("Failed to update purchase order");
295:       // }
296:       
297:       // Simulate API call and update our mock database
298:       await new Promise(resolve => setTimeout(resolve, 1000));
299:       
300:       // Get the supplier name from the supplierId
301:       const supplier = suppliers.find(s => s.id === data.supplierId)?.name || "";
302:       
303:       // Update the purchase in our mock database
304:       if (typeof window !== 'undefined') {
305:         const index = window.updatedPurchases.findIndex(p => p.id === params.id);
306:         if (index !== -1) {
307:           window.updatedPurchases[index] = {
308:             ...window.updatedPurchases[index],
309:             ...data,
310:             supplier, // Add the supplier name
311:           };
312:         }
313:       }
314:       
315:       toast({
316:         title: "Purchase order updated",
317:         description: "The purchase order has been updated successfully.",
318:       });
319:       
320:       router.push(`/purchases/${params.id}`);
321:     } catch (error) {
322:       toast({
323:         title: "Error",
324:         description: error instanceof Error ? error.message : "An error occurred",
325:         variant: "destructive",
326:       });
327:     } finally {
328:       setIsLoading(false);
329:     }
330:   }
331: 
332:   return (
333:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
334:       <div className="flex items-center gap-2">
335:         <Button variant="ghost" size="icon" asChild>
336:           <Link href={`/purchases/${params.id}`}>
337:             <ArrowLeft className="h-4 w-4" />
338:           </Link>
339:         </Button>
340:         <h1 className="text-3xl font-bold tracking-tight">
341:           {isFetching ? <Skeleton className="h-9 w-40" /> : `Edit ${purchase?.orderNumber}`}
342:         </h1>
343:       </div>
344:       
345:       <Card>
346:         <CardHeader>
347:           <CardTitle>Purchase Order Information</CardTitle>
348:           <CardDescription>
349:             Update the purchase order details
350:           </CardDescription>
351:         </CardHeader>
352:         <CardContent>
353:           {isFetching ? (
354:             <div className="space-y-4">
355:               <Skeleton className="h-10 w-full" />
356:               <Skeleton className="h-10 w-full" />
357:               <Skeleton className="h-10 w-full" />
358:               <Skeleton className="h-10 w-full" />
359:             </div>
360:           ) : (
361:             <Form {...form}>
362:               <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
363:                 <div className="flex items-center justify-between">
364:                   <FormField
365:                     control={form.control}
366:                     name="supplierId"
367:                     render={({ field }) => (
368:                       <FormItem className="flex-1 mr-4">
369:                         <FormLabel>Supplier</FormLabel>
370:                         <Select
371:                           onValueChange={field.onChange}
372:                           defaultValue={field.value}
373:                         >
374:                           <FormControl>
375:                             <SelectTrigger>
376:                               <SelectValue placeholder="Select a supplier" />
377:                             </SelectTrigger>
378:                           </FormControl>
379:                           <SelectContent>
380:                             {suppliers.map((supplier) => (
381:                               <SelectItem key={supplier.id} value={supplier.id}>
382:                                 {supplier.name}
383:                               </SelectItem>
384:                             ))}
385:                           </SelectContent>
386:                         </Select>
387:                         <FormMessage />
388:                       </FormItem>
389:                     )}
390:                   />
391:                   <Button 
392:                     type="button" 
393:                     variant="outline" 
394:                     onClick={refreshSuppliers}
395:                     className="mt-8"
396:                   >
397:                     Refresh Suppliers
398:                   </Button>
399:                 </div>
400:                 
401:                 <FormField
402:                   control={form.control}
403:                   name="status"
404:                   render={({ field }) => (
405:                     <FormItem>
406:                       <FormLabel>Status</FormLabel>
407:                       <Select
408:                         onValueChange={field.onChange}
409:                         defaultValue={field.value}
410:                       >
411:                         <FormControl>
412:                           <SelectTrigger>
413:                             <SelectValue placeholder="Select status" />
414:                           </SelectTrigger>
415:                         </FormControl>
416:                         <SelectContent>
417:                           <SelectItem value="DRAFT">Draft</SelectItem>
418:                           <SelectItem value="ORDERED">Ordered</SelectItem>
419:                           <SelectItem value="RECEIVED">Received</SelectItem>
420:                           <SelectItem value="CANCELLED">Cancelled</SelectItem>
421:                         </SelectContent>
422:                       </Select>
423:                       <FormMessage />
424:                     </FormItem>
425:                   )}
426:                 />
427:                 
428:                 <FormField
429:                   control={form.control}
430:                   name="notes"
431:                   render={({ field }) => (
432:                     <FormItem>
433:                       <FormLabel>Notes</FormLabel>
434:                       <FormControl>
435:                         <Textarea
436:                           placeholder="Purchase order notes..."
437:                           {...field}
438:                         />
439:                       </FormControl>
440:                       <FormMessage />
441:                     </FormItem>
442:                   )}
443:                 />
444:                 
445:                 <div className="flex justify-end space-x-2">
446:                   <Button
447:                     variant="outline"
448:                     onClick={() => router.push(`/purchases/${params.id}`)}
449:                     type="button"
450:                   >
451:                     Cancel
452:                   </Button>
453:                   <Button type="submit" disabled={isLoading}>
454:                     {isLoading ? "Saving..." : "Save Changes"}
455:                   </Button>
456:                 </div>
457:               </form>
458:             </Form>
459:           )}
460:         </CardContent>
461:       </Card>
462:     </div>
463:   );
464: }
```

## app\purchases\[id]\page.tsx

- Characters: 28888
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import Link from "next/link";
  6: import { ArrowLeft, Edit, Package, Calendar, Truck, ArrowRightLeft } from "lucide-react";
  7: import { Button } from "@/components/ui/button";
  8: import {
  9:   Card,
 10:   CardContent,
 11:   CardDescription,
 12:   CardHeader,
 13:   CardTitle,
 14:   CardFooter,
 15: } from "@/components/ui/card";
 16: import {
 17:   Table,
 18:   TableBody,
 19:   TableCell,
 20:   TableHead,
 21:   TableHeader,
 22:   TableRow,
 23: } from "@/components/ui/table";
 24: import { Skeleton } from "@/components/ui/skeleton";
 25: import { Badge } from "@/components/ui/badge";
 26: import { DeleteButton } from "@/components/shared/delete-button";
 27: import { useToast } from "@/hooks/use-toast";
 28: import { format } from "date-fns";
 29: import { ProductSelector } from "@/components/purchases/product-selector";
 30: import { Input } from "@/components/ui/input";
 31: import {
 32:   AlertDialog,
 33:   AlertDialogAction,
 34:   AlertDialogCancel,
 35:   AlertDialogContent,
 36:   AlertDialogDescription,
 37:   AlertDialogFooter,
 38:   AlertDialogHeader,
 39:   AlertDialogTitle,
 40:   AlertDialogTrigger,
 41: } from "@/components/ui/alert-dialog";
 42: 
 43: interface TransferOrder {
 44:   id: string;
 45:   transferNumber: string;
 46:   sourceWarehouse: string;
 47:   sourceWarehouseId: string;
 48:   destWarehouse: string;
 49:   destWarehouseId: string;
 50:   status: string;
 51:   transferDate: Date;
 52:   totalItems: number;
 53:   items: TransferItem[];
 54:   notes?: string;
 55: }
 56: 
 57: interface TransferItem {
 58:   id: string;
 59:   productId: string;
 60:   sku: string;
 61:   name: string;
 62:   quantity: number;
 63: }
 64: 
 65: interface PurchaseOrder {
 66:   id: string;
 67:   orderNumber: string;
 68:   supplier: string;
 69:   supplierId: string;
 70:   status: string;
 71:   orderDate: Date;
 72:   deliveryDate: Date | null;
 73:   notes?: string;
 74:   totalItems: number;
 75:   totalAmount: number;
 76:   items: PurchaseItem[];
 77: }
 78: 
 79: interface PurchaseItem {
 80:   id: string;
 81:   productId: string;
 82:   sku: string;
 83:   name: string;
 84:   quantity: number;
 85:   unitPrice: number;
 86:   receivedQuantity: number;
 87: }
 88: 
 89: // Mock purchase orders data
 90: const mockPurchases = [
 91:   {
 92:     id: "1",
 93:     orderNumber: "PO-2023-001",
 94:     supplier: "Fashion Wholesale Co.",
 95:     supplierId: "1",
 96:     status: "RECEIVED",
 97:     orderDate: new Date("2023-05-15"),
 98:     deliveryDate: new Date("2023-05-25"),
 99:     notes: "Summer collection order",
100:     totalItems: 120,
101:     totalAmount: 1850.75,
102:     items: [
103:       {
104:         id: "1",
105:         productId: "1",
106:         sku: "SH-001",
107:         name: "Cotton T-Shirt",
108:         quantity: 80,
109:         unitPrice: 12.50,
110:         receivedQuantity: 80
111:       },
112:       {
113:         id: "2",
114:         productId: "5",
115:         sku: "SH-002",
116:         name: "Polo Shirt",
117:         quantity: 40,
118:         unitPrice: 15.00,
119:         receivedQuantity: 40
120:       }
121:     ]
122:   },
123:   {
124:     id: "2",
125:     orderNumber: "PO-2023-002",
126:     supplier: "Textile Suppliers Inc.",
127:     supplierId: "2",
128:     status: "ORDERED",
129:     orderDate: new Date("2023-06-02"),
130:     deliveryDate: new Date("2023-06-12"),
131:     notes: "Fall collection pre-order",
132:     totalItems: 85,
133:     totalAmount: 1245.50,
134:     items: [
135:       {
136:         id: "3",
137:         productId: "2",
138:         sku: "PA-001",
139:         name: "Slim Fit Jeans",
140:         quantity: 50,
141:         unitPrice: 18.75,
142:         receivedQuantity: 0
143:       },
144:       {
145:         id: "4",
146:         productId: "3",
147:         sku: "DR-001",
148:         name: "Summer Dress",
149:         quantity: 35,
150:         unitPrice: 22.00,
151:         receivedQuantity: 0
152:       }
153:     ]
154:   },
155:   {
156:     id: "3",
157:     orderNumber: "PO-2023-003",
158:     supplier: "Apparel Manufacturing Ltd.",
159:     supplierId: "3",
160:     status: "DRAFT",
161:     orderDate: new Date("2023-06-10"),
162:     deliveryDate: null,
163:     notes: "Winter collection planning",
164:     totalItems: 200,
165:     totalAmount: 3200.00,
166:     items: [
167:       {
168:         id: "5",
169:         productId: "1",
170:         sku: "SH-001",
171:         name: "Cotton T-Shirt",
172:         quantity: 100,
173:         unitPrice: 12.00,
174:         receivedQuantity: 0
175:       },
176:       {
177:         id: "6",
178:         productId: "2",
179:         sku: "PA-001",
180:         name: "Slim Fit Jeans",
181:         quantity: 100,
182:         unitPrice: 20.00,
183:         receivedQuantity: 0
184:       }
185:     ]
186:   },
187:   {
188:     id: "4",
189:     orderNumber: "PO-2023-004",
190:     supplier: "Fashion Wholesale Co.",
191:     supplierId: "1",
192:     status: "CANCELLED",
193:     orderDate: new Date("2023-05-20"),
194:     deliveryDate: null,
195:     notes: "Cancelled due to pricing issues",
196:     totalItems: 50,
197:     totalAmount: 750.25,
198:     items: [
199:       {
200:         id: "7",
201:         productId: "4",
202:         sku: "AC-001",
203:         name: "Leather Belt",
204:         quantity: 50,
205:         unitPrice: 15.00,
206:         receivedQuantity: 0
207:       }
208:     ]
209:   },
210: ];
211: 
212: // Create a global variable to store the updated purchases if it doesn't exist
213: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedPurchases')) {
214:   window.updatedPurchases = [...mockPurchases];
215: }
216: 
217: export default function PurchaseDetailsPage({ params }: { params: { id: string } }) {
218:   const router = useRouter();
219:   const { toast } = useToast();
220:   const [purchase, setPurchase] = useState<PurchaseOrder | null>(null);
221:   const [isLoading, setIsLoading] = useState(true);
222:   const [items, setItems] = useState<PurchaseItem[]>([]);
223:   const [receivedQuantities, setReceivedQuantities] = useState<Record<string, number>>({});
224:   const [isEditable, setIsEditable] = useState(false);
225: 
226:   useEffect(() => {
227:     // Fetch purchase order details
228:     const fetchPurchase = async () => {
229:       setIsLoading(true);
230:       try {
231:         // Get data from our mock database
232:         setTimeout(() => {
233:           const purchases = typeof window !== 'undefined' ? window.updatedPurchases : mockPurchases;
234:           const foundPurchase = purchases.find(p => p.id === params.id);
235:           
236:           if (foundPurchase) {
237:             setPurchase(foundPurchase);
238:             setItems(foundPurchase.items || []);
239:             
240:             // Initialize received quantities
241:             const quantities: Record<string, number> = {};
242:             if (Array.isArray(foundPurchase.items)) {
243:               foundPurchase.items.forEach(item => {
244:                 quantities[item.id] = item.receivedQuantity;
245:               });
246:             }
247:             setReceivedQuantities(quantities);
248:             
249:             // Determine if the purchase order is editable
250:             setIsEditable(foundPurchase.status === "DRAFT");
251:           } else {
252:             // Set empty arrays if purchase not found to avoid undefined errors
253:             setItems([]);
254:           }
255:           
256:           setIsLoading(false);
257:         }, 1000);
258:       } catch (error) {
259:         console.error("Error fetching purchase details:", error);
260:         toast({
261:           title: "Error",
262:           description: "Failed to load purchase order details",
263:           variant: "destructive",
264:         });
265:         setIsLoading(false);
266:         // Initialize empty arrays on error to avoid undefined errors
267:         setItems([]);
268:       }
269:     };
270: 
271:     fetchPurchase();
272:   }, [params.id, toast]);
273: 
274:   const handleDelete = async (id: string) => {
275:     // Simulate API call to delete purchase order
276:     return new Promise<void>((resolve, reject) => {
277:       setTimeout(() => {
278:         // In a real app, this would be an API call
279:         // const response = await fetch(`/api/purchases/${id}`, { method: 'DELETE' });
280:         // if (!response.ok) throw new Error('Failed to delete purchase order');
281:         
282:         if (purchase?.status === "RECEIVED" || purchase?.status === "ORDERED") {
283:           reject(new Error("Cannot delete a purchase order that has been ordered or received."));
284:         } else {
285:           // Update our mock database
286:           if (typeof window !== 'undefined') {
287:             window.updatedPurchases = window.updatedPurchases.filter(p => p.id !== id);
288:           }
289:           
290:           router.push("/purchases");
291:           resolve();
292:         }
293:       }, 1000);
294:     });
295:   };
296: 
297:   const handleProductsSelected = (newItems: PurchaseItem[]) => {
298:     // Merge with existing items, avoiding duplicates by product ID
299:     const existingProductIds = new Set(items.map(item => item.productId));
300:     const filteredNewItems = newItems.filter(item => !existingProductIds.has(item.productId));
301:     
302:     const updatedItems = [...items, ...filteredNewItems];
303:     setItems(updatedItems);
304:     
305:     // Update the purchase order in our mock database
306:     updatePurchaseOrder(updatedItems);
307:   };
308: 
309:   const handleRemoveItem = (itemId: string) => {
310:     const updatedItems = items.filter(item => item.id !== itemId);
311:     setItems(updatedItems);
312:     
313:     // Update the purchase order in our mock database
314:     updatePurchaseOrder(updatedItems);
315:   };
316: 
317:   const handleQuantityChange = (itemId: string, quantity: number) => {
318:     if (quantity < 1) quantity = 1;
319:     
320:     const updatedItems = items.map(item => 
321:       item.id === itemId ? { ...item, quantity } : item
322:     );
323:     
324:     setItems(updatedItems);
325:     
326:     // Update the purchase order in our mock database
327:     updatePurchaseOrder(updatedItems);
328:   };
329: 
330:   const handlePriceChange = (itemId: string, unitPrice: number) => {
331:     if (unitPrice < 0) unitPrice = 0;
332:     
333:     const updatedItems = items.map(item => 
334:       item.id === itemId ? { ...item, unitPrice } : item
335:     );
336:     
337:     setItems(updatedItems);
338:     
339:     // Update the purchase order in our mock database
340:     updatePurchaseOrder(updatedItems);
341:   };
342: 
343:   const handleReceivedQuantityChange = (itemId: string, receivedQuantity: number) => {
344:     if (receivedQuantity < 0) receivedQuantity = 0;
345:     
346:     const item = items.find(i => i.id === itemId);
347:     if (item && receivedQuantity > item.quantity) {
348:       receivedQuantity = item.quantity;
349:     }
350:     
351:     setReceivedQuantities(prev => ({
352:       ...prev,
353:       [itemId]: receivedQuantity
354:     }));
355:   };
356: 
357:   const handleReceiveItems = () => {
358:     // Update the received quantities for all items
359:     const updatedItems = items.map(item => ({
360:       ...item,
361:       receivedQuantity: receivedQuantities[item.id] || item.receivedQuantity
362:     }));
363:     
364:     // Check if all items have been received
365:     const allReceived = updatedItems.every(item => item.receivedQuantity === item.quantity);
366:     
367:     // Update the purchase order status if all items have been received
368:     const updatedStatus = allReceived ? "RECEIVED" : "ORDERED";
369:     
370:     // Update the purchase order in our mock database
371:     updatePurchaseOrder(updatedItems, updatedStatus);
372:     
373:     toast({
374:       title: "Items received",
375:       description: "The received quantities have been updated successfully.",
376:     });
377:   };
378: 
379:   const updatePurchaseOrder = (updatedItems: PurchaseItem[], status?: string) => {
380:     if (!purchase) return;
381:     
382:     // Calculate total items and amount
383:     const totalItems = updatedItems.reduce((sum, item) => sum + item.quantity, 0);
384:     const totalAmount = updatedItems.reduce((sum, item) => sum + (item.quantity * item.unitPrice), 0);
385:     
386:     // Create the updated purchase order
387:     const updatedPurchase = {
388:       ...purchase,
389:       items: updatedItems,
390:       totalItems,
391:       totalAmount,
392:       status: status || purchase.status
393:     };
394:     
395:     // Update the state
396:     setPurchase(updatedPurchase);
397:     setItems(updatedItems);
398:     
399:     // Update our mock database
400:     if (typeof window !== 'undefined') {
401:       const index = window.updatedPurchases.findIndex(p => p.id === purchase.id);
402:       if (index !== -1) {
403:         window.updatedPurchases[index] = updatedPurchase;
404:       }
405:     }
406:   };
407: 
408:   const getStatusBadge = (status: string) => {
409:     switch (status) {
410:       case "RECEIVED":
411:         return <Badge className="bg-emerald-500">Received</Badge>;
412:       case "ORDERED":
413:         return <Badge className="bg-blue-500">Ordered</Badge>;
414:       case "DRAFT":
415:         return <Badge variant="outline">Draft</Badge>;
416:       case "CANCELLED":
417:         return <Badge variant="destructive">Cancelled</Badge>;
418:       default:
419:         return <Badge variant="outline">{status}</Badge>;
420:     }
421:   };
422: 
423:   // Safely check if purchase can be completed
424:   const canCreateTransfer = purchase?.status === "RECEIVED" && 
425:     Array.isArray(items) && 
426:     items.length > 0 && 
427:     items.some(item => item?.receivedQuantity > 0);
428: 
429:   return (
430:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
431:       <div className="flex items-center justify-between">
432:         <div className="flex items-center gap-2">
433:           <Button variant="ghost" size="icon" asChild>
434:             <Link href="/purchases">
435:               <ArrowLeft className="h-4 w-4" />
436:             </Link>
437:           </Button>
438:           <h1 className="text-3xl font-bold tracking-tight">
439:             {isLoading ? <Skeleton className="h-9 w-40" /> : purchase?.orderNumber}
440:           </h1>
441:         </div>
442:         
443:         <div className="flex items-center gap-2">
444:           {!isLoading && purchase && (
445:             <>
446:               <Button variant="outline" size="sm" asChild>
447:                 <Link href={`/purchases/${params.id}/edit`}>
448:                   <Edit className="mr-2 h-4 w-4" />
449:                   Edit
450:                 </Link>
451:               </Button>
452:               
453:               <DeleteButton
454:                 id={params.id}
455:                 name={purchase.orderNumber}
456:                 onDelete={handleDelete}
457:                 disabled={purchase.status === "RECEIVED" || purchase.status === "ORDERED"}
458:                 disabledReason="Cannot delete a purchase order that has been ordered or received."
459:               />
460:             </>
461:           )}
462:         </div>
463:       </div>
464:       
465:       {isLoading ? (
466:         <Card>
467:           <CardHeader>
468:             <Skeleton className="h-7 w-40 mb-2" />
469:             <Skeleton className="h-5 w-60" />
470:           </CardHeader>
471:           <CardContent className="space-y-4">
472:             <Skeleton className="h-5 w-full" />
473:             <Skeleton className="h-5 w-3/4" />
474:             <Skeleton className="h-5 w-1/2" />
475:           </CardContent>
476:         </Card>
477:       ) : purchase ? (
478:         <>
479:           <Card>
480:             <CardHeader>
481:               <CardTitle className="flex items-center justify-between">
482:                 Purchase Order Details
483:                 {getStatusBadge(purchase.status)}
484:               </CardTitle>
485:               <CardDescription>
486:                 Detailed information about this purchase order
487:               </CardDescription>
488:             </CardHeader>
489:             <CardContent className="space-y-6">
490:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
491:                 <div>
492:                   <h3 className="text-sm font-medium text-muted-foreground">Supplier</h3>
493:                   <p className="text-base">{purchase.supplier}</p>
494:                 </div>
495:                 <div>
496:                   <h3 className="text-sm font-medium text-muted-foreground">Status</h3>
497:                   <p className="text-base">{purchase.status}</p>
498:                 </div>
499:               </div>
500:               
501:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
502:                 <div className="flex items-start gap-2">
503:                   <Calendar className="h-5 w-5 text-muted-foreground mt-0.5" />
504:                   <div>
505:                     <h3 className="text-sm font-medium text-muted-foreground">Order Date</h3>
506:                     <p className="text-base">{format(purchase.orderDate, "MMM dd, yyyy")}</p>
507:                   </div>
508:                 </div>
509:                 <div className="flex items-start gap-2">
510:                   <Truck className="h-5 w-5 text-muted-foreground mt-0.5" />
511:                   <div>
512:                     <h3 className="text-sm font-medium text-muted-foreground">Delivery Date</h3>
513:                     <p className="text-base">
514:                       {purchase.deliveryDate 
515:                         ? format(purchase.deliveryDate, "MMM dd, yyyy") 
516:                         : "Not scheduled"}
517:                     </p>
518:                   </div>
519:                 </div>
520:               </div>
521:               
522:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
523:                 <div>
524:                   <h3 className="text-sm font-medium text-muted-foreground">Total Items</h3>
525:                   <p className="text-base">{purchase.totalItems}</p>
526:                 </div>
527:                 <div>
528:                   <h3 className="text-sm font-medium text-muted-foreground">Total Amount</h3>
529:                   <p className="text-base">${purchase.totalAmount.toFixed(2)}</p>
530:                 </div>
531:               </div>
532:               
533:               {purchase.notes && (
534:                 <div>
535:                   <h3 className="text-sm font-medium text-muted-foreground">Notes</h3>
536:                   <p className="text-base">{purchase.notes}</p>
537:                 </div>
538:               )}
539:             </CardContent>
540:             {canCreateTransfer && (
541:               <CardFooter className="flex justify-end">
542:                 <Button asChild>
543:                   <Link href={`/transfers/new?fromPurchase=${purchase.id}`}>
544:                     <ArrowRightLeft className="mr-2 h-4 w-4" />
545:                     Create Transfer
546:                   </Link>
547:                 </Button>
548:               </CardFooter>
549:             )}
550:           </Card>
551:           
552:           <Card>
553:             <CardHeader className="flex flex-row items-center justify-between">
554:               <div>
555:                 <CardTitle className="flex items-center">
556:                   <Package className="mr-2 h-5 w-5" />
557:                   Order Items
558:                 </CardTitle>
559:                 <CardDescription>
560:                   Products included in this purchase order
561:                 </CardDescription>
562:               </div>
563:               
564:               {isEditable && (
565:                 <ProductSelector 
566:                   onProductsSelected={handleProductsSelected}
567:                   existingItems={items}
568:                 />
569:               )}
570:             </CardHeader>
571:             <CardContent>
572:               {items && items.length > 0 ? (
573:                 <Table>
574:                   <TableHeader>
575:                     <TableRow>
576:                       <TableHead>SKU</TableHead>
577:                       <TableHead>Product</TableHead>
578:                       <TableHead className="text-right">Quantity</TableHead>
579:                       <TableHead className="text-right">Unit Price</TableHead>
580:                       <TableHead className="text-right">Total</TableHead>
581:                       <TableHead className="text-right">Received</TableHead>
582:                       {isEditable && <TableHead className="w-[70px]"></TableHead>}
583:                     </TableRow>
584:                   </TableHeader>
585:                   <TableBody>
586:                     {items.map((item) => (
587:                       <TableRow key={item.id}>
588:                         <TableCell className="font-medium">{item.sku}</TableCell>
589:                         <TableCell>{item.name}</TableCell>
590:                         <TableCell className="text-right">
591:                           {isEditable ? (
592:                             <Input
593:                               type="number"
594:                               min="1"
595:                               value={item.quantity}
596:                               onChange={(e) => handleQuantityChange(item.id, parseInt(e.target.value) || 1)}
597:                               className="w-16 text-right"
598:                             />
599:                           ) : (
600:                             item.quantity
601:                           )}
602:                         </TableCell>
603:                         <TableCell className="text-right">
604:                           {isEditable ? (
605:                             <Input
606:                               type="number"
607:                               min="0"
608:                               step="0.01"
609:                               value={item.unitPrice}
610:                               onChange={(e) => handlePriceChange(item.id, parseFloat(e.target.value) || 0)}
611:                               className="w-24 text-right"
612:                             />
613:                           ) : (
614:                             `$${item.unitPrice.toFixed(2)}`
615:                           )}
616:                         </TableCell>
617:                         <TableCell className="text-right">${(item.quantity * item.unitPrice).toFixed(2)}</TableCell>
618:                         <TableCell className="text-right">
619:                           {purchase.status === "ORDERED" ? (
620:                             <Input
621:                               type="number"
622:                               min="0"
623:                               max={item.quantity}
624:                               value={receivedQuantities[item.id] !== undefined ? receivedQuantities[item.id] : item.receivedQuantity}
625:                               onChange={(e) => handleReceivedQuantityChange(item.id, parseInt(e.target.value) || 0)}
626:                               className="w-16 text-right"
627:                             />
628:                           ) : (
629:                             <span className={item.receivedQuantity === item.quantity ? "text-emerald-500" : "text-amber-500"}>
630:                               {item.receivedQuantity} / {item.quantity}
631:                             </span>
632:                           )}
633:                         </TableCell>
634:                         {isEditable && (
635:                           <TableCell>
636:                             <Button 
637:                               variant="ghost" 
638:                               size="icon"
639:                               onClick={() => handleRemoveItem(item.id)}
640:                             >
641:                               <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-4 w-4 text-destructive"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>
642:                             </Button>
643:                           </TableCell>
644:                         )}
645:                       </TableRow>
646:                     ))}
647:                     <TableRow>
648:                       <TableCell colSpan={4} className="text-right font-bold">
649:                         Total
650:                       </TableCell>
651:                       <TableCell className="text-right font-bold">
652:                         ${items.reduce((sum, item) => sum + (item.quantity * item.unitPrice), 0).toFixed(2)}
653:                       </TableCell>
654:                       <TableCell colSpan={isEditable ? 2 : 1}></TableCell>
655:                     </TableRow>
656:                   </TableBody>
657:                 </Table>
658:               ) : (
659:                 <div className="text-center py-8 text-muted-foreground">
660:                   {isEditable ? (
661:                     <div className="flex flex-col items-center">
662:                       <p className="mb-4">No items have been added to this purchase order yet.</p>
663:                       <ProductSelector onProductsSelected={handleProductsSelected} />
664:                     </div>
665:                   ) : (
666:                     "No items in this purchase order"
667:                   )}
668:                 </div>
669:               )}
670:             </CardContent>
671:             {purchase && purchase.status === "ORDERED" && items && items.length > 0 && (
672:               <CardFooter className="flex justify-end">
673:                 <AlertDialog>
674:                   <AlertDialogTrigger asChild>
675:                     <Button>
676:                       <Truck className="mr-2 h-4 w-4" />
677:                       Receive Items
678:                     </Button>
679:                   </AlertDialogTrigger>
680:                   <AlertDialogContent>
681:                     <AlertDialogHeader>
682:                       <AlertDialogTitle>Receive Items</AlertDialogTitle>
683:                       <AlertDialogDescription>
684:                         This will update the received quantities for all items in this purchase order.
685:                         Are you sure you want to continue?
686:                       </AlertDialogDescription>
687:                     </AlertDialogHeader>
688:                     <AlertDialogFooter>
689:                       <AlertDialogCancel>Cancel</AlertDialogCancel>
690:                       <AlertDialogAction onClick={handleReceiveItems}>
691:                         Confirm
692:                       </AlertDialogAction>
693:                     </AlertDialogFooter>
694:                   </AlertDialogContent>
695:                 </AlertDialog>
696:               </CardFooter>
697:             )}
698:             {purchase && purchase.status === "DRAFT" && items && items.length > 0 && (
699:               <CardFooter className="flex justify-end">
700:                 <Button
701:                   onClick={() => updatePurchaseOrder(items, "ORDERED")}
702:                 >
703:                   <Truck className="mr-2 h-4 w-4" />
704:                   Place Order
705:                 </Button>
706:               </CardFooter>
707:             )}
708:           </Card>
709:         </>
710:       ) : (
711:         <Card>
712:           <CardContent className="flex flex-col items-center justify-center py-10">
713:             <h2 className="text-xl font-semibold mb-2">Purchase Order Not Found</h2>
714:             <p className="text-muted-foreground mb-4">
715:               The purchase order you're looking for doesn't exist or has been removed.
716:             </p>
717:             <Button asChild>
718:               <Link href="/purchases">Back to Purchase Orders</Link>
719:             </Button>
720:           </CardContent>
721:         </Card>
722:       )}
723:     </div>
724:   );
725: }
```

## app\reports\layout.tsx

- Characters: 2399
- Tokens: 0

```text
 1: "use client";
 2: 
 3: import { useEffect, useState } from "react";
 4: import { useRouter, usePathname } from "next/navigation";
 5: import { Sidebar } from "@/components/layout/sidebar";
 6: import { Header } from "@/components/layout/header";
 7: import { useAuth } from "@/hooks/use-auth";
 8: import { Loader2 } from "lucide-react";
 9: 
10: export default function ReportsLayout({
11:   children,
12: }: {
13:   children: React.ReactNode;
14: }) {
15:   const { user } = useAuth();
16:   const router = useRouter();
17:   const pathname = usePathname();
18:   const [isLoading, setIsLoading] = useState(true);
19:   const [currentPath, setCurrentPath] = useState(pathname);
20:   const [isTransitioning, setIsTransitioning] = useState(false);
21:   
22:   // Handle authentication check
23:   useEffect(() => {
24:     if (!user) {
25:       router.push("/login");
26:     } else {
27:       // Simulate loading delay
28:       const timer = setTimeout(() => {
29:         setIsLoading(false);
30:       }, 500);
31:       
32:       return () => clearTimeout(timer);
33:     }
34:   }, [user, router]);
35:   
36:   // Handle route transitions
37:   useEffect(() => {
38:     if (pathname !== currentPath) {
39:       setIsTransitioning(true);
40:       
41:       // Short delay to allow transition to complete
42:       const timer = setTimeout(() => {
43:         setCurrentPath(pathname);
44:         setIsTransitioning(false);
45:       }, 300);
46:       
47:       return () => clearTimeout(timer);
48:     }
49:   }, [pathname, currentPath]);
50:   
51:   if (!user || isLoading) {
52:     return (
53:       <div className="flex min-h-screen items-center justify-center">
54:         <div className="flex flex-col items-center space-y-4">
55:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
56:           <p className="text-lg font-medium">Loading...</p>
57:         </div>
58:       </div>
59:     );
60:   }
61:   
62:   return (
63:     <div className="flex min-h-screen">
64:       <div className="hidden md:block">
65:         <Sidebar />
66:       </div>
67:       <div className="flex flex-col flex-1">
68:         <Header />
69:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
70:           {children}
71:         </main>
72:       </div>
73:     </div>
74:   );
75: }
```

## app\reports\page.tsx

- Characters: 9669
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import dynamic from "next/dynamic";
  5: import {
  6:   Card,
  7:   CardContent,
  8:   CardDescription,
  9:   CardHeader,
 10:   CardTitle,
 11: } from "@/components/ui/card";
 12: import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
 13: import {
 14:   Select,
 15:   SelectContent,
 16:   SelectItem,
 17:   SelectTrigger,
 18:   SelectValue,
 19: } from "@/components/ui/select";
 20: import { Button } from "@/components/ui/button";
 21: import { Calendar } from "@/components/ui/calendar";
 22: import { Popover, PopoverContent, PopoverTrigger } from "@/components/ui/popover";
 23: import { format } from "date-fns";
 24: import { CalendarIcon, Download } from "lucide-react";
 25: import { Skeleton } from "@/components/ui/skeleton";
 26: 
 27: // Dynamically import chart components
 28: const DynamicCharts = dynamic(
 29:   () => import('@/components/dashboard/charts'),
 30:   { 
 31:     loading: () => <ChartSkeleton />,
 32:     ssr: false
 33:   }
 34: );
 35: 
 36: // Sample data for demonstration
 37: const salesData = [
 38:   { name: "Jan", total: 1200 },
 39:   { name: "Feb", total: 1800 },
 40:   { name: "Mar", total: 2200 },
 41:   { name: "Apr", total: 2600 },
 42:   { name: "May", total: 3200 },
 43:   { name: "Jun", total: 3800 },
 44:   { name: "Jul", total: 4200 },
 45: ];
 46: 
 47: const categoryData = [
 48:   { name: "Shirts", value: 400 },
 49:   { name: "Pants", value: 300 },
 50:   { name: "Dresses", value: 200 },
 51:   { name: "Accessories", value: 100 },
 52:   { name: "Shoes", value: 150 },
 53: ];
 54: 
 55: const warehouseData = [
 56:   { name: "Main Store", shirts: 200, pants: 150, dresses: 100 },
 57:   { name: "Downtown Branch", shirts: 150, pants: 100, dresses: 75 },
 58:   { name: "Mall Outlet", shirts: 50, pants: 50, dresses: 25 },
 59: ];
 60: 
 61: function ChartSkeleton() {
 62:   return (
 63:     <div className="w-full space-y-2">
 64:       <Skeleton className="h-[350px] w-full rounded-md" />
 65:     </div>
 66:   );
 67: }
 68: 
 69: export default function ReportsPage() {
 70:   const [date, setDate] = useState<Date | undefined>(new Date());
 71:   const [isLoading, setIsLoading] = useState(true);
 72:   const [activeTab, setActiveTab] = useState("sales");
 73: 
 74:   useEffect(() => {
 75:     // Simulate data loading
 76:     const timer = setTimeout(() => {
 77:       setIsLoading(false);
 78:     }, 1000);
 79:     
 80:     return () => clearTimeout(timer);
 81:   }, []);
 82: 
 83:   return (
 84:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 85:       <div className="flex items-center justify-between">
 86:         <h1 className="text-3xl font-bold tracking-tight">Reports</h1>
 87:         <div className="flex items-center gap-2">
 88:           <Popover>
 89:             <PopoverTrigger asChild>
 90:               <Button variant="outline" className="w-[240px] justify-start text-left font-normal">
 91:                 <CalendarIcon className="mr-2 h-4 w-4" />
 92:                 {date ? format(date, "PPP") : <span>Pick a date</span>}
 93:               </Button>
 94:             </PopoverTrigger>
 95:             <PopoverContent className="w-auto p-0" align="end">
 96:               <Calendar
 97:                 mode="single"
 98:                 selected={date}
 99:                 onSelect={setDate}
100:                 initialFocus
101:               />
102:             </PopoverContent>
103:           </Popover>
104:           <Button>
105:             <Download className="mr-2 h-4 w-4" />
106:             Export
107:           </Button>
108:         </div>
109:       </div>
110:       
111:       <Tabs 
112:         defaultValue="sales" 
113:         className="space-y-4"
114:         value={activeTab}
115:         onValueChange={setActiveTab}
116:       >
117:         <TabsList className="grid w-full grid-cols-4">
118:           <TabsTrigger value="sales">Sales</TabsTrigger>
119:           <TabsTrigger value="inventory">Inventory</TabsTrigger>
120:           <TabsTrigger value="purchases">Purchases</TabsTrigger>
121:           <TabsTrigger value="profit">Profit & Loss</TabsTrigger>
122:         </TabsList>
123:         
124:         <TabsContent value="sales" className="space-y-4">
125:           <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
126:             <Card>
127:               <CardHeader>
128:                 <CardTitle>Sales Trend</CardTitle>
129:                 <CardDescription>
130:                   Monthly sales performance for the current year
131:                 </CardDescription>
132:               </CardHeader>
133:               <CardContent className="pl-2">
134:                 {isLoading ? (
135:                   <ChartSkeleton />
136:                 ) : (
137:                   activeTab === "sales" && <DynamicCharts type="line" data={salesData} />
138:                 )}
139:               </CardContent>
140:             </Card>
141:             
142:             <Card>
143:               <CardHeader>
144:                 <CardTitle>Sales by Category</CardTitle>
145:                 <CardDescription>
146:                   Distribution of sales across product categories
147:                 </CardDescription>
148:               </CardHeader>
149:               <CardContent className="pl-2">
150:                 {isLoading ? (
151:                   <ChartSkeleton />
152:                 ) : (
153:                   activeTab === "sales" && <DynamicCharts type="pie" data={categoryData} />
154:                 )}
155:               </CardContent>
156:             </Card>
157:           </div>
158:         </TabsContent>
159:         
160:         <TabsContent value="inventory" className="space-y-4">
161:           <Card>
162:             <CardHeader className="flex flex-row items-center justify-between">
163:               <div>
164:                 <CardTitle>Inventory by Warehouse</CardTitle>
165:                 <CardDescription>
166:                   Current inventory levels across warehouses
167:                 </CardDescription>
168:               </div>
169:               <Select defaultValue="all">
170:                 <SelectTrigger className="w-[180px]">
171:                   <SelectValue placeholder="Select category" />
172:                 </SelectTrigger>
173:                 <SelectContent>
174:                   <SelectItem value="all">All Categories</SelectItem>
175:                   <SelectItem value="shirts">Shirts</SelectItem>
176:                   <SelectItem value="pants">Pants</SelectItem>
177:                   <SelectItem value="dresses">Dresses</SelectItem>
178:                 </SelectContent>
179:               </Select>
180:             </CardHeader>
181:             <CardContent className="pl-2">
182:               {isLoading ? (
183:                 <ChartSkeleton />
184:               ) : (
185:                 activeTab === "inventory" && <DynamicCharts type="bar" data={warehouseData} />
186:               )}
187:             </CardContent>
188:           </Card>
189:         </TabsContent>
190:         
191:         <TabsContent value="purchases" className="space-y-4">
192:           <Card>
193:             <CardHeader>
194:               <CardTitle>Purchase Orders by Supplier</CardTitle>
195:               <CardDescription>
196:                 Total purchase amounts by supplier
197:               </CardDescription>
198:             </CardHeader>
199:             <CardContent className="pl-2">
200:               {isLoading ? (
201:                 <ChartSkeleton />
202:               ) : (
203:                 activeTab === "purchases" && (
204:                   <DynamicCharts 
205:                     type="bar" 
206:                     data={[
207:                       { name: "Fashion Wholesale Co.", value: 12500 },
208:                       { name: "Textile Suppliers Inc.", value: 8750 },
209:                       { name: "Apparel Manufacturing Ltd.", value: 15200 },
210:                       { name: "Fabric Importers Co.", value: 6800 },
211:                       { name: "Accessory Distributors", value: 4500 },
212:                     ]}
213:                   />
214:                 )
215:               )}
216:             </CardContent>
217:           </Card>
218:         </TabsContent>
219:         
220:         <TabsContent value="profit" className="space-y-4">
221:           <Card>
222:             <CardHeader>
223:               <CardTitle>Profit & Loss Statement</CardTitle>
224:               <CardDescription>
225:                 Monthly revenue, cost, and profit
226:               </CardDescription>
227:             </CardHeader>
228:             <CardContent className="pl-2">
229:               {isLoading ? (
230:                 <ChartSkeleton />
231:               ) : (
232:                 activeTab === "profit" && (
233:                   <DynamicCharts 
234:                     type="line" 
235:                     data={[
236:                       { name: "Jan", total: 2000 },
237:                       { name: "Feb", total: 3000 },
238:                       { name: "Mar", total: 3600 },
239:                       { name: "Apr", total: 4200 },
240:                       { name: "May", total: 4800 },
241:                       { name: "Jun", total: 5600 },
242:                     ]}
243:                   />
244:                 )
245:               )}
246:             </CardContent>
247:           </Card>
248:         </TabsContent>
249:       </Tabs>
250:     </div>
251:   );
252: }
```

## app\sales\layout.tsx

- Characters: 2397
- Tokens: 0

```text
 1: "use client";
 2: 
 3: import { useEffect, useState } from "react";
 4: import { useRouter, usePathname } from "next/navigation";
 5: import { Sidebar } from "@/components/layout/sidebar";
 6: import { Header } from "@/components/layout/header";
 7: import { useAuth } from "@/hooks/use-auth";
 8: import { Loader2 } from "lucide-react";
 9: 
10: export default function SalesLayout({
11:   children,
12: }: {
13:   children: React.ReactNode;
14: }) {
15:   const { user } = useAuth();
16:   const router = useRouter();
17:   const pathname = usePathname();
18:   const [isLoading, setIsLoading] = useState(true);
19:   const [currentPath, setCurrentPath] = useState(pathname);
20:   const [isTransitioning, setIsTransitioning] = useState(false);
21:   
22:   // Handle authentication check
23:   useEffect(() => {
24:     if (!user) {
25:       router.push("/login");
26:     } else {
27:       // Simulate loading delay
28:       const timer = setTimeout(() => {
29:         setIsLoading(false);
30:       }, 500);
31:       
32:       return () => clearTimeout(timer);
33:     }
34:   }, [user, router]);
35:   
36:   // Handle route transitions
37:   useEffect(() => {
38:     if (pathname !== currentPath) {
39:       setIsTransitioning(true);
40:       
41:       // Short delay to allow transition to complete
42:       const timer = setTimeout(() => {
43:         setCurrentPath(pathname);
44:         setIsTransitioning(false);
45:       }, 300);
46:       
47:       return () => clearTimeout(timer);
48:     }
49:   }, [pathname, currentPath]);
50:   
51:   if (!user || isLoading) {
52:     return (
53:       <div className="flex min-h-screen items-center justify-center">
54:         <div className="flex flex-col items-center space-y-4">
55:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
56:           <p className="text-lg font-medium">Loading...</p>
57:         </div>
58:       </div>
59:     );
60:   }
61:   
62:   return (
63:     <div className="flex min-h-screen">
64:       <div className="hidden md:block">
65:         <Sidebar />
66:       </div>
67:       <div className="flex flex-col flex-1">
68:         <Header />
69:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
70:           {children}
71:         </main>
72:       </div>
73:     </div>
74:   );
75: }
```

## app\sales\page.tsx

- Characters: 7420
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import Link from "next/link";
  4: import { Plus, Edit, Eye } from "lucide-react";
  5: import { Button } from "@/components/ui/button";
  6: import {
  7:   Card,
  8:   CardContent,
  9:   CardDescription,
 10:   CardHeader,
 11:   CardTitle,
 12: } from "@/components/ui/card";
 13: import {
 14:   Table,
 15:   TableBody,
 16:   TableCell,
 17:   TableHead,
 18:   TableHeader,
 19:   TableRow,
 20: } from "@/components/ui/table";
 21: import { Badge } from "@/components/ui/badge";
 22: import { format } from "date-fns";
 23: import { useState, useEffect } from "react";
 24: import { Skeleton } from "@/components/ui/skeleton";
 25: import { DeleteButton } from "@/components/shared/delete-button";
 26: import { useToast } from "@/hooks/use-toast";
 27: 
 28: // Sample data for demonstration
 29: const sales = [
 30:   {
 31:     id: "1",
 32:     salesNumber: "SO-2023-001",
 33:     warehouse: "Main Store",
 34:     status: "COMPLETED",
 35:     salesDate: new Date("2023-05-18"),
 36:     customerName: "Walk-in Customer",
 37:     totalItems: 5,
 38:     totalAmount: 249.95,
 39:   },
 40:   {
 41:     id: "2",
 42:     salesNumber: "SO-2023-002",
 43:     warehouse: "Main Store",
 44:     status: "COMPLETED",
 45:     salesDate: new Date("2023-05-20"),
 46:     customerName: "John Smith",
 47:     totalItems: 3,
 48:     totalAmount: 119.97,
 49:   },
 50:   {
 51:     id: "3",
 52:     salesNumber: "SO-2023-003",
 53:     warehouse: "Downtown Branch",
 54:     status: "DRAFT",
 55:     salesDate: new Date("2023-06-01"),
 56:     customerName: "Sarah Johnson",
 57:     totalItems: 8,
 58:     totalAmount: 399.92,
 59:   },
 60:   {
 61:     id: "4",
 62:     salesNumber: "SO-2023-004",
 63:     warehouse: "Main Store",
 64:     status: "CANCELLED",
 65:     salesDate: new Date("2023-05-25"),
 66:     customerName: "Michael Brown",
 67:     totalItems: 2,
 68:     totalAmount: 79.98,
 69:   },
 70: ];
 71: 
 72: const getStatusBadge = (status: string) => {
 73:   switch (status) {
 74:     case "COMPLETED":
 75:       return <Badge className="bg-emerald-500">Completed</Badge>;
 76:     case "DRAFT":
 77:       return <Badge variant="outline">Draft</Badge>;
 78:     case "CANCELLED":
 79:       return <Badge variant="destructive">Cancelled</Badge>;
 80:     default:
 81:       return <Badge variant="outline">{status}</Badge>;
 82:   }
 83: };
 84: 
 85: export default function SalesPage() {
 86:   const [isLoading, setIsLoading] = useState(true);
 87:   const [data, setData] = useState(sales);
 88:   const { toast } = useToast();
 89: 
 90:   useEffect(() => {
 91:     // Simulate data loading
 92:     const timer = setTimeout(() => {
 93:       setIsLoading(false);
 94:     }, 1000);
 95:     
 96:     return () => clearTimeout(timer);
 97:   }, []);
 98: 
 99:   const handleDelete = async (id: string) => {
100:     // Simulate API call to delete sales order
101:     return new Promise<void>((resolve, reject) => {
102:       setTimeout(() => {
103:         const sale = data.find(s => s.id === id);
104:         
105:         if (sale?.status === "COMPLETED") {
106:           reject(new Error("Cannot delete a completed sales order."));
107:         } else {
108:           setData(data.filter(s => s.id !== id));
109:           resolve();
110:         }
111:       }, 1000);
112:     });
113:   };
114: 
115:   return (
116:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
117:       <div className="flex items-center justify-between">
118:         <h1 className="text-3xl font-bold tracking-tight">Sales Orders</h1>
119:         <Button asChild>
120:           <Link href="/sales/new">
121:             <Plus className="mr-2 h-4 w-4" />
122:             New Sale
123:           </Link>
124:         </Button>
125:       </div>
126:       
127:       <Card>
128:         <CardHeader>
129:           <CardTitle>Sales History</CardTitle>
130:           <CardDescription>
131:             Track and manage your sales transactions
132:           </CardDescription>
133:         </CardHeader>
134:         <CardContent>
135:           {isLoading ? (
136:             <div className="space-y-2">
137:               <Skeleton className="h-10 w-full" />
138:               <Skeleton className="h-10 w-full" />
139:               <Skeleton className="h-10 w-full" />
140:               <Skeleton className="h-10 w-full" />
141:             </div>
142:           ) : (
143:             <Table>
144:               <TableHeader>
145:                 <TableRow>
146:                   <TableHead>Sales Number</TableHead>
147:                   <TableHead>Warehouse</TableHead>
148:                   <TableHead>Status</TableHead>
149:                   <TableHead>Date</TableHead>
150:                   <TableHead>Customer</TableHead>
151:                   <TableHead className="text-right">Items</TableHead>
152:                   <TableHead className="text-right">Total Amount</TableHead>
153:                   <TableHead className="text-right">Actions</TableHead>
154:                 </TableRow>
155:               </TableHeader>
156:               <TableBody>
157:                 {data.map((sale) => (
158:                   <TableRow key={sale.id}>
159:                     <TableCell className="font-medium">
160:                       {sale.salesNumber}
161:                     </TableCell>
162:                     <TableCell>{sale.warehouse}</TableCell>
163:                     <TableCell>{getStatusBadge(sale.status)}</TableCell>
164:                     <TableCell>
165:                       {format(sale.salesDate, "MMM dd, yyyy")}
166:                     </TableCell>
167:                     <TableCell>{sale.customerName}</TableCell>
168:                     <TableCell className="text-right">
169:                       {sale.totalItems}
170:                     </TableCell>
171:                     <TableCell className="text-right">
172:                       ${sale.totalAmount.toFixed(2)}
173:                     </TableCell>
174:                     <TableCell className="text-right">
175:                       <div className="flex justify-end gap-2">
176:                         <Button variant="ghost" size="icon" asChild>
177:                           <Link href={`/sales/${sale.id}`}>
178:                             <Eye className="h-4 w-4" />
179:                           </Link>
180:                         </Button>
181:                         <Button variant="ghost" size="icon" asChild>
182:                           <Link href={`/sales/${sale.id}/edit`}>
183:                             <Edit className="h-4 w-4" />
184:                           </Link>
185:                         </Button>
186:                         <DeleteButton
187:                           id={sale.id}
188:                           name={sale.salesNumber}
189:                           onDelete={handleDelete}
190:                           disabled={sale.status === "COMPLETED"}
191:                           disabledReason="Cannot delete a completed sales order."
192:                         />
193:                       </div>
194:                     </TableCell>
195:                   </TableRow>
196:                 ))}
197:               </TableBody>
198:             </Table>
199:           )}
200:         </CardContent>
201:       </Card>
202:     </div>
203:   );
204: }
```

## app\sales\[id]\page.tsx

- Characters: 17179
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import Link from "next/link";
  6: import { ArrowLeft, Edit, Package, Calendar, User } from "lucide-react";
  7: import { Button } from "@/components/ui/button";
  8: import {
  9:   Card,
 10:   CardContent,
 11:   CardDescription,
 12:   CardHeader,
 13:   CardTitle,
 14: } from "@/components/ui/card";
 15: import {
 16:   Table,
 17:   TableBody,
 18:   TableCell,
 19:   TableHead,
 20:   TableHeader,
 21:   TableRow,
 22: } from "@/components/ui/table";
 23: import { Skeleton } from "@/components/ui/skeleton";
 24: import { Badge } from "@/components/ui/badge";
 25: import { DeleteButton } from "@/components/shared/delete-button";
 26: import { useToast } from "@/hooks/use-toast";
 27: import { format } from "date-fns";
 28: 
 29: interface SalesOrder {
 30:   id: string;
 31:   salesNumber: string;
 32:   warehouse: string;
 33:   status: string;
 34:   salesDate: Date;
 35:   customerName: string;
 36:   customerContact?: string;
 37:   totalItems: number;
 38:   totalAmount: number;
 39:   items: SalesItem[];
 40: }
 41: 
 42: interface SalesItem {
 43:   id: string;
 44:   productId: string;
 45:   sku: string;
 46:   name: string;
 47:   quantity: number;
 48:   unitPrice: number;
 49: }
 50: 
 51: export default function SalesDetailsPage({ params }: { params: { id: string } }) {
 52:   const router = useRouter();
 53:   const { toast } = useToast();
 54:   const [sale, setSale] = useState<SalesOrder | null>(null);
 55:   const [isLoading, setIsLoading] = useState(true);
 56: 
 57:   useEffect(() => {
 58:     // Simulate API call to fetch sales order details
 59:     const fetchSale = async () => {
 60:       setIsLoading(true);
 61:       try {
 62:         // In a real app, this would be an API call
 63:         // const response = await fetch(`/api/sales/${params.id}`);
 64:         // const data = await response.json();
 65:         
 66:         // Simulate API response with mock data
 67:         setTimeout(() => {
 68:           const mockSales = [
 69:             {
 70:               id: "1",
 71:               salesNumber: "SO-2023-001",
 72:               warehouse: "Main Store",
 73:               status: "COMPLETED",
 74:               salesDate: new Date("2023-05-18"),
 75:               customerName: "Walk-in Customer",
 76:               totalItems: 5,
 77:               totalAmount: 249.95,
 78:               items: [
 79:                 {
 80:                   id: "1",
 81:                   productId: "1",
 82:                   sku: "SH-001",
 83:                   name: "Cotton T-Shirt",
 84:                   quantity: 3,
 85:                   unitPrice: 24.99
 86:                 },
 87:                 {
 88:                   id: "2",
 89:                   productId: "4",
 90:                   sku: "AC-001",
 91:                   name: "Leather Belt",
 92:                   quantity: 2,
 93:                   unitPrice: 19.99
 94:                 }
 95:               ]
 96:             },
 97:             {
 98:               id: "2",
 99:               salesNumber: "SO-2023-002",
100:               warehouse: "Main Store",
101:               status: "COMPLETED",
102:               salesDate: new Date("2023-05-20"),
103:               customerName: "John Smith",
104:               customerContact: "555-555-5555",
105:               totalItems: 3,
106:               totalAmount: 119.97,
107:               items: [
108:                 {
109:                   id: "3",
110:                   productId: "1",
111:                   sku: "SH-001",
112:                   name: "Cotton T-Shirt",
113:                   quantity: 3,
114:                   unitPrice: 24.99
115:                 },
116:                 {
117:                   id: "4",
118:                   productId: "4",
119:                   sku: "AC-001",
120:                   name: "Leather Belt",
121:                   quantity: 1,
122:                   unitPrice: 19.99
123:                 }
124:               ]
125:             },
126:             {
127:               id: "3",
128:               salesNumber: "SO-2023-003",
129:               warehouse: "Downtown Branch",
130:               status: "DRAFT",
131:               salesDate: new Date("2023-06-01"),
132:               customerName: "Sarah Johnson",
133:               customerContact: "555-123-4567",
134:               totalItems: 8,
135:               totalAmount: 399.92,
136:               items: [
137:                 {
138:                   id: "5",
139:                   productId: "2",
140:                   sku: "PA-001",
141:                   name: "Slim Fit Jeans",
142:                   quantity: 4,
143:                   unitPrice: 39.99
144:                 },
145:                 {
146:                   id: "6",
147:                   productId: "3",
148:                   sku: "DR-001",
149:                   name: "Summer Dress",
150:                   quantity: 4,
151:                   unitPrice: 49.99
152:                 }
153:               ]
154:             },
155:             {
156:               id: "4",
157:               salesNumber: "SO-2023-004",
158:               warehouse: "Main Store",
159:               status: "CANCELLED",
160:               salesDate: new Date("2023-05-25"),
161:               customerName: "Michael Brown",
162:               customerContact: "555-987-6543",
163:               totalItems: 2,
164:               totalAmount: 79.98,
165:               items: [
166:                 {
167:                   id: "7",
168:                   productId: "5",
169:                   sku: "SH-002",
170:                   name: "Polo Shirt",
171:                   quantity: 2,
172:                   unitPrice: 29.99
173:                 }
174:               ]
175:             }
176:           ];
177:           
178:           const foundSale = mockSales.find(s => s.id === params.id);
179:           setSale(foundSale || null);
180:           setIsLoading(false);
181:         }, 1000);
182:       } catch (error) {
183:         toast({
184:           title: "Error",
185:           description: "Failed to load sales order details",
186:           variant: "destructive",
187:         });
188:         setIsLoading(false);
189:       }
190:     };
191: 
192:     fetchSale();
193:   }, [params.id, toast]);
194: 
195:   const handleDelete = async (id: string) => {
196:     // Simulate API call to delete sales order
197:     return new Promise<void>((resolve, reject) => {
198:       setTimeout(() => {
199:         // In a real app, this would be an API call
200:         // const response = await fetch(`/api/sales/${id}`, { method: 'DELETE' });
201:         // if (!response.ok) throw new Error('Failed to delete sales order');
202:         
203:         if (sale?.status === "COMPLETED") {
204:           reject(new Error("Cannot delete a completed sales order."));
205:         } else {
206:           router.push("/sales");
207:           resolve();
208:         }
209:       }, 1000);
210:     });
211:   };
212: 
213:   const getStatusBadge = (status: string) => {
214:     switch (status) {
215:       case "COMPLETED":
216:         return <Badge className="bg-emerald-500">Completed</Badge>;
217:       case "DRAFT":
218:         return <Badge variant="outline">Draft</Badge>;
219:       case "CANCELLED":
220:         return <Badge variant="destructive">Cancelled</Badge>;
221:       default:
222:         return <Badge variant="outline">{status}</Badge>;
223:     }
224:   };
225: 
226:   return (
227:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
228:       <div className="flex items-center justify-between">
229:         <div className="flex items-center gap-2">
230:           <Button variant="ghost" size="icon" asChild>
231:             <Link href="/sales">
232:               <ArrowLeft className="h-4 w-4" />
233:             </Link>
234:           </Button>
235:           <h1 className="text-3xl font-bold tracking-tight">
236:             {isLoading ? <Skeleton className="h-9 w-40" /> : sale?.salesNumber}
237:           </h1>
238:         </div>
239:         
240:         <div className="flex items-center gap-2">
241:           {!isLoading && sale && (
242:             <>
243:               <Button variant="outline" size="sm" asChild>
244:                 <Link href={`/sales/${params.id}/edit`}>
245:                   <Edit className="mr-2 h-4 w-4" />
246:                   Edit
247:                 </Link>
248:               </Button>
249:               
250:               <DeleteButton
251:                 id={params.id}
252:                 name={sale.salesNumber}
253:                 onDelete={handleDelete}
254:                 disabled={sale.status === "COMPLETED"}
255:                 disabledReason="Cannot delete a completed sales order."
256:               />
257:             </>
258:           )}
259:         </div>
260:       </div>
261:       
262:       {isLoading ? (
263:         <Card>
264:           <CardHeader>
265:             <Skeleton className="h-7 w-40 mb-2" />
266:             <Skeleton className="h-5 w-60" />
267:           </CardHeader>
268:           <CardContent className="space-y-4">
269:             <Skeleton className="h-5 w-full" />
270:             <Skeleton className="h-5 w-3/4" />
271:             <Skeleton className="h-5 w-1/2" />
272:           </CardContent>
273:         </Card>
274:       ) : sale ? (
275:         <>
276:           <Card>
277:             <CardHeader>
278:               <CardTitle className="flex items-center justify-between">
279:                 Sales Order Details
280:                 {getStatusBadge(sale.status)}
281:               </CardTitle>
282:               <CardDescription>
283:                 Detailed information about this sales order
284:               </CardDescription>
285:             </CardHeader>
286:             <CardContent className="space-y-6">
287:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
288:                 <div className="flex items-start gap-2">
289:                   <User className="h-5 w-5 text-muted-foreground mt-0.5" />
290:                   <div>
291:                     <h3 className="text-sm font-medium text-muted-foreground">Customer</h3>
292:                     <p className="text-base">{sale.customerName}</p>
293:                     {sale.customerContact && (
294:                       <p className="text-sm text-muted-foreground">{sale.customerContact}</p>
295:                     )}
296:                   </div>
297:                 </div>
298:                 <div>
299:                   <h3 className="text-sm font-medium text-muted-foreground">Warehouse</h3>
300:                   <p className="text-base">{sale.warehouse}</p>
301:                 </div>
302:               </div>
303:               
304:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
305:                 <div className="flex items-start gap-2">
306:                   <Calendar className="h-5 w-5 text-muted-foreground mt-0.5" />
307:                   <div>
308:                     <h3 className="text-sm font-medium text-muted-foreground">Sales Date</h3>
309:                     <p className="text-base">{format(sale.salesDate, "MMM dd, yyyy")}</p>
310:                   </div>
311:                 </div>
312:                 <div>
313:                   <h3 className="text-sm font-medium text-muted-foreground">Status</h3>
314:                   <p className="text-base">{sale.status}</p>
315:                 </div>
316:               </div>
317:               
318:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
319:                 <div>
320:                   <h3 className="text-sm font-medium text-muted-foreground">Total Items</h3>
321:                   <p className="text-base">{sale.totalItems}</p>
322:                 </div>
323:                 <div>
324:                   <h3 className="text-sm font-medium text-muted-foreground">Total Amount</h3>
325:                   <p className="text-base font-medium">${sale.totalAmount.toFixed(2)}</p>
326:                 </div>
327:               </div>
328:             </CardContent>
329:           </Card>
330:           
331:           <Card>
332:             <CardHeader>
333:               <CardTitle className="flex items-center">
334:                 <Package className="mr-2 h-5 w-5" />
335:                 Order Items
336:               </CardTitle>
337:               <CardDescription>
338:                 Products included in this sales order
339:               </CardDescription>
340:             </CardHeader>
341:             <CardContent>
342:               <Table>
343:                 <TableHeader>
344:                   <TableRow>
345:                     <TableHead>SKU</TableHead>
346:                     <TableHead>Product</TableHead>
347:                     <TableHead className="text-right">Quantity</TableHead>
348:                     <TableHead className="text-right">Unit Price</TableHead>
349:                     <TableHead className="text-right">Total</TableHead>
350:                   </TableRow>
351:                 </TableHeader>
352:                 <TableBody>
353:                   {sale.items.map((item) => (
354:                     <TableRow key={item.id}>
355:                       <TableCell className="font-medium">{item.sku}</TableCell>
356:                       <TableCell>{item.name}</TableCell>
357:                       <TableCell className="text-right">{item.quantity}</TableCell>
358:                       <TableCell className="text-right">${item.unitPrice.toFixed(2)}</TableCell>
359:                       <TableCell className="text-right">${(item.quantity * item.unitPrice).toFixed(2)}</TableCell>
360:                     </TableRow>
361:                   ))}
362:                   <TableRow>
363:                     <TableCell colSpan={4} className="text-right font-medium">
364:                       Subtotal
365:                     </TableCell>
366:                     <TableCell className="text-right font-medium">
367:                       ${sale.totalAmount.toFixed(2)}
368:                     </TableCell>
369:                   </TableRow>
370:                   <TableRow>
371:                     <TableCell colSpan={4} className="text-right font-medium">
372:                       Tax
373:                     </TableCell>
374:                     <TableCell className="text-right font-medium">
375:                       $0.00
376:                     </TableCell>
377:                   </TableRow>
378:                   <TableRow>
379:                     <TableCell colSpan={4} className="text-right font-bold">
380:                       Total
381:                     </TableCell>
382:                     <TableCell className="text-right font-bold">
383:                       ${sale.totalAmount.toFixed(2)}
384:                     </TableCell>
385:                   </TableRow>
386:                 </TableBody>
387:               </Table>
388:             </CardContent>
389:           </Card>
390:           
391:           {sale.status === "COMPLETED" && (
392:             <Card>
393:               <CardHeader>
394:                 <CardTitle>Payment Information</CardTitle>
395:                 <CardDescription>
396:                   Payment details for this sales order
397:                 </CardDescription>
398:               </CardHeader>
399:               <CardContent>
400:                 <div className="space-y-4">
401:                   <div className="flex justify-between items-center py-2 border-b">
402:                     <span>Payment Method</span>
403:                     <span className="font-medium">Credit Card</span>
404:                   </div>
405:                   <div className="flex justify-between items-center py-2 border-b">
406:                     <span>Payment Date</span>
407:                     <span className="font-medium">{format(sale.salesDate, "MMM dd, yyyy")}</span>
408:                   </div>
409:                   <div className="flex justify-between items-center py-2">
410:                     <span>Payment Status</span>
411:                     <Badge className="bg-emerald-500">Paid</Badge>
412:                   </div>
413:                 </div>
414:               </CardContent>
415:             </Card>
416:           )}
417:         </>
418:       ) : (
419:         <Card>
420:           <CardContent className="flex flex-col items-center justify-center py-10">
421:             <h2 className="text-xl font-semibold mb-2">Sales Order Not Found</h2>
422:             <p className="text-muted-foreground mb-4">
423:               The sales order you're looking for doesn't exist or has been removed.
424:             </p>
425:             <Button asChild>
426:               <Link href="/sales">Back to Sales Orders</Link>
427:             </Button>
428:           </CardContent>
429:         </Card>
430:       )}
431:     </div>
432:   );
433: }
```

## app\settings\layout.tsx

- Characters: 2400
- Tokens: 0

```text
 1: "use client";
 2: 
 3: import { useEffect, useState } from "react";
 4: import { useRouter, usePathname } from "next/navigation";
 5: import { Sidebar } from "@/components/layout/sidebar";
 6: import { Header } from "@/components/layout/header";
 7: import { useAuth } from "@/hooks/use-auth";
 8: import { Loader2 } from "lucide-react";
 9: 
10: export default function SettingsLayout({
11:   children,
12: }: {
13:   children: React.ReactNode;
14: }) {
15:   const { user } = useAuth();
16:   const router = useRouter();
17:   const pathname = usePathname();
18:   const [isLoading, setIsLoading] = useState(true);
19:   const [currentPath, setCurrentPath] = useState(pathname);
20:   const [isTransitioning, setIsTransitioning] = useState(false);
21:   
22:   // Handle authentication check
23:   useEffect(() => {
24:     if (!user) {
25:       router.push("/login");
26:     } else {
27:       // Simulate loading delay
28:       const timer = setTimeout(() => {
29:         setIsLoading(false);
30:       }, 500);
31:       
32:       return () => clearTimeout(timer);
33:     }
34:   }, [user, router]);
35:   
36:   // Handle route transitions
37:   useEffect(() => {
38:     if (pathname !== currentPath) {
39:       setIsTransitioning(true);
40:       
41:       // Short delay to allow transition to complete
42:       const timer = setTimeout(() => {
43:         setCurrentPath(pathname);
44:         setIsTransitioning(false);
45:       }, 300);
46:       
47:       return () => clearTimeout(timer);
48:     }
49:   }, [pathname, currentPath]);
50:   
51:   if (!user || isLoading) {
52:     return (
53:       <div className="flex min-h-screen items-center justify-center">
54:         <div className="flex flex-col items-center space-y-4">
55:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
56:           <p className="text-lg font-medium">Loading...</p>
57:         </div>
58:       </div>
59:     );
60:   }
61:   
62:   return (
63:     <div className="flex min-h-screen">
64:       <div className="hidden md:block">
65:         <Sidebar />
66:       </div>
67:       <div className="flex flex-col flex-1">
68:         <Header />
69:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
70:           {children}
71:         </main>
72:       </div>
73:     </div>
74:   );
75: }
```

## app\settings\page.tsx

- Characters: 10757
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState } from "react";
  4: import { Button } from "@/components/ui/button";
  5: import {
  6:   Card,
  7:   CardContent,
  8:   CardDescription,
  9:   CardFooter,
 10:   CardHeader,
 11:   CardTitle,
 12: } from "@/components/ui/card";
 13: import { Input } from "@/components/ui/input";
 14: import { Label } from "@/components/ui/label";
 15: import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
 16: import { Separator } from "@/components/ui/separator";
 17: import { Switch } from "@/components/ui/switch";
 18: import { useToast } from "@/hooks/use-toast";
 19: 
 20: export default function SettingsPage() {
 21:   const { toast } = useToast();
 22:   const [isLoading, setIsLoading] = useState(false);
 23: 
 24:   const handleSave = () => {
 25:     setIsLoading(true);
 26:     
 27:     // Simulate API call
 28:     setTimeout(() => {
 29:       setIsLoading(false);
 30:       toast({
 31:         title: "Settings saved",
 32:         description: "Your settings have been saved successfully.",
 33:       });
 34:     }, 1000);
 35:   };
 36: 
 37:   return (
 38:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 39:       <h1 className="text-3xl font-bold tracking-tight">Settings</h1>
 40:       
 41:       <Tabs defaultValue="general" className="space-y-4">
 42:         <TabsList>
 43:           <TabsTrigger value="general">General</TabsTrigger>
 44:           <TabsTrigger value="notifications">Notifications</TabsTrigger>
 45:           <TabsTrigger value="appearance">Appearance</TabsTrigger>
 46:           <TabsTrigger value="company">Company</TabsTrigger>
 47:         </TabsList>
 48:         
 49:         <TabsContent value="general" className="space-y-4">
 50:           <Card>
 51:             <CardHeader>
 52:               <CardTitle>General Settings</CardTitle>
 53:               <CardDescription>
 54:                 Manage your account settings and preferences
 55:               </CardDescription>
 56:             </CardHeader>
 57:             <CardContent className="space-y-4">
 58:               <div className="space-y-2">
 59:                 <Label htmlFor="name">Name</Label>
 60:                 <Input id="name" defaultValue="System Admin" />
 61:               </div>
 62:               <div className="space-y-2">
 63:                 <Label htmlFor="email">Email</Label>
 64:                 <Input id="email" defaultValue="admin@example.com" />
 65:               </div>
 66:               <Separator className="my-4" />
 67:               <div className="space-y-2">
 68:                 <div className="flex items-center justify-between">
 69:                   <div>
 70:                     <Label htmlFor="marketing-emails">Marketing Emails</Label>
 71:                     <p className="text-sm text-muted-foreground">
 72:                       Receive emails about new products, features, and more.
 73:                     </p>
 74:                   </div>
 75:                   <Switch id="marketing-emails" />
 76:                 </div>
 77:               </div>
 78:               <div className="space-y-2">
 79:                 <div className="flex items-center justify-between">
 80:                   <div>
 81:                     <Label htmlFor="security-emails">Security Emails</Label>
 82:                     <p className="text-sm text-muted-foreground">
 83:                       Receive emails about your account security.
 84:                     </p>
 85:                   </div>
 86:                   <Switch id="security-emails" defaultChecked />
 87:                 </div>
 88:               </div>
 89:             </CardContent>
 90:             <CardFooter>
 91:               <Button onClick={handleSave} disabled={isLoading}>
 92:                 {isLoading ? "Saving..." : "Save Changes"}
 93:               </Button>
 94:             </CardFooter>
 95:           </Card>
 96:         </TabsContent>
 97:         
 98:         <TabsContent value="notifications" className="space-y-4">
 99:           <Card>
100:             <CardHeader>
101:               <CardTitle>Notification Preferences</CardTitle>
102:               <CardDescription>
103:                 Configure how you receive notifications
104:               </CardDescription>
105:             </CardHeader>
106:             <CardContent className="space-y-4">
107:               <div className="space-y-4">
108:                 <h3 className="text-lg font-medium">Email Notifications</h3>
109:                 <div className="space-y-2">
110:                   <div className="flex items-center justify-between">
111:                     <div>
112:                       <Label htmlFor="low-stock-email">Low Stock Alerts</Label>
113:                       <p className="text-sm text-muted-foreground">
114:                         Receive emails when products reach safety stock levels.
115:                       </p>
116:                     </div>
117:                     <Switch id="low-stock-email" defaultChecked />
118:                   </div>
119:                 </div>
120:                 <div className="space-y-2">
121:                   <div className="flex items-center justify-between">
122:                     <div>
123:                       <Label htmlFor="order-email">Purchase Order Updates</Label>
124:                       <p className="text-sm text-muted-foreground">
125:                         Receive emails about purchase order status changes.
126:                       </p>
127:                     </div>
128:                     <Switch id="order-email" defaultChecked />
129:                   </div>
130:                 </div>
131:               </div>
132:               
133:               <Separator className="my-4" />
134:               
135:               <div className="space-y-4">
136:                 <h3 className="text-lg font-medium">System Notifications</h3>
137:                 <div className="space-y-2">
138:                   <div className="flex items-center justify-between">
139:                     <div>
140:                       <Label htmlFor="browser-notifications">Browser Notifications</Label>
141:                       <p className="text-sm text-muted-foreground">
142:                         Show browser notifications for important events.
143:                       </p>
144:                     </div>
145:                     <Switch id="browser-notifications" />
146:                   </div>
147:                 </div>
148:               </div>
149:             </CardContent>
150:             <CardFooter>
151:               <Button onClick={handleSave} disabled={isLoading}>
152:                 {isLoading ? "Saving..." : "Save Changes"}
153:               </Button>
154:             </CardFooter>
155:           </Card>
156:         </TabsContent>
157:         
158:         <TabsContent value="appearance" className="space-y-4">
159:           <Card>
160:             <CardHeader>
161:               <CardTitle>Appearance</CardTitle>
162:               <CardDescription>
163:                 Customize the look and feel of the application
164:               </CardDescription>
165:             </CardHeader>
166:             <CardContent className="space-y-4">
167:               <div className="space-y-2">
168:                 <Label>Theme</Label>
169:                 <div className="grid grid-cols-3 gap-2">
170:                   <Button variant="outline" className="justify-start">
171:                     Light
172:                   </Button>
173:                   <Button variant="outline" className="justify-start">
174:                     Dark
175:                   </Button>
176:                   <Button variant="default" className="justify-start">
177:                     System
178:                   </Button>
179:                 </div>
180:               </div>
181:               
182:               <Separator className="my-4" />
183:               
184:               <div className="space-y-2">
185:                 <div className="flex items-center justify-between">
186:                   <div>
187:                     <Label htmlFor="dense-mode">Dense Mode</Label>
188:                     <p className="text-sm text-muted-foreground">
189:                       Show more content with compact spacing.
190:                     </p>
191:                   </div>
192:                   <Switch id="dense-mode" />
193:                 </div>
194:               </div>
195:             </CardContent>
196:             <CardFooter>
197:               <Button onClick={handleSave} disabled={isLoading}>
198:                 {isLoading ? "Saving..." : "Save Changes"}
199:               </Button>
200:             </CardFooter>
201:           </Card>
202:         </TabsContent>
203:         
204:         <TabsContent value="company" className="space-y-4">
205:           <Card>
206:             <CardHeader>
207:               <CardTitle>Company Information</CardTitle>
208:               <CardDescription>
209:                 Manage your company details and settings
210:               </CardDescription>
211:             </CardHeader>
212:             <CardContent className="space-y-4">
213:               <div className="space-y-2">
214:                 <Label htmlFor="company-name">Company Name</Label>
215:                 <Input id="company-name" defaultValue="Fashion Retail Inc." />
216:               </div>
217:               <div className="space-y-2">
218:                 <Label htmlFor="company-address">Address</Label>
219:                 <Input id="company-address" defaultValue="123 Fashion Street, Style City" />
220:               </div>
221:               <div className="space-y-2">
222:                 <Label htmlFor="company-phone">Phone</Label>
223:                 <Input id="company-phone" defaultValue="(555) 123-4567" />
224:               </div>
225:               <div className="space-y-2">
226:                 <Label htmlFor="company-email">Email</Label>
227:                 <Input id="company-email" defaultValue="info@fashionretail.com" />
228:               </div>
229:               <div className="space-y-2">
230:                 <Label htmlFor="tax-id">Tax ID / VAT Number</Label>
231:                 <Input id="tax-id" defaultValue="FR-12345678" />
232:               </div>
233:             </CardContent>
234:             <CardFooter>
235:               <Button onClick={handleSave} disabled={isLoading}>
236:                 {isLoading ? "Saving..." : "Save Changes"}
237:               </Button>
238:             </CardFooter>
239:           </Card>
240:         </TabsContent>
241:       </Tabs>
242:     </div>
243:   );
244: }
```

## app\suppliers\layout.tsx

- Characters: 2401
- Tokens: 0

```text
 1: "use client";
 2: 
 3: import { useEffect, useState } from "react";
 4: import { useRouter, usePathname } from "next/navigation";
 5: import { Sidebar } from "@/components/layout/sidebar";
 6: import { Header } from "@/components/layout/header";
 7: import { useAuth } from "@/hooks/use-auth";
 8: import { Loader2 } from "lucide-react";
 9: 
10: export default function SuppliersLayout({
11:   children,
12: }: {
13:   children: React.ReactNode;
14: }) {
15:   const { user } = useAuth();
16:   const router = useRouter();
17:   const pathname = usePathname();
18:   const [isLoading, setIsLoading] = useState(true);
19:   const [currentPath, setCurrentPath] = useState(pathname);
20:   const [isTransitioning, setIsTransitioning] = useState(false);
21:   
22:   // Handle authentication check
23:   useEffect(() => {
24:     if (!user) {
25:       router.push("/login");
26:     } else {
27:       // Simulate loading delay
28:       const timer = setTimeout(() => {
29:         setIsLoading(false);
30:       }, 500);
31:       
32:       return () => clearTimeout(timer);
33:     }
34:   }, [user, router]);
35:   
36:   // Handle route transitions
37:   useEffect(() => {
38:     if (pathname !== currentPath) {
39:       setIsTransitioning(true);
40:       
41:       // Short delay to allow transition to complete
42:       const timer = setTimeout(() => {
43:         setCurrentPath(pathname);
44:         setIsTransitioning(false);
45:       }, 300);
46:       
47:       return () => clearTimeout(timer);
48:     }
49:   }, [pathname, currentPath]);
50:   
51:   if (!user || isLoading) {
52:     return (
53:       <div className="flex min-h-screen items-center justify-center">
54:         <div className="flex flex-col items-center space-y-4">
55:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
56:           <p className="text-lg font-medium">Loading...</p>
57:         </div>
58:       </div>
59:     );
60:   }
61:   
62:   return (
63:     <div className="flex min-h-screen">
64:       <div className="hidden md:block">
65:         <Sidebar />
66:       </div>
67:       <div className="flex flex-col flex-1">
68:         <Header />
69:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
70:           {children}
71:         </main>
72:       </div>
73:     </div>
74:   );
75: }
```

## app\suppliers\new\page.tsx

- Characters: 11122
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState } from "react";
  4: import { useRouter } from "next/navigation";
  5: import { useForm } from "react-hook-form";
  6: import { zodResolver } from "@hookform/resolvers/zod";
  7: import * as z from "zod";
  8: import { ArrowLeft } from "lucide-react";
  9: import Link from "next/link";
 10: 
 11: import { Button } from "@/components/ui/button";
 12: import {
 13:   Form,
 14:   FormControl,
 15:   FormDescription,
 16:   FormField,
 17:   FormItem,
 18:   FormLabel,
 19:   FormMessage,
 20: } from "@/components/ui/form";
 21: import { Input } from "@/components/ui/input";
 22: import { Textarea } from "@/components/ui/textarea";
 23: import {
 24:   Select,
 25:   SelectContent,
 26:   SelectItem,
 27:   SelectTrigger,
 28:   SelectValue,
 29: } from "@/components/ui/select";
 30: import { useToast } from "@/hooks/use-toast";
 31: import {
 32:   Card,
 33:   CardContent,
 34:   CardDescription,
 35:   CardHeader,
 36:   CardTitle,
 37: } from "@/components/ui/card";
 38: 
 39: // Mock suppliers data - this would normally be in a database
 40: const mockSuppliers = [
 41:   {
 42:     id: "1",
 43:     name: "Fashion Wholesale Co.",
 44:     contactName: "John Smith",
 45:     email: "john@fashionwholesale.com",
 46:     phone: "555-123-4567",
 47:     address: "123 Supplier St, Supplier City",
 48:     status: "Active",
 49:   },
 50:   {
 51:     id: "2",
 52:     name: "Textile Suppliers Inc.",
 53:     contactName: "Jane Doe",
 54:     email: "jane@textilesuppliers.com",
 55:     phone: "555-987-6543",
 56:     address: "456 Textile Ave, Fabric City",
 57:     status: "Active",
 58:   },
 59:   {
 60:     id: "3",
 61:     name: "Apparel Manufacturing Ltd.",
 62:     contactName: "Robert Johnson",
 63:     email: "robert@apparelmanufacturing.com",
 64:     phone: "555-456-7890",
 65:     address: "789 Apparel Blvd, Manufacturing Town",
 66:     status: "Inactive",
 67:   },
 68:   {
 69:     id: "4",
 70:     name: "Fabric Importers Co.",
 71:     contactName: "Emily Chen",
 72:     email: "emily@fabricimporters.com",
 73:     phone: "555-234-5678",
 74:     address: "321 Import Road, Port City",
 75:     status: "Active",
 76:   },
 77:   {
 78:     id: "5",
 79:     name: "Accessory Distributors",
 80:     contactName: "Michael Brown",
 81:     email: "michael@accessorydist.com",
 82:     phone: "555-876-5432",
 83:     address: "654 Accessory Lane, Fashion District",
 84:     status: "Active",
 85:   },
 86: ];
 87: 
 88: // Create a global variable to store the updated suppliers if it doesn't exist
 89: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedSuppliers')) {
 90:   window.updatedSuppliers = [...mockSuppliers];
 91: }
 92: 
 93: const supplierSchema = z.object({
 94:   name: z.string().min(2, { message: "Name must be at least 2 characters" }),
 95:   contactName: z.string().optional(),
 96:   email: z.string().email({ message: "Please enter a valid email address" }).optional().or(z.literal('')),
 97:   phone: z.string().optional(),
 98:   address: z.string().optional(),
 99:   status: z.enum(["Active", "Inactive"]),
100: });
101: 
102: type SupplierFormValues = z.infer<typeof supplierSchema>;
103: 
104: export default function NewSupplierPage() {
105:   const router = useRouter();
106:   const { toast } = useToast();
107:   const [isLoading, setIsLoading] = useState(false);
108: 
109:   const form = useForm<SupplierFormValues>({
110:     resolver: zodResolver(supplierSchema),
111:     defaultValues: {
112:       name: "",
113:       contactName: "",
114:       email: "",
115:       phone: "",
116:       address: "",
117:       status: "Active",
118:     },
119:   });
120: 
121:   async function onSubmit(data: SupplierFormValues) {
122:     setIsLoading(true);
123:     
124:     try {
125:       // In a real application, this would be an API call
126:       // const response = await fetch("/api/suppliers", {
127:       //   method: "POST",
128:       //   headers: {
129:       //     "Content-Type": "application/json",
130:       //   },
131:       //   body: JSON.stringify(data),
132:       // });
133:       
134:       // if (!response.ok) {
135:       //   throw new Error("Failed to create supplier");
136:       // }
137:       
138:       // Simulate API call and update our mock database
139:       await new Promise(resolve => setTimeout(resolve, 1000));
140:       
141:       // Create a new supplier with a unique ID
142:       const newSupplier = {
143:         id: `${Date.now()}`, // Generate a unique ID
144:         ...data
145:       };
146:       
147:       // Add the new supplier to our mock database
148:       if (typeof window !== 'undefined') {
149:         window.updatedSuppliers = [...window.updatedSuppliers, newSupplier];
150:         console.log("Updated suppliers:", window.updatedSuppliers);
151:       }
152:       
153:       toast({
154:         title: "Supplier created",
155:         description: "The supplier has been created successfully.",
156:       });
157:       
158:       router.push("/suppliers");
159:     } catch (error) {
160:       toast({
161:         title: "Error",
162:         description: error instanceof Error ? error.message : "An error occurred",
163:         variant: "destructive",
164:       });
165:     } finally {
166:       setIsLoading(false);
167:     }
168:   }
169: 
170:   return (
171:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
172:       <div className="flex items-center gap-2">
173:         <Button variant="ghost" size="icon" asChild>
174:           <Link href="/suppliers">
175:             <ArrowLeft className="h-4 w-4" />
176:           </Link>
177:         </Button>
178:         <h1 className="text-3xl font-bold tracking-tight">Add New Supplier</h1>
179:       </div>
180:       
181:       <Card>
182:         <CardHeader>
183:           <CardTitle>Supplier Information</CardTitle>
184:           <CardDescription>
185:             Enter the details for the new supplier
186:           </CardDescription>
187:         </CardHeader>
188:         <CardContent>
189:           <Form {...form}>
190:             <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
191:               <FormField
192:                 control={form.control}
193:                 name="name"
194:                 render={({ field }) => (
195:                   <FormItem>
196:                     <FormLabel>Company Name</FormLabel>
197:                     <FormControl>
198:                       <Input placeholder="Supplier Company Name" {...field} />
199:                     </FormControl>
200:                     <FormMessage />
201:                   </FormItem>
202:                 )}
203:               />
204:               
205:               <FormField
206:                 control={form.control}
207:                 name="contactName"
208:                 render={({ field }) => (
209:                   <FormItem>
210:                     <FormLabel>Contact Person</FormLabel>
211:                     <FormControl>
212:                       <Input placeholder="Contact Person Name" {...field} />
213:                     </FormControl>
214:                     <FormDescription>
215:                       The primary contact person at this supplier
216:                     </FormDescription>
217:                     <FormMessage />
218:                   </FormItem>
219:                 )}
220:               />
221:               
222:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
223:                 <FormField
224:                   control={form.control}
225:                   name="email"
226:                   render={({ field }) => (
227:                     <FormItem>
228:                       <FormLabel>Email</FormLabel>
229:                       <FormControl>
230:                         <Input placeholder="email@example.com" {...field} />
231:                       </FormControl>
232:                       <FormMessage />
233:                     </FormItem>
234:                   )}
235:                 />
236:                 
237:                 <FormField
238:                   control={form.control}
239:                   name="phone"
240:                   render={({ field }) => (
241:                     <FormItem>
242:                       <FormLabel>Phone</FormLabel>
243:                       <FormControl>
244:                         <Input placeholder="555-123-4567" {...field} />
245:                       </FormControl>
246:                       <FormMessage />
247:                     </FormItem>
248:                   )}
249:                 />
250:               </div>
251:               
252:               <FormField
253:                 control={form.control}
254:                 name="address"
255:                 render={({ field }) => (
256:                   <FormItem>
257:                     <FormLabel>Address</FormLabel>
258:                     <FormControl>
259:                       <Textarea
260:                         placeholder="Supplier address..."
261:                         {...field}
262:                       />
263:                     </FormControl>
264:                     <FormMessage />
265:                   </FormItem>
266:                 )}
267:               />
268:               
269:               <FormField
270:                 control={form.control}
271:                 name="status"
272:                 render={({ field }) => (
273:                   <FormItem>
274:                     <FormLabel>Status</FormLabel>
275:                     <Select
276:                       onValueChange={field.onChange}
277:                       defaultValue={field.value}
278:                     >
279:                       <FormControl>
280:                         <SelectTrigger>
281:                           <SelectValue placeholder="Select status" />
282:                         </SelectTrigger>
283:                       </FormControl>
284:                       <SelectContent>
285:                         <SelectItem value="Active">Active</SelectItem>
286:                         <SelectItem value="Inactive">Inactive</SelectItem>
287:                       </SelectContent>
288:                     </Select>
289:                     <FormMessage />
290:                   </FormItem>
291:                 )}
292:               />
293:               
294:               <div className="flex justify-end space-x-2">
295:                 <Button
296:                   variant="outline"
297:                   onClick={() => router.push("/suppliers")}
298:                   type="button"
299:                 >
300:                   Cancel
301:                 </Button>
302:                 <Button type="submit" disabled={isLoading}>
303:                   {isLoading ? "Creating..." : "Create Supplier"}
304:                 </Button>
305:               </div>
306:             </form>
307:           </Form>
308:         </CardContent>
309:       </Card>
310:     </div>
311:   );
312: }
```

## app\suppliers\page.tsx

- Characters: 7690
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import Link from "next/link";
  4: import { Plus, Edit, Eye } from "lucide-react";
  5: import { Button } from "@/components/ui/button";
  6: import {
  7:   Card,
  8:   CardContent,
  9:   CardDescription,
 10:   CardHeader,
 11:   CardTitle,
 12: } from "@/components/ui/card";
 13: import {
 14:   Table,
 15:   TableBody,
 16:   TableCell,
 17:   TableHead,
 18:   TableHeader,
 19:   TableRow,
 20: } from "@/components/ui/table";
 21: import { Badge } from "@/components/ui/badge";
 22: import { useState, useEffect } from "react";
 23: import { Skeleton } from "@/components/ui/skeleton";
 24: import { DeleteButton } from "@/components/shared/delete-button";
 25: import { useToast } from "@/hooks/use-toast";
 26: 
 27: // Mock suppliers data - this would normally be in a database
 28: const mockSuppliers = [
 29:   {
 30:     id: "1",
 31:     name: "Fashion Wholesale Co.",
 32:     contactName: "John Smith",
 33:     email: "john@fashionwholesale.com",
 34:     phone: "555-123-4567",
 35:     address: "123 Supplier St, Supplier City",
 36:     status: "Active",
 37:   },
 38:   {
 39:     id: "2",
 40:     name: "Textile Suppliers Inc.",
 41:     contactName: "Jane Doe",
 42:     email: "jane@textilesuppliers.com",
 43:     phone: "555-987-6543",
 44:     address: "456 Textile Ave, Fabric City",
 45:     status: "Active",
 46:   },
 47:   {
 48:     id: "3",
 49:     name: "Apparel Manufacturing Ltd.",
 50:     contactName: "Robert Johnson",
 51:     email: "robert@apparelmanufacturing.com",
 52:     phone: "555-456-7890",
 53:     address: "789 Apparel Blvd, Manufacturing Town",
 54:     status: "Inactive",
 55:   },
 56:   {
 57:     id: "4",
 58:     name: "Fabric Importers Co.",
 59:     contactName: "Emily Chen",
 60:     email: "emily@fabricimporters.com",
 61:     phone: "555-234-5678",
 62:     address: "321 Import Road, Port City",
 63:     status: "Active",
 64:   },
 65:   {
 66:     id: "5",
 67:     name: "Accessory Distributors",
 68:     contactName: "Michael Brown",
 69:     email: "michael@accessorydist.com",
 70:     phone: "555-876-5432",
 71:     address: "654 Accessory Lane, Fashion District",
 72:     status: "Active",
 73:   },
 74: ];
 75: 
 76: // Create a global variable to store the updated suppliers if it doesn't exist
 77: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedSuppliers')) {
 78:   window.updatedSuppliers = [...mockSuppliers];
 79: }
 80: 
 81: export default function SuppliersPage() {
 82:   const [isLoading, setIsLoading] = useState(true);
 83:   const [data, setData] = useState(mockSuppliers);
 84:   const { toast } = useToast();
 85: 
 86:   useEffect(() => {
 87:     // Simulate data loading and get data from our mock database
 88:     const timer = setTimeout(() => {
 89:       if (typeof window !== 'undefined') {
 90:         setData(window.updatedSuppliers);
 91:       }
 92:       setIsLoading(false);
 93:     }, 1000);
 94:     
 95:     return () => clearTimeout(timer);
 96:   }, []);
 97: 
 98:   const handleDelete = async (id: string) => {
 99:     // Simulate API call to delete supplier
100:     return new Promise<void>((resolve, reject) => {
101:       setTimeout(() => {
102:         const supplier = data.find(s => s.id === id);
103:         
104:         if (supplier?.status === "Active") {
105:           reject(new Error("Cannot delete an active supplier. Deactivate it first."));
106:         } else {
107:           // Update our mock database
108:           const updatedData = data.filter(s => s.id !== id);
109:           setData(updatedData);
110:           
111:           if (typeof window !== 'undefined') {
112:             window.updatedSuppliers = updatedData;
113:           }
114:           
115:           resolve();
116:         }
117:       }, 1000);
118:     });
119:   };
120: 
121:   return (
122:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
123:       <div className="flex items-center justify-between">
124:         <h1 className="text-3xl font-bold tracking-tight">Suppliers</h1>
125:         <Button asChild>
126:           <Link href="/suppliers/new">
127:             <Plus className="mr-2 h-4 w-4" />
128:             Add Supplier
129:           </Link>
130:         </Button>
131:       </div>
132:       
133:       <Card>
134:         <CardHeader>
135:           <CardTitle>Supplier Directory</CardTitle>
136:           <CardDescription>
137:             Manage your suppliers and their contact information
138:           </CardDescription>
139:         </CardHeader>
140:         <CardContent>
141:           {isLoading ? (
142:             <div className="space-y-2">
143:               <Skeleton className="h-10 w-full" />
144:               <Skeleton className="h-10 w-full" />
145:               <Skeleton className="h-10 w-full" />
146:               <Skeleton className="h-10 w-full" />
147:               <Skeleton className="h-10 w-full" />
148:             </div>
149:           ) : (
150:             <Table>
151:               <TableHeader>
152:                 <TableRow>
153:                   <TableHead>Name</TableHead>
154:                   <TableHead>Contact Person</TableHead>
155:                   <TableHead>Email</TableHead>
156:                   <TableHead>Phone</TableHead>
157:                   <TableHead>Status</TableHead>
158:                   <TableHead className="text-right">Actions</TableHead>
159:                 </TableRow>
160:               </TableHeader>
161:               <TableBody>
162:                 {data.map((supplier) => (
163:                   <TableRow key={supplier.id}>
164:                     <TableCell className="font-medium">{supplier.name}</TableCell>
165:                     <TableCell>{supplier.contactName}</TableCell>
166:                     <TableCell>{supplier.email}</TableCell>
167:                     <TableCell>{supplier.phone}</TableCell>
168:                     <TableCell>
169:                       {supplier.status === "Active" ? (
170:                         <Badge className="bg-emerald-500">Active</Badge>
171:                       ) : (
172:                         <Badge variant="outline">Inactive</Badge>
173:                       )}
174:                     </TableCell>
175:                     <TableCell className="text-right">
176:                       <div className="flex justify-end gap-2">
177:                         <Button variant="ghost" size="icon" asChild>
178:                           <Link href={`/suppliers/${supplier.id}`}>
179:                             <Eye className="h-4 w-4" />
180:                           </Link>
181:                         </Button>
182:                         <Button variant="ghost" size="icon" asChild>
183:                           <Link href={`/suppliers/${supplier.id}/edit`}>
184:                             <Edit className="h-4 w-4" />
185:                           </Link>
186:                         </Button>
187:                         <DeleteButton
188:                           id={supplier.id}
189:                           name={supplier.name}
190:                           onDelete={handleDelete}
191:                           disabled={supplier.status === "Active"}
192:                           disabledReason="Cannot delete an active supplier. Deactivate it first."
193:                         />
194:                       </div>
195:                     </TableCell>
196:                   </TableRow>
197:                 ))}
198:               </TableBody>
199:             </Table>
200:           )}
201:         </CardContent>
202:       </Card>
203:     </div>
204:   );
205: }
```

## app\suppliers\[id]\edit\page.tsx

- Characters: 13780
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import { useForm } from "react-hook-form";
  6: import { zodResolver } from "@hookform/resolvers/zod";
  7: import * as z from "zod";
  8: import { ArrowLeft } from "lucide-react";
  9: import Link from "next/link";
 10: 
 11: import { Button } from "@/components/ui/button";
 12: import {
 13:   Form,
 14:   FormControl,
 15:   FormDescription,
 16:   FormField,
 17:   FormItem,
 18:   FormLabel,
 19:   FormMessage,
 20: } from "@/components/ui/form";
 21: import { Input } from "@/components/ui/input";
 22: import { Textarea } from "@/components/ui/textarea";
 23: import {
 24:   Select,
 25:   SelectContent,
 26:   SelectItem,
 27:   SelectTrigger,
 28:   SelectValue,
 29: } from "@/components/ui/select";
 30: import { useToast } from "@/hooks/use-toast";
 31: import {
 32:   Card,
 33:   CardContent,
 34:   CardDescription,
 35:   CardHeader,
 36:   CardTitle,
 37: } from "@/components/ui/card";
 38: import { Skeleton } from "@/components/ui/skeleton";
 39: 
 40: // Mock suppliers data - this would normally be in a database
 41: const mockSuppliers = [
 42:   {
 43:     id: "1",
 44:     name: "Fashion Wholesale Co.",
 45:     contactName: "John Smith",
 46:     email: "john@fashionwholesale.com",
 47:     phone: "555-123-4567",
 48:     address: "123 Supplier St, Supplier City",
 49:     status: "Active",
 50:   },
 51:   {
 52:     id: "2",
 53:     name: "Textile Suppliers Inc.",
 54:     contactName: "Jane Doe",
 55:     email: "jane@textilesuppliers.com",
 56:     phone: "555-987-6543",
 57:     address: "456 Textile Ave, Fabric City",
 58:     status: "Active",
 59:   },
 60:   {
 61:     id: "3",
 62:     name: "Apparel Manufacturing Ltd.",
 63:     contactName: "Robert Johnson",
 64:     email: "robert@apparelmanufacturing.com",
 65:     phone: "555-456-7890",
 66:     address: "789 Apparel Blvd, Manufacturing Town",
 67:     status: "Inactive",
 68:   },
 69:   {
 70:     id: "4",
 71:     name: "Fabric Importers Co.",
 72:     contactName: "Emily Chen",
 73:     email: "emily@fabricimporters.com",
 74:     phone: "555-234-5678",
 75:     address: "321 Import Road, Port City",
 76:     status: "Active",
 77:   },
 78:   {
 79:     id: "5",
 80:     name: "Accessory Distributors",
 81:     contactName: "Michael Brown",
 82:     email: "michael@accessorydist.com",
 83:     phone: "555-876-5432",
 84:     address: "654 Accessory Lane, Fashion District",
 85:     status: "Active",
 86:   },
 87: ];
 88: 
 89: // Create a global variable to store the updated suppliers
 90: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedSuppliers')) {
 91:   window.updatedSuppliers = [...mockSuppliers];
 92: }
 93: 
 94: const supplierSchema = z.object({
 95:   name: z.string().min(2, { message: "Name must be at least 2 characters" }),
 96:   contactName: z.string().optional(),
 97:   email: z.string().email({ message: "Please enter a valid email address" }).optional().or(z.literal('')),
 98:   phone: z.string().optional(),
 99:   address: z.string().optional(),
100:   status: z.enum(["Active", "Inactive"]),
101: });
102: 
103: type SupplierFormValues = z.infer<typeof supplierSchema>;
104: 
105: export default function EditSupplierPage({ params }: { params: { id: string } }) {
106:   const router = useRouter();
107:   const { toast } = useToast();
108:   const [isLoading, setIsLoading] = useState(false);
109:   const [isFetching, setIsFetching] = useState(true);
110:   const [supplier, setSupplier] = useState<SupplierFormValues | null>(null);
111: 
112:   const form = useForm<SupplierFormValues>({
113:     resolver: zodResolver(supplierSchema),
114:     defaultValues: {
115:       name: "",
116:       contactName: "",
117:       email: "",
118:       phone: "",
119:       address: "",
120:       status: "Active",
121:     },
122:   });
123: 
124:   useEffect(() => {
125:     // Fetch supplier data
126:     const fetchSupplier = async () => {
127:       setIsFetching(true);
128:       try {
129:         // In a real app, this would be an API call
130:         // const response = await fetch(`/api/suppliers/${params.id}`);
131:         // const data = await response.json();
132:         
133:         // Get data from our mock database (window.updatedSuppliers)
134:         setTimeout(() => {
135:           const suppliers = typeof window !== 'undefined' ? window.updatedSuppliers : mockSuppliers;
136:           const foundSupplier = suppliers.find(s => s.id === params.id);
137:           
138:           if (foundSupplier) {
139:             setSupplier(foundSupplier);
140:             form.reset({
141:               name: foundSupplier.name,
142:               contactName: foundSupplier.contactName || "",
143:               email: foundSupplier.email || "",
144:               phone: foundSupplier.phone || "",
145:               address: foundSupplier.address || "",
146:               status: foundSupplier.status as "Active" | "Inactive",
147:             });
148:           }
149:           
150:           setIsFetching(false);
151:         }, 1000);
152:       } catch (error) {
153:         toast({
154:           title: "Error",
155:           description: "Failed to load supplier details",
156:           variant: "destructive",
157:         });
158:         setIsFetching(false);
159:       }
160:     };
161: 
162:     fetchSupplier();
163:   }, [params.id, toast, form]);
164: 
165:   async function onSubmit(data: SupplierFormValues) {
166:     setIsLoading(true);
167:     
168:     try {
169:       // In a real application, this would be an API call
170:       // const response = await fetch(`/api/suppliers/${params.id}`, {
171:       //   method: "PUT",
172:       //   headers: {
173:       //     "Content-Type": "application/json",
174:       //   },
175:       //   body: JSON.stringify(data),
176:       // });
177:       
178:       // if (!response.ok) {
179:       //   throw new Error("Failed to update supplier");
180:       // }
181:       
182:       // Simulate API call and update our mock database
183:       await new Promise(resolve => setTimeout(resolve, 1000));
184:       
185:       // Update the supplier in our mock database
186:       if (typeof window !== 'undefined') {
187:         const index = window.updatedSuppliers.findIndex(s => s.id === params.id);
188:         if (index !== -1) {
189:           window.updatedSuppliers[index] = {
190:             ...window.updatedSuppliers[index],
191:             ...data
192:           };
193:           
194:           // Log the updated suppliers for debugging
195:           console.log("Updated suppliers:", window.updatedSuppliers);
196:         }
197:       }
198:       
199:       toast({
200:         title: "Supplier updated",
201:         description: "The supplier has been updated successfully.",
202:       });
203:       
204:       router.push(`/suppliers/${params.id}`);
205:     } catch (error) {
206:       toast({
207:         title: "Error",
208:         description: error instanceof Error ? error.message : "An error occurred",
209:         variant: "destructive",
210:       });
211:     } finally {
212:       setIsLoading(false);
213:     }
214:   }
215: 
216:   return (
217:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
218:       <div className="flex items-center gap-2">
219:         <Button variant="ghost" size="icon" asChild>
220:           <Link href={`/suppliers/${params.id}`}>
221:             <ArrowLeft className="h-4 w-4" />
222:           </Link>
223:         </Button>
224:         <h1 className="text-3xl font-bold tracking-tight">
225:           {isFetching ? <Skeleton className="h-9 w-40" /> : `Edit ${supplier?.name}`}
226:         </h1>
227:       </div>
228:       
229:       <Card>
230:         <CardHeader>
231:           <CardTitle>Supplier Information</CardTitle>
232:           <CardDescription>
233:             Update the supplier details
234:           </CardDescription>
235:         </CardHeader>
236:         <CardContent>
237:           {isFetching ? (
238:             <div className="space-y-4">
239:               <Skeleton className="h-10 w-full" />
240:               <Skeleton className="h-10 w-full" />
241:               <Skeleton className="h-10 w-full" />
242:               <Skeleton className="h-10 w-full" />
243:               <Skeleton className="h-10 w-full" />
244:             </div>
245:           ) : (
246:             <Form {...form}>
247:               <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
248:                 <FormField
249:                   control={form.control}
250:                   name="name"
251:                   render={({ field }) => (
252:                     <FormItem>
253:                       <FormLabel>Company Name</FormLabel>
254:                       <FormControl>
255:                         <Input placeholder="Supplier Company Name" {...field} />
256:                       </FormControl>
257:                       <FormMessage />
258:                     </FormItem>
259:                   )}
260:                 />
261:                 
262:                 <FormField
263:                   control={form.control}
264:                   name="contactName"
265:                   render={({ field }) => (
266:                     <FormItem>
267:                       <FormLabel>Contact Person</FormLabel>
268:                       <FormControl>
269:                         <Input placeholder="Contact Person Name" {...field} />
270:                       </FormControl>
271:                       <FormDescription>
272:                         The primary contact person at this supplier
273:                       </FormDescription>
274:                       <FormMessage />
275:                     </FormItem>
276:                   )}
277:                 />
278:                 
279:                 <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
280:                   <FormField
281:                     control={form.control}
282:                     name="email"
283:                     render={({ field }) => (
284:                       <FormItem>
285:                         <FormLabel>Email</FormLabel>
286:                         <FormControl>
287:                           <Input placeholder="email@example.com" {...field} />
288:                         </FormControl>
289:                         <FormMessage />
290:                       </FormItem>
291:                     )}
292:                   />
293:                   
294:                   <FormField
295:                     control={form.control}
296:                     name="phone"
297:                     render={({ field }) => (
298:                       <FormItem>
299:                         <FormLabel>Phone</FormLabel>
300:                         <FormControl>
301:                           <Input placeholder="555-123-4567" {...field} />
302:                         </FormControl>
303:                         <FormMessage />
304:                       </FormItem>
305:                     )}
306:                   />
307:                 </div>
308:                 
309:                 <FormField
310:                   control={form.control}
311:                   name="address"
312:                   render={({ field }) => (
313:                     <FormItem>
314:                       <FormLabel>Address</FormLabel>
315:                       <FormControl>
316:                         <Textarea
317:                           placeholder="Supplier address..."
318:                           {...field}
319:                         />
320:                       </FormControl>
321:                       <FormMessage />
322:                     </FormItem>
323:                   )}
324:                 />
325:                 
326:                 <FormField
327:                   control={form.control}
328:                   name="status"
329:                   render={({ field }) => (
330:                     <FormItem>
331:                       <FormLabel>Status</FormLabel>
332:                       <Select
333:                         onValueChange={field.onChange}
334:                         defaultValue={field.value}
335:                       >
336:                         <FormControl>
337:                           <SelectTrigger>
338:                             <SelectValue placeholder="Select status" />
339:                           </SelectTrigger>
340:                         </FormControl>
341:                         <SelectContent>
342:                           <SelectItem value="Active">Active</SelectItem>
343:                           <SelectItem value="Inactive">Inactive</SelectItem>
344:                         </SelectContent>
345:                       </Select>
346:                       <FormMessage />
347:                     </FormItem>
348:                   )}
349:                 />
350:                 
351:                 <div className="flex justify-end space-x-2">
352:                   <Button
353:                     variant="outline"
354:                     onClick={() => router.push(`/suppliers/${params.id}`)}
355:                     type="button"
356:                   >
357:                     Cancel
358:                   </Button>
359:                   <Button type="submit" disabled={isLoading}>
360:                     {isLoading ? "Saving..." : "Save Changes"}
361:                   </Button>
362:                 </div>
363:               </form>
364:             </Form>
365:           )}
366:         </CardContent>
367:       </Card>
368:     </div>
369:   );
370: }
```

## app\suppliers\[id]\page.tsx

- Characters: 13389
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import Link from "next/link";
  6: import { ArrowLeft, Edit, ShoppingCart, Mail, Phone, MapPin } from "lucide-react";
  7: import { Button } from "@/components/ui/button";
  8: import {
  9:   Card,
 10:   CardContent,
 11:   CardDescription,
 12:   CardHeader,
 13:   CardTitle,
 14: } from "@/components/ui/card";
 15: import { Skeleton } from "@/components/ui/skeleton";
 16: import { Badge } from "@/components/ui/badge";
 17: import { DeleteButton } from "@/components/shared/delete-button";
 18: import { useToast } from "@/hooks/use-toast";
 19: 
 20: // Mock suppliers data - this would normally be in a database
 21: const mockSuppliers = [
 22:   {
 23:     id: "1",
 24:     name: "Fashion Wholesale Co.",
 25:     contactName: "John Smith",
 26:     email: "john@fashionwholesale.com",
 27:     phone: "555-123-4567",
 28:     address: "123 Supplier St, Supplier City",
 29:     status: "Active",
 30:   },
 31:   {
 32:     id: "2",
 33:     name: "Textile Suppliers Inc.",
 34:     contactName: "Jane Doe",
 35:     email: "jane@textilesuppliers.com",
 36:     phone: "555-987-6543",
 37:     address: "456 Textile Ave, Fabric City",
 38:     status: "Active",
 39:   },
 40:   {
 41:     id: "3",
 42:     name: "Apparel Manufacturing Ltd.",
 43:     contactName: "Robert Johnson",
 44:     email: "robert@apparelmanufacturing.com",
 45:     phone: "555-456-7890",
 46:     address: "789 Apparel Blvd, Manufacturing Town",
 47:     status: "Inactive",
 48:   },
 49:   {
 50:     id: "4",
 51:     name: "Fabric Importers Co.",
 52:     contactName: "Emily Chen",
 53:     email: "emily@fabricimporters.com",
 54:     phone: "555-234-5678",
 55:     address: "321 Import Road, Port City",
 56:     status: "Active",
 57:   },
 58:   {
 59:     id: "5",
 60:     name: "Accessory Distributors",
 61:     contactName: "Michael Brown",
 62:     email: "michael@accessorydist.com",
 63:     phone: "555-876-5432",
 64:     address: "654 Accessory Lane, Fashion District",
 65:     status: "Active",
 66:   },
 67: ];
 68: 
 69: // Create a global variable to store the updated suppliers if it doesn't exist
 70: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedSuppliers')) {
 71:   window.updatedSuppliers = [...mockSuppliers];
 72: }
 73: 
 74: interface Supplier {
 75:   id: string;
 76:   name: string;
 77:   contactName: string;
 78:   email: string;
 79:   phone: string;
 80:   address: string;
 81:   status: string;
 82: }
 83: 
 84: export default function SupplierDetailsPage({ params }: { params: { id: string } }) {
 85:   const router = useRouter();
 86:   const { toast } = useToast();
 87:   const [supplier, setSupplier] = useState<Supplier | null>(null);
 88:   const [isLoading, setIsLoading] = useState(true);
 89: 
 90:   useEffect(() => {
 91:     // Fetch supplier data
 92:     const fetchSupplier = async () => {
 93:       setIsLoading(true);
 94:       try {
 95:         // In a real app, this would be an API call
 96:         // const response = await fetch(`/api/suppliers/${params.id}`);
 97:         // const data = await response.json();
 98:         
 99:         // Get data from our mock database (window.updatedSuppliers)
100:         setTimeout(() => {
101:           const suppliers = typeof window !== 'undefined' ? window.updatedSuppliers : mockSuppliers;
102:           const foundSupplier = suppliers.find(s => s.id === params.id);
103:           
104:           setSupplier(foundSupplier || null);
105:           setIsLoading(false);
106:         }, 1000);
107:       } catch (error) {
108:         toast({
109:           title: "Error",
110:           description: "Failed to load supplier details",
111:           variant: "destructive",
112:         });
113:         setIsLoading(false);
114:       }
115:     };
116: 
117:     fetchSupplier();
118:   }, [params.id, toast]);
119: 
120:   const handleDelete = async (id: string) => {
121:     // Simulate API call to delete supplier
122:     return new Promise<void>((resolve, reject) => {
123:       setTimeout(() => {
124:         // In a real app, this would be an API call
125:         // const response = await fetch(`/api/suppliers/${id}`, { method: 'DELETE' });
126:         // if (!response.ok) throw new Error('Failed to delete supplier');
127:         
128:         if (supplier?.status === "Active") {
129:           reject(new Error("Cannot delete an active supplier. Deactivate it first."));
130:         } else {
131:           // Update our mock database
132:           if (typeof window !== 'undefined') {
133:             window.updatedSuppliers = window.updatedSuppliers.filter(s => s.id !== id);
134:           }
135:           
136:           router.push("/suppliers");
137:           resolve();
138:         }
139:       }, 1000);
140:     });
141:   };
142: 
143:   return (
144:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
145:       <div className="flex items-center justify-between">
146:         <div className="flex items-center gap-2">
147:           <Button variant="ghost" size="icon" asChild>
148:             <Link href="/suppliers">
149:               <ArrowLeft className="h-4 w-4" />
150:             </Link>
151:           </Button>
152:           <h1 className="text-3xl font-bold tracking-tight">
153:             {isLoading ? <Skeleton className="h-9 w-40" /> : supplier?.name}
154:           </h1>
155:         </div>
156:         
157:         <div className="flex items-center gap-2">
158:           {!isLoading && supplier && (
159:             <>
160:               <Button variant="outline" size="sm" asChild>
161:                 <Link href={`/suppliers/${params.id}/edit`}>
162:                   <Edit className="mr-2 h-4 w-4" />
163:                   Edit
164:                 </Link>
165:               </Button>
166:               
167:               <DeleteButton
168:                 id={params.id}
169:                 name={supplier.name}
170:                 onDelete={handleDelete}
171:                 disabled={supplier.status === "Active"}
172:                 disabledReason="Cannot delete an active supplier. Deactivate it first."
173:               />
174:             </>
175:           )}
176:         </div>
177:       </div>
178:       
179:       {isLoading ? (
180:         <Card>
181:           <CardHeader>
182:             <Skeleton className="h-7 w-40 mb-2" />
183:             <Skeleton className="h-5 w-60" />
184:           </CardHeader>
185:           <CardContent className="space-y-4">
186:             <Skeleton className="h-5 w-full" />
187:             <Skeleton className="h-5 w-3/4" />
188:             <Skeleton className="h-5 w-1/2" />
189:           </CardContent>
190:         </Card>
191:       ) : supplier ? (
192:         <>
193:           <Card>
194:             <CardHeader>
195:               <CardTitle className="flex items-center justify-between">
196:                 Supplier Details
197:                 <Badge className={supplier.status === "Active" ? "bg-emerald-500" : "bg-gray-500"}>
198:                   {supplier.status}
199:                 </Badge>
200:               </CardTitle>
201:               <CardDescription>
202:                 Detailed information about this supplier
203:               </CardDescription>
204:             </CardHeader>
205:             <CardContent className="space-y-6">
206:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
207:                 <div>
208:                   <h3 className="text-sm font-medium text-muted-foreground">Company Name</h3>
209:                   <p className="text-base">{supplier.name}</p>
210:                 </div>
211:                 <div>
212:                   <h3 className="text-sm font-medium text-muted-foreground">Contact Person</h3>
213:                   <p className="text-base">{supplier.contactName}</p>
214:                 </div>
215:               </div>
216:               
217:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
218:                 <div className="flex items-start gap-2">
219:                   <Mail className="h-5 w-5 text-muted-foreground mt-0.5" />
220:                   <div>
221:                     <h3 className="text-sm font-medium text-muted-foreground">Email</h3>
222:                     <p className="text-base">{supplier.email}</p>
223:                   </div>
224:                 </div>
225:                 <div className="flex items-start gap-2">
226:                   <Phone className="h-5 w-5 text-muted-foreground mt-0.5" />
227:                   <div>
228:                     <h3 className="text-sm font-medium text-muted-foreground">Phone</h3>
229:                     <p className="text-base">{supplier.phone}</p>
230:                   </div>
231:                 </div>
232:               </div>
233:               
234:               <div className="flex items-start gap-2">
235:                 <MapPin className="h-5 w-5 text-muted-foreground mt-0.5" />
236:                 <div>
237:                   <h3 className="text-sm font-medium text-muted-foreground">Address</h3>
238:                   <p className="text-base">{supplier.address}</p>
239:                 </div>
240:               </div>
241:             </CardContent>
242:           </Card>
243:           
244:           <Card>
245:             <CardHeader>
246:               <CardTitle className="flex items-center">
247:                 <ShoppingCart className="mr-2 h-5 w-5" />
248:                 Purchase Orders
249:               </CardTitle>
250:               <CardDescription>
251:                 Recent purchase orders from this supplier
252:               </CardDescription>
253:             </CardHeader>
254:             <CardContent>
255:               {supplier.id === "1" || supplier.id === "2" ? (
256:                 <Table>
257:                   <TableHeader>
258:                     <TableRow>
259:                       <TableHead>Order Number</TableHead>
260:                       <TableHead>Date</TableHead>
261:                       <TableHead>Status</TableHead>
262:                       <TableHead className="text-right">Total</TableHead>
263:                       <TableHead className="text-right">Actions</TableHead>
264:                     </TableRow>
265:                   </TableHeader>
266:                   <TableBody>
267:                     {supplier.id === "1" && (
268:                       <TableRow>
269:                         <TableCell className="font-medium">PO-2023-001</TableCell>
270:                         <TableCell>May 15, 2023</TableCell>
271:                         <TableCell>
272:                           <Badge className="bg-emerald-500">Received</Badge>
273:                         </TableCell>
274:                         <TableCell className="text-right">$1,850.75</TableCell>
275:                         <TableCell className="text-right">
276:                           <Button variant="ghost" size="sm" asChild>
277:                             <Link href="/purchases/1">View</Link>
278:                           </Button>
279:                         </TableCell>
280:                       </TableRow>
281:                     )}
282:                     {supplier.id === "2" && (
283:                       <TableRow>
284:                         <TableCell className="font-medium">PO-2023-002</TableCell>
285:                         <TableCell>Jun 02, 2023</TableCell>
286:                         <TableCell>
287:                           <Badge className="bg-blue-500">Ordered</Badge>
288:                         </TableCell>
289:                         <TableCell className="text-right">$1,245.50</TableCell>
290:                         <TableCell className="text-right">
291:                           <Button variant="ghost" size="sm" asChild>
292:                             <Link href="/purchases/2">View</Link>
293:                           </Button>
294:                         </TableCell>
295:                       </TableRow>
296:                     )}
297:                   </TableBody>
298:                 </Table>
299:               ) : (
300:                 <div className="text-center py-8 text-muted-foreground">
301:                   No purchase orders found for this supplier
302:                 </div>
303:               )}
304:             </CardContent>
305:           </Card>
306:         </>
307:       ) : (
308:         <Card>
309:           <CardContent className="flex flex-col items-center justify-center py-10">
310:             <h2 className="text-xl font-semibold mb-2">Supplier Not Found</h2>
311:             <p className="text-muted-foreground mb-4">
312:               The supplier you're looking for doesn't exist or has been removed.
313:             </p>
314:             <Button asChild>
315:               <Link href="/suppliers">Back to Suppliers</Link>
316:             </Button>
317:           </CardContent>
318:         </Card>
319:       )}
320:     </div>
321:   );
322: }
323: 
324: // Add Table components for the purchase orders section
325: import {
326:   Table,
327:   TableBody,
328:   TableCell,
329:   TableHead,
330:   TableHeader,
331:   TableRow,
332: } from "@/components/ui/table";
```

## app\transfers\layout.tsx

- Characters: 2401
- Tokens: 0

```text
 1: "use client";
 2: 
 3: import { useEffect, useState } from "react";
 4: import { useRouter, usePathname } from "next/navigation";
 5: import { Sidebar } from "@/components/layout/sidebar";
 6: import { Header } from "@/components/layout/header";
 7: import { useAuth } from "@/hooks/use-auth";
 8: import { Loader2 } from "lucide-react";
 9: 
10: export default function TransfersLayout({
11:   children,
12: }: {
13:   children: React.ReactNode;
14: }) {
15:   const { user } = useAuth();
16:   const router = useRouter();
17:   const pathname = usePathname();
18:   const [isLoading, setIsLoading] = useState(true);
19:   const [currentPath, setCurrentPath] = useState(pathname);
20:   const [isTransitioning, setIsTransitioning] = useState(false);
21:   
22:   // Handle authentication check
23:   useEffect(() => {
24:     if (!user) {
25:       router.push("/login");
26:     } else {
27:       // Simulate loading delay
28:       const timer = setTimeout(() => {
29:         setIsLoading(false);
30:       }, 500);
31:       
32:       return () => clearTimeout(timer);
33:     }
34:   }, [user, router]);
35:   
36:   // Handle route transitions
37:   useEffect(() => {
38:     if (pathname !== currentPath) {
39:       setIsTransitioning(true);
40:       
41:       // Short delay to allow transition to complete
42:       const timer = setTimeout(() => {
43:         setCurrentPath(pathname);
44:         setIsTransitioning(false);
45:       }, 300);
46:       
47:       return () => clearTimeout(timer);
48:     }
49:   }, [pathname, currentPath]);
50:   
51:   if (!user || isLoading) {
52:     return (
53:       <div className="flex min-h-screen items-center justify-center">
54:         <div className="flex flex-col items-center space-y-4">
55:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
56:           <p className="text-lg font-medium">Loading...</p>
57:         </div>
58:       </div>
59:     );
60:   }
61:   
62:   return (
63:     <div className="flex min-h-screen">
64:       <div className="hidden md:block">
65:         <Sidebar />
66:       </div>
67:       <div className="flex flex-col flex-1">
68:         <Header />
69:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
70:           {children}
71:         </main>
72:       </div>
73:     </div>
74:   );
75: }
```

## app\transfers\new\page.tsx

- Characters: 160
- Tokens: 0

```text
1: {"code":"rate-limited","message":"You have hit the rate limit. You can continue to code for free in the editor.","providerLimitHit":false,"isRetryable":true}
```

## app\transfers\page.tsx

- Characters: 9649
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import Link from "next/link";
  4: import { Plus, Edit, Eye } from "lucide-react";
  5: import { Button } from "@/components/ui/button";
  6: import {
  7:   Card,
  8:   CardContent,
  9:   CardDescription,
 10:   CardHeader,
 11:   CardTitle,
 12: } from "@/components/ui/card";
 13: import {
 14:   Table,
 15:   TableBody,
 16:   TableCell,
 17:   TableHead,
 18:   TableHeader,
 19:   TableRow,
 20: } from "@/components/ui/table";
 21: import { Badge } from "@/components/ui/badge";
 22: import { format } from "date-fns";
 23: import { useState, useEffect } from "react";
 24: import { Skeleton } from "@/components/ui/skeleton";
 25: import { DeleteButton } from "@/components/shared/delete-button";
 26: import { useToast } from "@/hooks/use-toast";
 27: 
 28: // Mock transfer orders data
 29: const mockTransfers = [
 30:   {
 31:     id: "1",
 32:     transferNumber: "TR-2023-001",
 33:     sourceWarehouse: "Main Store",
 34:     sourceWarehouseId: "1",
 35:     destWarehouse: "Downtown Branch",
 36:     destWarehouseId: "2",
 37:     status: "COMPLETED",
 38:     transferDate: new Date("2023-05-20"),
 39:     notes: "Rebalancing inventory between stores",
 40:     totalItems: 35,
 41:     items: [
 42:       {
 43:         id: "1",
 44:         productId: "1",
 45:         sku: "SH-001",
 46:         name: "Cotton T-Shirt",
 47:         quantity: 20
 48:       },
 49:       {
 50:         id: "2",
 51:         productId: "2",
 52:         sku: "PA-001",
 53:         name: "Slim Fit Jeans",
 54:         quantity: 15
 55:       }
 56:     ]
 57:   },
 58:   {
 59:     id: "2",
 60:     transferNumber: "TR-2023-002",
 61:     sourceWarehouse: "Distribution Center",
 62:     sourceWarehouseId: "4",
 63:     destWarehouse: "Mall Outlet",
 64:     destWarehouseId: "3",
 65:     status: "PENDING",
 66:     transferDate: new Date("2023-06-05"),
 67:     notes: "Seasonal stock transfer",
 68:     totalItems: 48,
 69:     items: [
 70:       {
 71:         id: "3",
 72:         productId: "3",
 73:         sku: "DR-001",
 74:         name: "Summer Dress",
 75:         quantity: 25
 76:       },
 77:       {
 78:         id: "4",
 79:         productId: "4",
 80:         sku: "AC-001",
 81:         name: "Leather Belt",
 82:         quantity: 23
 83:       }
 84:     ]
 85:   },
 86:   {
 87:     id: "3",
 88:     transferNumber: "TR-2023-003",
 89:     sourceWarehouse: "Main Store",
 90:     sourceWarehouseId: "1",
 91:     destWarehouse: "Mall Outlet",
 92:     destWarehouseId: "3",
 93:     status: "DRAFT",
 94:     transferDate: new Date("2023-06-10"),
 95:     notes: "Summer collection transfer",
 96:     totalItems: 25,
 97:     items: [
 98:       {
 99:         id: "5",
100:         productId: "5",
101:         sku: "SH-002",
102:         name: "Polo Shirt",
103:         quantity: 25
104:       }
105:     ]
106:   },
107:   {
108:     id: "4",
109:     transferNumber: "TR-2023-004",
110:     sourceWarehouse: "Downtown Branch",
111:     sourceWarehouseId: "2",
112:     destWarehouse: "Seasonal Pop-up",
113:     destWarehouseId: "5",
114:     status: "CANCELLED",
115:     transferDate: new Date("2023-05-25"),
116:     notes: "Cancelled due to store closure",
117:     totalItems: 15,
118:     items: [
119:       {
120:         id: "6",
121:         productId: "1",
122:         sku: "SH-001",
123:         name: "Cotton T-Shirt",
124:         quantity: 15
125:       }
126:     ]
127:   },
128: ];
129: 
130: // Create a global variable to store the updated transfers if it doesn't exist
131: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedTransfers')) {
132:   window.updatedTransfers = [...mockTransfers];
133: }
134: 
135: const getStatusBadge = (status: string) => {
136:   switch (status) {
137:     case "COMPLETED":
138:       return <Badge className="bg-emerald-500">Completed</Badge>;
139:     case "PENDING":
140:       return <Badge className="bg-blue-500">Pending</Badge>;
141:     case "DRAFT":
142:       return <Badge variant="outline">Draft</Badge>;
143:     case "CANCELLED":
144:       return <Badge variant="destructive">Cancelled</Badge>;
145:     default:
146:       return <Badge variant="outline">{status}</Badge>;
147:   }
148: };
149: 
150: export default function TransfersPage() {
151:   const [isLoading, setIsLoading] = useState(true);
152:   const [data, setData] = useState(mockTransfers);
153:   const { toast } = useToast();
154: 
155:   useEffect(() => {
156:     // Simulate data loading and get data from our mock database
157:     const timer = setTimeout(() => {
158:       if (typeof window !== 'undefined') {
159:         setData(window.updatedTransfers || mockTransfers);
160:       }
161:       setIsLoading(false);
162:     }, 1000);
163:     
164:     return () => clearTimeout(timer);
165:   }, []);
166: 
167:   const handleDelete = async (id: string) => {
168:     // Simulate API call to delete transfer
169:     return new Promise<void>((resolve, reject) => {
170:       setTimeout(() => {
171:         const transfer = data.find(t => t.id === id);
172:         
173:         if (transfer?.status === "COMPLETED" || transfer?.status === "PENDING") {
174:           reject(new Error("Cannot delete a transfer that is pending or completed."));
175:         } else {
176:           // Update our mock database
177:           const updatedData = data.filter(t => t.id !== id);
178:           setData(updatedData);
179:           
180:           if (typeof window !== 'undefined') {
181:             window.updatedTransfers = updatedData;
182:           }
183:           
184:           resolve();
185:         }
186:       }, 1000);
187:     });
188:   };
189: 
190:   return (
191:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
192:       <div className="flex items-center justify-between">
193:         <h1 className="text-3xl font-bold tracking-tight">Inventory Transfers</h1>
194:         <Button asChild>
195:           <Link href="/transfers/new">
196:             <Plus className="mr-2 h-4 w-4" />
197:             New Transfer
198:           </Link>
199:         </Button>
200:       </div>
201:       
202:       <Card>
203:         <CardHeader>
204:           <CardTitle>Transfer Orders</CardTitle>
205:           <CardDescription>
206:             Manage inventory transfers between warehouses
207:           </CardDescription>
208:         </CardHeader>
209:         <CardContent>
210:           {isLoading ? (
211:             <div className="space-y-2">
212:               <Skeleton className="h-10 w-full" />
213:               <Skeleton className="h-10 w-full" />
214:               <Skeleton className="h-10 w-full" />
215:               <Skeleton className="h-10 w-full" />
216:             </div>
217:           ) : (
218:             <Table>
219:               <TableHeader>
220:                 <TableRow>
221:                   <TableHead>Transfer Number</TableHead>
222:                   <TableHead>From</TableHead>
223:                   <TableHead>To</TableHead>
224:                   <TableHead>Status</TableHead>
225:                   <TableHead>Date</TableHead>
226:                   <TableHead className="text-right">Total Items</TableHead>
227:                   <TableHead className="text-right">Actions</TableHead>
228:                 </TableRow>
229:               </TableHeader>
230:               <TableBody>
231:                 {data.map((transfer) => (
232:                   <TableRow key={transfer.id}>
233:                     <TableCell className="font-medium">
234:                       {transfer.transferNumber}
235:                     </TableCell>
236:                     <TableCell>{transfer.sourceWarehouse}</TableCell>
237:                     <TableCell>{transfer.destWarehouse}</TableCell>
238:                     <TableCell>{getStatusBadge(transfer.status)}</TableCell>
239:                     <TableCell>
240:                       {format(transfer.transferDate, "MMM dd, yyyy")}
241:                     </TableCell>
242:                     <TableCell className="text-right">
243:                       {transfer.totalItems}
244:                     </TableCell>
245:                     <TableCell className="text-right">
246:                       <div className="flex justify-end gap-2">
247:                         <Button variant="ghost" size="icon" asChild>
248:                           <Link href={`/transfers/${transfer.id}`}>
249:                             <Eye className="h-4 w-4" />
250:                           </Link>
251:                         </Button>
252:                         <Button variant="ghost" size="icon" asChild>
253:                           <Link href={`/transfers/${transfer.id}/edit`}>
254:                             <Edit className="h-4 w-4" />
255:                           </Link>
256:                         </Button>
257:                         <DeleteButton
258:                           id={transfer.id}
259:                           name={transfer.transferNumber}
260:                           onDelete={handleDelete}
261:                           disabled={transfer.status === "COMPLETED" || transfer.status === "PENDING"}
262:                           disabledReason="Cannot delete a transfer that is pending or completed."
263:                         />
264:                       </div>
265:                     </TableCell>
266:                   </TableRow>
267:                 ))}
268:               </TableBody>
269:             </Table>
270:           )}
271:         </CardContent>
272:       </Card>
273:     </div>
274:   );
275: }
```

## app\transfers\[id]\edit\page.tsx

- Characters: 9762
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import { useForm } from "react-hook-form";
  6: import { zodResolver } from "@hookform/resolvers/zod";
  7: import * as z from "zod";
  8: import { ArrowLeft } from "lucide-react";
  9: import Link from "next/link";
 10: 
 11: import { Button } from "@/components/ui/button";
 12: import {
 13:   Form,
 14:   FormControl,
 15:   FormDescription,
 16:   FormField,
 17:   FormItem,
 18:   FormLabel,
 19:   FormMessage,
 20: } from "@/components/ui/form";
 21: import { Input } from "@/components/ui/input";
 22: import { Textarea } from "@/components/ui/textarea";
 23: import {
 24:   Select,
 25:   SelectContent,
 26:   SelectItem,
 27:   SelectTrigger,
 28:   SelectValue,
 29: } from "@/components/ui/select";
 30: import { useToast } from "@/hooks/use-toast";
 31: import {
 32:   Card,
 33:   CardContent,
 34:   CardDescription,
 35:   CardHeader,
 36:   CardTitle,
 37: } from "@/components/ui/card";
 38: import { Skeleton } from "@/components/ui/skeleton";
 39: 
 40: // Mock warehouses data - this would normally be in a database
 41: const mockWarehouses = [
 42:   {
 43:     id: "1",
 44:     name: "Main Store",
 45:     location: "789 Main St, Retail City",
 46:     description: "Main retail location and warehouse",
 47:     totalItems: 425,
 48:     status: "Active",
 49:   },
 50:   {
 51:     id: "2",
 52:     name: "Downtown Branch",
 53:     location: "101 Downtown Ave, Retail City",
 54:     description: "Downtown retail branch",
 55:     totalItems: 175,
 56:     status: "Active",
 57:   },
 58:   {
 59:     id: "3",
 60:     name: "Mall Outlet",
 61:     location: "Westfield Mall, Shopping District",
 62:     description: "Small outlet in the shopping mall",
 63:     totalItems: 125,
 64:     status: "Active",
 65:   },
 66:   {
 67:     id: "4",
 68:     name: "Distribution Center",
 69:     location: "456 Logistics Blvd, Industrial Zone",
 70:     description: "Main distribution and storage facility",
 71:     totalItems: 1250,
 72:     status: "Active",
 73:   },
 74:   {
 75:     id: "5",
 76:     name: "Seasonal Pop-up",
 77:     location: "Beach Boulevard, Tourist Area",
 78:     description: "Seasonal location for summer collection",
 79:     totalItems: 85,
 80:     status: "Inactive",
 81:   },
 82: ];
 83: 
 84: // Create a global variable to store the updated warehouses if it doesn't exist
 85: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedWarehouses')) {
 86:   window.updatedWarehouses = [...mockWarehouses];
 87: }
 88: 
 89: // Mock transfer orders data
 90: const mockTransfers = [
 91:   {
 92:     id: "1",
 93:     transferNumber: "TR-2023-001",
 94:     sourceWarehouse: "Main Store",
 95:     sourceWarehouseId: "1",
 96:     destWarehouse: "Downtown Branch",
 97:     destWarehouseId: "2",
 98:     status: "COMPLETED",
 99:     transferDate: new Date("2023-05-20"),
100:     notes: "Rebalancing inventory between stores",
101:     totalItems: 35,
102:     items: [
103:       {
104:         id: "1",
105:         productId: "1",
106:         sku: "SH-001",
107:         name: "Cotton T-Shirt",
108:         quantity: 20
109:       },
110:       {
111:         id: "2",
112:         productId: "2",
113:         sku: "PA-001",
114:         name: "Slim Fit Jeans",
115:         quantity: 15
116:       }
117:     ]
118:   },
119:   {
120:     id: "2",
121:     transferNumber: "TR-2023-002",
122:     sourceWarehouse: "Distribution Center",
123:     sourceWarehouseId: "4",
124:     destWarehouse: "Mall Outlet",
125:     destWarehouseId: "3",
126:     status: "PENDING",
127:     transferDate: new Date("2023-06-05"),
128:     notes: "Seasonal stock transfer",
129:     totalItems: 48,
130:     items: [
131:       {
132:         id: "3",
133:         productId: "3",
134:         sku: "DR-001",
135:         name: "Summer Dress",
136:         quantity: 25
137:       },
138:       {
139:         id: "4",
140:         productId: "4",
141:         sku: "AC-001",
142:         name: "Leather Belt",
143:         quantity: 23
144:       }
145:     ]
146:   },
147:   {
148:     id: "3",
149:     transferNumber: "TR-2023-003",
150:     sourceWarehouse: "Main Store",
151:     sourceWarehouseId: "1",
152:     destWarehouse: "Mall Outlet",
153:     destWarehouseId: "3",
154:     status: "DRAFT",
155:     transferDate: new Date("2023-06-10"),
156:     notes: "Summer collection transfer",
157:     totalItems: 25,
158:     items: [
159:       {
160:         id: "5",
161:         productId: "5",
162:         sku: "SH-002",
163:         name: "Polo Shirt",
164:         quantity: 25
165:       }
166:     ]
167:   },
168:   {
169:     id: "4",
170:     transferNumber: "TR-2023-004",
171:     sourceWarehouse: "Downtown Branch",
172:     sourceWarehouseId: "2",
173:     destWarehouse: "Seasonal Pop-up",
174:     destWarehouseId: "5",
175:     status: "CANCELLED",
176:     transferDate: new Date("2023-05-25"),
177:     notes: "Cancelled due to store closure",
178:     totalItems: 15,
179:     items: [
180:       {
181:         id: "6",
182:         productId: "1",
183:         sku: "SH-001",
184:         name: "Cotton T-Shirt",
185:         quantity: 15
186:       }
187:     ]
188:   },
189: ];
190: 
191: // Create a global variable to store the updated transfers if it doesn't exist
192: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedTransfers')) {
193:   window.updatedTransfers = [...mockTransfers];
194: }
195: 
196: const transferSchema = z.object({
197:   status: z.enum(["DRAFT", "PENDING", "COMPLETED", "CANCELLED"]),
198:   notes: z.string().optional(),
199: });
200: 
201: type TransferFormValues = z.infer<typeof transferSchema>;
202: 
203: export default function EditTransferPage({ params }: { params: { id: string } }) {
204:   const router = useRouter();
205:   const { toast } = useToast();
206:   const [isLoading, setIsLoading] = useState(false);
207:   const [isFetching, setIsFetching] = useState(true);
208:   const [transfer, setTransfer] = useState<any | null>(null);
209:   const [activeWarehouses, setActiveWarehouses] = useState<any[]>([]);
210: 
211:   // Load active warehouses
212:   useEffect(() => {
213:     const loadWarehouses = () => {
214:       const warehouses = typeof window !== 'undefined' ? window.updatedWarehouses : mockWarehouses;
215:       // Only show active warehouses
216:       const active = warehouses.filter(w => w.status === "Active");
217:       setActiveWarehouses(active);
218:     };
219:     
220:     loadWarehouses();
221:   }, []);
222: 
223:   const form = useForm<TransferFormValues>({
224:     resolver: zodResolver(transferSchema),
225:     defaultValues: {
226:       status: "DRAFT",
227:       notes: "",
228:     },
229:   });
230: 
231:   useEffect(() => {
232:     // Fetch transfer data
233:     const fetchTransfer = async () => {
234:       setIsFetching(true);
235:       try {
236:         // In a real app, this would be an API call
237:         // const response = await fetch(`/api/transfers/${params.id}`);
238:         // const data = await response.json();
239:         
240:         // Get data from our mock database
241:         setTimeout(() => {
242:           const transfers = typeof window !== 'undefined' ? window.updatedTransfers : mockTransfers;
243:           const foundTransfer = transfers.find(t => t.id === params.id);
244:           
245:           if (foundTransfer) {
246:             setTransfer(foundTransfer);
247:             form.reset({
248:               status: foundTransfer.status as any,
249:               notes: foundTransfer.notes || "",
250:             });
251:           }
252:           
253:           setIsFetching(false);
254:         }, 1000);
255:       } catch (error) {
256:         toast({
257:           title: "Error",
258:           description: "Failed to load transfer order details",
259:           variant: "destructive",
260:         });
261:         setIsFetching(false);
262:       }
263:     };
264: 
265:     fetchTransfer();
266:   }, [params.id, toast, form]);
267: 
268:   async function onSubmit(data: TransferFormValues) {
269:     setIsLoading(true);
270:     
271:     try {
272:       // In a real application, this would be an API call
273:       // const response = await fetch(`/api/transfers/${params.id}`, {
274:       //   method: "PUT",
275:       //   headers: {
276:       //     "Content-Type": "application/json",
277:       //   },
278:       //   body: JSON.stringify(data),
279:       // });
280:       
281:       // if (!response.ok) {
282:       //   throw new Error("Failed to update transfer order");
283:       // }
284:       
285:       // Simulate API call and update our mock database
286:       await new Promise(resolve => setTimeout(resolve, 1000));
287:       
288:       // Update the transfer in our mock database
289:       if (typeof window !== 'undefined') {
290:         const index = window.updatedTransfers.findIndex(t => t.id === params.id);
291:         if (index !== -1) {
292:           window.updatedTransfers[index] = {
293:             ...window.updatedTransfers[index],
294:             ...data
295:           };
296:         }
297:       }
298:       
299:       toast({
300:         title: "Transfer order updated",
301:         description: "The transfer order has been updated successfully.",
302:       });
303:       
304:       router.push(`/transfers/${params.id}`);
305:     } catch (error) {
306:       toast({
307:         title: "Error",
308:         description: error instanceof Error ? error.message : "An error occurred",
309:         variant: "destructive",
310:       });
311:     }
312:   }
313: }
```

## app\transfers\[id]\page.tsx

- Characters: 19913
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import Link from "next/link";
  6: import { ArrowLeft, Edit, Package, ArrowRightLeft, Truck } from "lucide-react";
  7: import { Button } from "@/components/ui/button";
  8: import {
  9:   Card,
 10:   CardContent,
 11:   CardDescription,
 12:   CardHeader,
 13:   CardTitle,
 14:   CardFooter,
 15: } from "@/components/ui/card";
 16: import {
 17:   Table,
 18:   TableBody,
 19:   TableCell,
 20:   TableHead,
 21:   TableHeader,
 22:   TableRow,
 23: } from "@/components/ui/table";
 24: import { Skeleton } from "@/components/ui/skeleton";
 25: import { Badge } from "@/components/ui/badge";
 26: import { DeleteButton } from "@/components/shared/delete-button";
 27: import { useToast } from "@/hooks/use-toast";
 28: import { format } from "date-fns";
 29: import { ProductTransferSelector } from "@/components/transfers/product-transfer-selector";
 30: import {
 31:   AlertDialog,
 32:   AlertDialogAction,
 33:   AlertDialogCancel,
 34:   AlertDialogContent,
 35:   AlertDialogDescription,
 36:   AlertDialogFooter,
 37:   AlertDialogHeader,
 38:   AlertDialogTitle,
 39:   AlertDialogTrigger,
 40: } from "@/components/ui/alert-dialog";
 41: 
 42: interface TransferOrder {
 43:   id: string;
 44:   transferNumber: string;
 45:   sourceWarehouse: string;
 46:   sourceWarehouseId: string;
 47:   destWarehouse: string;
 48:   destWarehouseId: string;
 49:   status: string;
 50:   transferDate: Date;
 51:   totalItems: number;
 52:   items: TransferItem[];
 53:   notes?: string;
 54: }
 55: 
 56: interface TransferItem {
 57:   id: string;
 58:   productId: string;
 59:   sku: string;
 60:   name: string;
 61:   quantity: number;
 62: }
 63: 
 64: // Mock transfer orders data
 65: const mockTransfers = [
 66:   {
 67:     id: "1",
 68:     transferNumber: "TR-2023-001",
 69:     sourceWarehouse: "Main Store",
 70:     sourceWarehouseId: "1",
 71:     destWarehouse: "Downtown Branch",
 72:     destWarehouseId: "2",
 73:     status: "COMPLETED",
 74:     transferDate: new Date("2023-05-20"),
 75:     notes: "Rebalancing inventory between stores",
 76:     totalItems: 35,
 77:     items: [
 78:       {
 79:         id: "1",
 80:         productId: "1",
 81:         sku: "SH-001",
 82:         name: "Cotton T-Shirt",
 83:         quantity: 20
 84:       },
 85:       {
 86:         id: "2",
 87:         productId: "2",
 88:         sku: "PA-001",
 89:         name: "Slim Fit Jeans",
 90:         quantity: 15
 91:       }
 92:     ]
 93:   },
 94:   {
 95:     id: "2",
 96:     transferNumber: "TR-2023-002",
 97:     sourceWarehouse: "Distribution Center",
 98:     sourceWarehouseId: "4",
 99:     destWarehouse: "Mall Outlet",
100:     destWarehouseId: "3",
101:     status: "PENDING",
102:     transferDate: new Date("2023-06-05"),
103:     notes: "Seasonal stock transfer",
104:     totalItems: 48,
105:     items: [
106:       {
107:         id: "3",
108:         productId: "3",
109:         sku: "DR-001",
110:         name: "Summer Dress",
111:         quantity: 25
112:       },
113:       {
114:         id: "4",
115:         productId: "4",
116:         sku: "AC-001",
117:         name: "Leather Belt",
118:         quantity: 23
119:       }
120:     ]
121:   },
122:   {
123:     id: "3",
124:     transferNumber: "TR-2023-003",
125:     sourceWarehouse: "Main Store",
126:     sourceWarehouseId: "1",
127:     destWarehouse: "Mall Outlet",
128:     destWarehouseId: "3",
129:     status: "DRAFT",
130:     transferDate: new Date("2023-06-10"),
131:     notes: "Summer collection transfer",
132:     totalItems: 25,
133:     items: [
134:       {
135:         id: "5",
136:         productId: "5",
137:         sku: "SH-002",
138:         name: "Polo Shirt",
139:         quantity: 25
140:       }
141:     ]
142:   },
143:   {
144:     id: "4",
145:     transferNumber: "TR-2023-004",
146:     sourceWarehouse: "Downtown Branch",
147:     sourceWarehouseId: "2",
148:     destWarehouse: "Seasonal Pop-up",
149:     destWarehouseId: "5",
150:     status: "CANCELLED",
151:     transferDate: new Date("2023-05-25"),
152:     notes: "Cancelled due to store closure",
153:     totalItems: 15,
154:     items: [
155:       {
156:         id: "6",
157:         productId: "1",
158:         sku: "SH-001",
159:         name: "Cotton T-Shirt",
160:         quantity: 15
161:       }
162:     ]
163:   },
164: ];
165: 
166: // Create a global variable to store the updated transfers if it doesn't exist
167: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedTransfers')) {
168:   window.updatedTransfers = [...mockTransfers];
169: }
170: 
171: export default function TransferDetailsPage({ params }: { params: { id: string } }) {
172:   const router = useRouter();
173:   const { toast } = useToast();
174:   const [transfer, setTransfer] = useState<TransferOrder | null>(null);
175:   const [isLoading, setIsLoading] = useState(true);
176:   const [items, setItems] = useState<TransferItem[]>([]);
177:   const [isEditable, setIsEditable] = useState(false);
178: 
179:   useEffect(() => {
180:     // Fetch transfer order details
181:     const fetchTransfer = async () => {
182:       setIsLoading(true);
183:       try {
184:         // Get data from our mock database
185:         setTimeout(() => {
186:           const transfers = typeof window !== 'undefined' ? window.updatedTransfers : mockTransfers;
187:           const foundTransfer = transfers.find(t => t.id === params.id);
188:           
189:           if (foundTransfer) {
190:             setTransfer(foundTransfer);
191:             setItems(foundTransfer.items || []);
192:             
193:             // Determine if the transfer order is editable
194:             setIsEditable(foundTransfer.status === "DRAFT");
195:           } else {
196:             // Set empty arrays if transfer not found to avoid undefined errors
197:             setItems([]);
198:           }
199:           
200:           setIsLoading(false);
201:         }, 1000);
202:       } catch (error) {
203:         console.error("Error fetching transfer details:", error);
204:         toast({
205:           title: "Error",
206:           description: "Failed to load transfer order details",
207:           variant: "destructive",
208:         });
209:         setIsLoading(false);
210:         // Initialize empty arrays on error to avoid undefined errors
211:         setItems([]);
212:       }
213:     };
214: 
215:     fetchTransfer();
216:   }, [params.id, toast]);
217: 
218:   const handleDelete = async (id: string) => {
219:     // Simulate API call to delete transfer order
220:     return new Promise<void>((resolve, reject) => {
221:       setTimeout(() => {
222:         // In a real app, this would be an API call
223:         // const response = await fetch(`/api/transfers/${id}`, { method: 'DELETE' });
224:         // if (!response.ok) throw new Error('Failed to delete transfer');
225:         
226:         if (transfer?.status === "COMPLETED" || transfer?.status === "PENDING") {
227:           reject(new Error("Cannot delete a transfer that is pending or completed."));
228:         } else {
229:           // Update our mock database
230:           if (typeof window !== 'undefined') {
231:             window.updatedTransfers = window.updatedTransfers.filter(t => t.id !== id);
232:           }
233:           
234:           router.push("/transfers");
235:           resolve();
236:         }
237:       }, 1000);
238:     });
239:   };
240: 
241:   const handleProductsSelected = (newItems: TransferItem[]) => {
242:     // Merge with existing items, avoiding duplicates by product ID
243:     const existingProductIds = new Set(items.map(item => item.productId));
244:     const filteredNewItems = newItems.filter(item => !existingProductIds.has(item.productId));
245:     
246:     const updatedItems = [...items, ...filteredNewItems];
247:     setItems(updatedItems);
248:     
249:     // Update the transfer order in our mock database
250:     updateTransferOrder(updatedItems);
251:   };
252: 
253:   const updateTransferOrder = (updatedItems: TransferItem[], status?: string) => {
254:     if (!transfer) return;
255:     
256:     // Calculate total items
257:     const totalItems = updatedItems.reduce((sum, item) => sum + item.quantity, 0);
258:     
259:     // Create the updated transfer order
260:     const updatedTransfer = {
261:       ...transfer,
262:       items: updatedItems,
263:       totalItems,
264:       status: status || transfer.status
265:     };
266:     
267:     // Update the state
268:     setTransfer(updatedTransfer);
269:     setItems(updatedItems);
270:     
271:     // Update our mock database
272:     if (typeof window !== 'undefined') {
273:       const index = window.updatedTransfers.findIndex(t => t.id === transfer.id);
274:       if (index !== -1) {
275:         window.updatedTransfers[index] = updatedTransfer;
276:       }
277:     }
278:     
279:     toast({
280:       title: "Transfer order updated",
281:       description: "The transfer order has been updated successfully.",
282:     });
283:   };
284: 
285:   const handleCompleteTransfer = () => {
286:     updateTransferOrder(items, "COMPLETED");
287:   };
288: 
289:   const getStatusBadge = (status: string) => {
290:     switch (status) {
291:       case "COMPLETED":
292:         return <Badge className="bg-emerald-500">Completed</Badge>;
293:       case "PENDING":
294:         return <Badge className="bg-blue-500">Pending</Badge>;
295:       case "DRAFT":
296:         return <Badge variant="outline">Draft</Badge>;
297:       case "CANCELLED":
298:         return <Badge variant="destructive">Cancelled</Badge>;
299:       default:
300:         return <Badge variant="outline">{status}</Badge>;
301:     }
302:   };
303: 
304:   // Safely check if transfer can be completed
305:   const canCompleteTransfer = transfer?.status === "PENDING" || 
306:     (transfer?.status === "DRAFT" && items && items.length > 0);
307: 
308:   return (
309:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
310:       <div className="flex items-center justify-between">
311:         <div className="flex items-center gap-2">
312:           <Button variant="ghost" size="icon" asChild>
313:             <Link href="/transfers">
314:               <ArrowLeft className="h-4 w-4" />
315:             </Link>
316:           </Button>
317:           <h1 className="text-3xl font-bold tracking-tight">
318:             {isLoading ? <Skeleton className="h-9 w-40" /> : transfer?.transferNumber}
319:           </h1>
320:         </div>
321:         
322:         <div className="flex items-center gap-2">
323:           {!isLoading && transfer && (
324:             <>
325:               <Button variant="outline" size="sm" asChild>
326:                 <Link href={`/transfers/${params.id}/edit`}>
327:                   <Edit className="mr-2 h-4 w-4" />
328:                   Edit
329:                 </Link>
330:               </Button>
331:               
332:               <DeleteButton
333:                 id={params.id}
334:                 name={transfer.transferNumber}
335:                 onDelete={handleDelete}
336:                 disabled={transfer.status === "COMPLETED" || transfer.status === "PENDING"}
337:                 disabledReason="Cannot delete a transfer that is pending or completed."
338:               />
339:             </>
340:           )}
341:         </div>
342:       </div>
343:       
344:       {isLoading ? (
345:         <Card>
346:           <CardHeader>
347:             <Skeleton className="h-7 w-40 mb-2" />
348:             <Skeleton className="h-5 w-60" />
349:           </CardHeader>
350:           <CardContent className="space-y-4">
351:             <Skeleton className="h-5 w-full" />
352:             <Skeleton className="h-5 w-3/4" />
353:             <Skeleton className="h-5 w-1/2" />
354:           </CardContent>
355:         </Card>
356:       ) : transfer ? (
357:         <>
358:           <Card>
359:             <CardHeader>
360:               <CardTitle className="flex items-center justify-between">
361:                 Transfer Details
362:                 {getStatusBadge(transfer.status)}
363:               </CardTitle>
364:               <CardDescription>
365:                 Detailed information about this inventory transfer
366:               </CardDescription>
367:             </CardHeader>
368:             <CardContent className="space-y-6">
369:               <div className="flex items-center justify-between p-4 bg-muted/30 rounded-lg">
370:                 <div className="text-center">
371:                   <h3 className="text-sm font-medium text-muted-foreground">From</h3>
372:                   <p className="text-base font-medium">{transfer.sourceWarehouse}</p>
373:                 </div>
374:                 
375:                 <ArrowRightLeft className="h-6 w-6 text-muted-foreground" />
376:                 
377:                 <div className="text-center">
378:                   <h3 className="text-sm font-medium text-muted-foreground">To</h3>
379:                   <p className="text-base font-medium">{transfer.destWarehouse}</p>
380:                 </div>
381:               </div>
382:               
383:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
384:                 <div>
385:                   <h3 className="text-sm font-medium text-muted-foreground">Transfer Date</h3>
386:                   <p className="text-base">{format(transfer.transferDate, "MMM dd, yyyy")}</p>
387:                 </div>
388:                 <div>
389:                   <h3 className="text-sm font-medium text-muted-foreground">Total Items</h3>
390:                   <p className="text-base">{transfer.totalItems}</p>
391:                 </div>
392:               </div>
393:               
394:               {transfer.notes && (
395:                 <div>
396:                   <h3 className="text-sm font-medium text-muted-foreground">Notes</h3>
397:                   <p className="text-base">{transfer.notes}</p>
398:                 </div>
399:               )}
400:             </CardContent>
401:           </Card>
402:           
403:           <Card>
404:             <CardHeader className="flex flex-row items-center justify-between">
405:               <div>
406:                 <CardTitle className="flex items-center">
407:                   <Package className="mr-2 h-5 w-5" />
408:                   Transfer Items
409:                 </CardTitle>
410:                 <CardDescription>
411:                   Products included in this transfer
412:                 </CardDescription>
413:               </div>
414:               
415:               {isEditable && (
416:                 <ProductTransferSelector 
417:                   onProductsSelected={handleProductsSelected}
418:                   existingItems={items}
419:                   sourceWarehouseId={transfer.sourceWarehouseId}
420:                 />
421:               )}
422:             </CardHeader>
423:             <CardContent>
424:               {items && items.length > 0 ? (
425:                 <Table>
426:                   <TableHeader>
427:                     <TableRow>
428:                       <TableHead>SKU</TableHead>
429:                       <TableHead>Product</TableHead>
430:                       <TableHead className="text-right">Quantity</TableHead>
431:                       <TableHead className="text-right">Actions</TableHead>
432:                     </TableRow>
433:                   </TableHeader>
434:                   <TableBody>
435:                     {items.map((item) => (
436:                       <TableRow key={item.id}>
437:                         <TableCell className="font-medium">{item.sku}</TableCell>
438:                         <TableCell>{item.name}</TableCell>
439:                         <TableCell className="text-right">{item.quantity}</TableCell>
440:                         <TableCell className="text-right">
441:                           <Button variant="ghost" size="sm" asChild>
442:                             <Link href={`/products/${item.productId}`}>View Product</Link>
443:                           </Button>
444:                         </TableCell>
445:                       </TableRow>
446:                     ))}
447:                   </TableBody>
448:                 </Table>
449:               ) : (
450:                 <div className="text-center py-8 text-muted-foreground">
451:                   {isEditable ? (
452:                     <div className="flex flex-col items-center">
453:                       <p className="mb-4">No items have been added to this transfer yet.</p>
454:                       <ProductTransferSelector 
455:                         onProductsSelected={handleProductsSelected}
456:                         sourceWarehouseId={transfer.sourceWarehouseId}
457:                       />
458:                     </div>
459:                   ) : (
460:                     "No items in this transfer"
461:                   )}
462:                 </div>
463:               )}
464:             </CardContent>
465:             {canCompleteTransfer && (
466:               <CardFooter className="flex justify-end">
467:                 <AlertDialog>
468:                   <AlertDialogTrigger asChild>
469:                     <Button>
470:                       <Truck className="mr-2 h-4 w-4" />
471:                       {transfer.status === "DRAFT" ? "Start Transfer" : "Complete Transfer"}
472:                     </Button>
473:                   </AlertDialogTrigger>
474:                   <AlertDialogContent>
475:                     <AlertDialogHeader>
476:                       <AlertDialogTitle>
477:                         {transfer.status === "DRAFT" ? "Start Transfer" : "Complete Transfer"}
478:                       </AlertDialogTitle>
479:                       <AlertDialogDescription>
480:                         {transfer.status === "DRAFT" 
481:                           ? "This will mark the transfer as pending. Items will be reserved for transfer."
482:                           : "This will complete the transfer. Items will be moved from the source to the destination warehouse."}
483:                       </AlertDialogDescription>
484:                     </AlertDialogHeader>
485:                     <AlertDialogFooter>
486:                       <AlertDialogCancel>Cancel</AlertDialogCancel>
487:                       <AlertDialogAction onClick={() => {
488:                         if (transfer.status === "DRAFT") {
489:                           updateTransferOrder(items, "PENDING");
490:                         } else {
491:                           handleCompleteTransfer();
492:                         }
493:                       }}>
494:                         Confirm
495:                       </AlertDialogAction>
496:                     </AlertDialogFooter>
497:                   </AlertDialogContent>
498:                 </AlertDialog>
499:               </CardFooter>
500:             )}
501:           </Card>
502:         </>
503:       ) : (
504:         <Card>
505:           <CardContent className="flex flex-col items-center justify-center py-10">
506:             <h2 className="text-xl font-semibold mb-2">Transfer Not Found</h2>
507:             <p className="text-muted-foreground mb-4">
508:               The transfer you're looking for doesn't exist or has been removed.
509:             </p>
510:             <Button asChild>
511:               <Link href="/transfers">Back to Transfers</Link>
512:             </Button>
513:           </CardContent>
514:         </Card>
515:       )}
516:     </div>
517:   );
518: }
```

## app\users\layout.tsx

- Characters: 2397
- Tokens: 0

```text
 1: "use client";
 2: 
 3: import { useEffect, useState } from "react";
 4: import { useRouter, usePathname } from "next/navigation";
 5: import { Sidebar } from "@/components/layout/sidebar";
 6: import { Header } from "@/components/layout/header";
 7: import { useAuth } from "@/hooks/use-auth";
 8: import { Loader2 } from "lucide-react";
 9: 
10: export default function UsersLayout({
11:   children,
12: }: {
13:   children: React.ReactNode;
14: }) {
15:   const { user } = useAuth();
16:   const router = useRouter();
17:   const pathname = usePathname();
18:   const [isLoading, setIsLoading] = useState(true);
19:   const [currentPath, setCurrentPath] = useState(pathname);
20:   const [isTransitioning, setIsTransitioning] = useState(false);
21:   
22:   // Handle authentication check
23:   useEffect(() => {
24:     if (!user) {
25:       router.push("/login");
26:     } else {
27:       // Simulate loading delay
28:       const timer = setTimeout(() => {
29:         setIsLoading(false);
30:       }, 500);
31:       
32:       return () => clearTimeout(timer);
33:     }
34:   }, [user, router]);
35:   
36:   // Handle route transitions
37:   useEffect(() => {
38:     if (pathname !== currentPath) {
39:       setIsTransitioning(true);
40:       
41:       // Short delay to allow transition to complete
42:       const timer = setTimeout(() => {
43:         setCurrentPath(pathname);
44:         setIsTransitioning(false);
45:       }, 300);
46:       
47:       return () => clearTimeout(timer);
48:     }
49:   }, [pathname, currentPath]);
50:   
51:   if (!user || isLoading) {
52:     return (
53:       <div className="flex min-h-screen items-center justify-center">
54:         <div className="flex flex-col items-center space-y-4">
55:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
56:           <p className="text-lg font-medium">Loading...</p>
57:         </div>
58:       </div>
59:     );
60:   }
61:   
62:   return (
63:     <div className="flex min-h-screen">
64:       <div className="hidden md:block">
65:         <Sidebar />
66:       </div>
67:       <div className="flex flex-col flex-1">
68:         <Header />
69:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
70:           {children}
71:         </main>
72:       </div>
73:     </div>
74:   );
75: }
```

## app\users\page.tsx

- Characters: 6687
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import Link from "next/link";
  4: import { Plus } from "lucide-react";
  5: import { Button } from "@/components/ui/button";
  6: import {
  7:   Card,
  8:   CardContent,
  9:   CardDescription,
 10:   CardHeader,
 11:   CardTitle,
 12: } from "@/components/ui/card";
 13: import {
 14:   Table,
 15:   TableBody,
 16:   TableCell,
 17:   TableHead,
 18:   TableHeader,
 19:   TableRow,
 20: } from "@/components/ui/table";
 21: import { Badge } from "@/components/ui/badge";
 22: import { format } from "date-fns";
 23: import { useState, useEffect } from "react";
 24: import { Skeleton } from "@/components/ui/skeleton";
 25: import { UserRole } from "@prisma/client";
 26: import { useAuth } from "@/hooks/use-auth";
 27: 
 28: // Sample data for demonstration
 29: const users = [
 30:   {
 31:     id: "1",
 32:     name: "System Admin",
 33:     email: "admin@example.com",
 34:     role: UserRole.ROOT,
 35:     lastActive: new Date(),
 36:     status: "Active",
 37:   },
 38:   {
 39:     id: "2",
 40:     name: "Admin User",
 41:     email: "admin2@example.com",
 42:     role: UserRole.ADMIN,
 43:     lastActive: new Date(Date.now() - 86400000), // 1 day ago
 44:     status: "Active",
 45:   },
 46:   {
 47:     id: "3",
 48:     name: "Manager User",
 49:     email: "manager@example.com",
 50:     role: UserRole.MANAGER,
 51:     lastActive: new Date(Date.now() - 172800000), // 2 days ago
 52:     status: "Active",
 53:   },
 54:   {
 55:     id: "4",
 56:     name: "Staff User",
 57:     email: "staff@example.com",
 58:     role: UserRole.STAFF,
 59:     lastActive: new Date(Date.now() - 259200000), // 3 days ago
 60:     status: "Active",
 61:   },
 62:   {
 63:     id: "5",
 64:     name: "Inactive User",
 65:     email: "inactive@example.com",
 66:     role: UserRole.STAFF,
 67:     lastActive: new Date(Date.now() - 2592000000), // 30 days ago
 68:     status: "Inactive",
 69:   },
 70: ];
 71: 
 72: const getRoleBadge = (role: UserRole) => {
 73:   switch (role) {
 74:     case UserRole.ROOT:
 75:       return <Badge className="bg-purple-500">Root</Badge>;
 76:     case UserRole.ADMIN:
 77:       return <Badge className="bg-blue-500">Admin</Badge>;
 78:     case UserRole.MANAGER:
 79:       return <Badge className="bg-green-500">Manager</Badge>;
 80:     case UserRole.STAFF:
 81:       return <Badge className="bg-gray-500">Staff</Badge>;
 82:     default:
 83:       return <Badge variant="outline">{role}</Badge>;
 84:   }
 85: };
 86: 
 87: export default function UsersPage() {
 88:   const [isLoading, setIsLoading] = useState(true);
 89:   const { user: currentUser } = useAuth();
 90: 
 91:   useEffect(() => {
 92:     // Simulate data loading
 93:     const timer = setTimeout(() => {
 94:       setIsLoading(false);
 95:     }, 1000);
 96:     
 97:     return () => clearTimeout(timer);
 98:   }, []);
 99: 
100:   // Check if current user has permission to view this page
101:   const hasPermission = currentUser && (currentUser.role === UserRole.ROOT || currentUser.role === UserRole.ADMIN);
102: 
103:   if (!hasPermission) {
104:     return (
105:       <div className="flex flex-col gap-4 animate-in fade-in duration-500">
106:         <h1 className="text-3xl font-bold tracking-tight">Users</h1>
107:         <Card>
108:           <CardContent className="pt-6">
109:             <div className="flex flex-col items-center justify-center py-12">
110:               <h2 className="text-xl font-semibold mb-2">Access Denied</h2>
111:               <p className="text-muted-foreground">
112:                 You don't have permission to view this page.
113:               </p>
114:             </div>
115:           </CardContent>
116:         </Card>
117:       </div>
118:     );
119:   }
120: 
121:   return (
122:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
123:       <div className="flex items-center justify-between">
124:         <h1 className="text-3xl font-bold tracking-tight">Users</h1>
125:         <Button asChild>
126:           <Link href="/users/new">
127:             <Plus className="mr-2 h-4 w-4" />
128:             Add User
129:           </Link>
130:         </Button>
131:       </div>
132:       
133:       <Card>
134:         <CardHeader>
135:           <CardTitle>User Management</CardTitle>
136:           <CardDescription>
137:             Manage system users and their permissions
138:           </CardDescription>
139:         </CardHeader>
140:         <CardContent>
141:           {isLoading ? (
142:             <div className="space-y-2">
143:               <Skeleton className="h-10 w-full" />
144:               <Skeleton className="h-10 w-full" />
145:               <Skeleton className="h-10 w-full" />
146:               <Skeleton className="h-10 w-full" />
147:               <Skeleton className="h-10 w-full" />
148:             </div>
149:           ) : (
150:             <Table>
151:               <TableHeader>
152:                 <TableRow>
153:                   <TableHead>Name</TableHead>
154:                   <TableHead>Email</TableHead>
155:                   <TableHead>Role</TableHead>
156:                   <TableHead>Last Active</TableHead>
157:                   <TableHead>Status</TableHead>
158:                   <TableHead className="text-right">Actions</TableHead>
159:                 </TableRow>
160:               </TableHeader>
161:               <TableBody>
162:                 {users.map((user) => (
163:                   <TableRow key={user.id}>
164:                     <TableCell className="font-medium">{user.name}</TableCell>
165:                     <TableCell>{user.email}</TableCell>
166:                     <TableCell>{getRoleBadge(user.role)}</TableCell>
167:                     <TableCell>{format(user.lastActive, "MMM dd, yyyy")}</TableCell>
168:                     <TableCell>
169:                       {user.status === "Active" ? (
170:                         <Badge className="bg-emerald-500">Active</Badge>
171:                       ) : (
172:                         <Badge variant="outline">Inactive</Badge>
173:                       )}
174:                     </TableCell>
175:                     <TableCell className="text-right">
176:                       <Button variant="ghost" size="sm" asChild>
177:                         <Link href={`/users/${user.id}`}>View</Link>
178:                       </Button>
179:                     </TableCell>
180:                   </TableRow>
181:                 ))}
182:               </TableBody>
183:             </Table>
184:           )}
185:         </CardContent>
186:       </Card>
187:     </div>
188:   );
189: }
```

## app\warehouses\layout.tsx

- Characters: 2402
- Tokens: 0

```text
 1: "use client";
 2: 
 3: import { useEffect, useState } from "react";
 4: import { useRouter, usePathname } from "next/navigation";
 5: import { Sidebar } from "@/components/layout/sidebar";
 6: import { Header } from "@/components/layout/header";
 7: import { useAuth } from "@/hooks/use-auth";
 8: import { Loader2 } from "lucide-react";
 9: 
10: export default function WarehousesLayout({
11:   children,
12: }: {
13:   children: React.ReactNode;
14: }) {
15:   const { user } = useAuth();
16:   const router = useRouter();
17:   const pathname = usePathname();
18:   const [isLoading, setIsLoading] = useState(true);
19:   const [currentPath, setCurrentPath] = useState(pathname);
20:   const [isTransitioning, setIsTransitioning] = useState(false);
21:   
22:   // Handle authentication check
23:   useEffect(() => {
24:     if (!user) {
25:       router.push("/login");
26:     } else {
27:       // Simulate loading delay
28:       const timer = setTimeout(() => {
29:         setIsLoading(false);
30:       }, 500);
31:       
32:       return () => clearTimeout(timer);
33:     }
34:   }, [user, router]);
35:   
36:   // Handle route transitions
37:   useEffect(() => {
38:     if (pathname !== currentPath) {
39:       setIsTransitioning(true);
40:       
41:       // Short delay to allow transition to complete
42:       const timer = setTimeout(() => {
43:         setCurrentPath(pathname);
44:         setIsTransitioning(false);
45:       }, 300);
46:       
47:       return () => clearTimeout(timer);
48:     }
49:   }, [pathname, currentPath]);
50:   
51:   if (!user || isLoading) {
52:     return (
53:       <div className="flex min-h-screen items-center justify-center">
54:         <div className="flex flex-col items-center space-y-4">
55:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
56:           <p className="text-lg font-medium">Loading...</p>
57:         </div>
58:       </div>
59:     );
60:   }
61:   
62:   return (
63:     <div className="flex min-h-screen">
64:       <div className="hidden md:block">
65:         <Sidebar />
66:       </div>
67:       <div className="flex flex-col flex-1">
68:         <Header />
69:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
70:           {children}
71:         </main>
72:       </div>
73:     </div>
74:   );
75: }
```

## app\warehouses\new\page.tsx

- Characters: 9572
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState } from "react";
  4: import { useRouter } from "next/navigation";
  5: import { useForm } from "react-hook-form";
  6: import { zodResolver } from "@hookform/resolvers/zod";
  7: import * as z from "zod";
  8: import { ArrowLeft } from "lucide-react";
  9: import Link from "next/link";
 10: 
 11: import { Button } from "@/components/ui/button";
 12: import {
 13:   Form,
 14:   FormControl,
 15:   FormDescription,
 16:   FormField,
 17:   FormItem,
 18:   FormLabel,
 19:   FormMessage,
 20: } from "@/components/ui/form";
 21: import { Input } from "@/components/ui/input";
 22: import { Textarea } from "@/components/ui/textarea";
 23: import {
 24:   Select,
 25:   SelectContent,
 26:   SelectItem,
 27:   SelectTrigger,
 28:   SelectValue,
 29: } from "@/components/ui/select";
 30: import { useToast } from "@/hooks/use-toast";
 31: import {
 32:   Card,
 33:   CardContent,
 34:   CardDescription,
 35:   CardHeader,
 36:   CardTitle,
 37: } from "@/components/ui/card";
 38: 
 39: // Mock warehouses data - this would normally be in a database
 40: const mockWarehouses = [
 41:   {
 42:     id: "1",
 43:     name: "Main Store",
 44:     location: "789 Main St, Retail City",
 45:     description: "Main retail location and warehouse",
 46:     totalItems: 425,
 47:     status: "Active",
 48:   },
 49:   {
 50:     id: "2",
 51:     name: "Downtown Branch",
 52:     location: "101 Downtown Ave, Retail City",
 53:     description: "Downtown retail branch",
 54:     totalItems: 175,
 55:     status: "Active",
 56:   },
 57:   {
 58:     id: "3",
 59:     name: "Mall Outlet",
 60:     location: "Westfield Mall, Shopping District",
 61:     description: "Small outlet in the shopping mall",
 62:     totalItems: 125,
 63:     status: "Active",
 64:   },
 65:   {
 66:     id: "4",
 67:     name: "Distribution Center",
 68:     location: "456 Logistics Blvd, Industrial Zone",
 69:     description: "Main distribution and storage facility",
 70:     totalItems: 1250,
 71:     status: "Active",
 72:   },
 73:   {
 74:     id: "5",
 75:     name: "Seasonal Pop-up",
 76:     location: "Beach Boulevard, Tourist Area",
 77:     description: "Seasonal location for summer collection",
 78:     totalItems: 85,
 79:     status: "Inactive",
 80:   },
 81: ];
 82: 
 83: // Create a global variable to store the updated warehouses if it doesn't exist
 84: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedWarehouses')) {
 85:   window.updatedWarehouses = [...mockWarehouses];
 86: }
 87: 
 88: const warehouseSchema = z.object({
 89:   name: z.string().min(2, { message: "Name must be at least 2 characters" }),
 90:   location: z.string().min(2, { message: "Location must be at least 2 characters" }),
 91:   description: z.string().optional(),
 92:   status: z.enum(["Active", "Inactive"]),
 93: });
 94: 
 95: type WarehouseFormValues = z.infer<typeof warehouseSchema>;
 96: 
 97: export default function NewWarehousePage() {
 98:   const router = useRouter();
 99:   const { toast } = useToast();
100:   const [isLoading, setIsLoading] = useState(false);
101: 
102:   const form = useForm<WarehouseFormValues>({
103:     resolver: zodResolver(warehouseSchema),
104:     defaultValues: {
105:       name: "",
106:       location: "",
107:       description: "",
108:       status: "Active",
109:     },
110:   });
111: 
112:   async function onSubmit(data: WarehouseFormValues) {
113:     setIsLoading(true);
114:     
115:     try {
116:       // In a real application, this would be an API call
117:       // const response = await fetch("/api/warehouses", {
118:       //   method: "POST",
119:       //   headers: {
120:       //     "Content-Type": "application/json",
121:       //   },
122:       //   body: JSON.stringify(data),
123:       // });
124:       
125:       // if (!response.ok) {
126:       //   throw new Error("Failed to create warehouse");
127:       // }
128:       
129:       // Simulate API call and update our mock database
130:       await new Promise(resolve => setTimeout(resolve, 1000));
131:       
132:       // Create a new warehouse with a unique ID
133:       const newWarehouse = {
134:         id: `${Date.now()}`, // Generate a unique ID
135:         ...data,
136:         totalItems: 0, // New warehouses start with 0 items
137:       };
138:       
139:       // Add the new warehouse to our mock database
140:       if (typeof window !== 'undefined') {
141:         window.updatedWarehouses = [...window.updatedWarehouses, newWarehouse];
142:       }
143:       
144:       toast({
145:         title: "Warehouse created",
146:         description: "The warehouse has been created successfully.",
147:       });
148:       
149:       router.push("/warehouses");
150:     } catch (error) {
151:       toast({
152:         title: "Error",
153:         description: error instanceof Error ? error.message : "An error occurred",
154:         variant: "destructive",
155:       });
156:     } finally {
157:       setIsLoading(false);
158:     }
159:   }
160: 
161:   return (
162:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
163:       <div className="flex items-center gap-2">
164:         <Button variant="ghost" size="icon" asChild>
165:           <Link href="/warehouses">
166:             <ArrowLeft className="h-4 w-4" />
167:           </Link>
168:         </Button>
169:         <h1 className="text-3xl font-bold tracking-tight">Add New Warehouse</h1>
170:       </div>
171:       
172:       <Card>
173:         <CardHeader>
174:           <CardTitle>Warehouse Information</CardTitle>
175:           <CardDescription>
176:             Enter the details for the new warehouse
177:           </CardDescription>
178:         </CardHeader>
179:         <CardContent>
180:           <Form {...form}>
181:             <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
182:               <FormField
183:                 control={form.control}
184:                 name="name"
185:                 render={({ field }) => (
186:                   <FormItem>
187:                     <FormLabel>Name</FormLabel>
188:                     <FormControl>
189:                       <Input placeholder="Warehouse Name" {...field} />
190:                     </FormControl>
191:                     <FormMessage />
192:                   </FormItem>
193:                 )}
194:               />
195:               
196:               <FormField
197:                 control={form.control}
198:                 name="location"
199:                 render={({ field }) => (
200:                   <FormItem>
201:                     <FormLabel>Location</FormLabel>
202:                     <FormControl>
203:                       <Input placeholder="Warehouse Location" {...field} />
204:                     </FormControl>
205:                     <FormDescription>
206:                       The physical address or location of this warehouse
207:                     </FormDescription>
208:                     <FormMessage />
209:                   </FormItem>
210:                 )}
211:               />
212:               
213:               <FormField
214:                 control={form.control}
215:                 name="description"
216:                 render={({ field }) => (
217:                   <FormItem>
218:                     <FormLabel>Description</FormLabel>
219:                     <FormControl>
220:                       <Textarea
221:                         placeholder="Warehouse description..."
222:                         {...field}
223:                       />
224:                     </FormControl>
225:                     <FormMessage />
226:                   </FormItem>
227:                 )}
228:               />
229:               
230:               <FormField
231:                 control={form.control}
232:                 name="status"
233:                 render={({ field }) => (
234:                   <FormItem>
235:                     <FormLabel>Status</FormLabel>
236:                     <Select
237:                       onValueChange={field.onChange}
238:                       defaultValue={field.value}
239:                     >
240:                       <FormControl>
241:                         <SelectTrigger>
242:                           <SelectValue placeholder="Select status" />
243:                         </SelectTrigger>
244:                       </FormControl>
245:                       <SelectContent>
246:                         <SelectItem value="Active">Active</SelectItem>
247:                         <SelectItem value="Inactive">Inactive</SelectItem>
248:                       </SelectContent>
249:                     </Select>
250:                     <FormMessage />
251:                   </FormItem>
252:                 )}
253:               />
254:               
255:               <div className="flex justify-end space-x-2">
256:                 <Button
257:                   variant="outline"
258:                   onClick={() => router.push("/warehouses")}
259:                   type="button"
260:                 >
261:                   Cancel
262:                 </Button>
263:                 <Button type="submit" disabled={isLoading}>
264:                   {isLoading ? "Creating..." : "Create Warehouse"}
265:                 </Button>
266:               </div>
267:             </form>
268:           </Form>
269:         </CardContent>
270:       </Card>
271:     </div>
272:   );
273: }
```

## app\warehouses\page.tsx

- Characters: 7661
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import Link from "next/link";
  4: import { Plus, Edit, Eye } from "lucide-react";
  5: import { Button } from "@/components/ui/button";
  6: import {
  7:   Card,
  8:   CardContent,
  9:   CardDescription,
 10:   CardHeader,
 11:   CardTitle,
 12: } from "@/components/ui/card";
 13: import {
 14:   Table,
 15:   TableBody,
 16:   TableCell,
 17:   TableHead,
 18:   TableHeader,
 19:   TableRow,
 20: } from "@/components/ui/table";
 21: import { Badge } from "@/components/ui/badge";
 22: import { useState, useEffect } from "react";
 23: import { Skeleton } from "@/components/ui/skeleton";
 24: import { DeleteButton } from "@/components/shared/delete-button";
 25: import { useToast } from "@/hooks/use-toast";
 26: 
 27: // Mock warehouses data - this would normally be in a database
 28: const mockWarehouses = [
 29:   {
 30:     id: "1",
 31:     name: "Main Store",
 32:     location: "789 Main St, Retail City",
 33:     description: "Main retail location and warehouse",
 34:     totalItems: 425,
 35:     status: "Active",
 36:   },
 37:   {
 38:     id: "2",
 39:     name: "Downtown Branch",
 40:     location: "101 Downtown Ave, Retail City",
 41:     description: "Downtown retail branch",
 42:     totalItems: 175,
 43:     status: "Active",
 44:   },
 45:   {
 46:     id: "3",
 47:     name: "Mall Outlet",
 48:     location: "Westfield Mall, Shopping District",
 49:     description: "Small outlet in the shopping mall",
 50:     totalItems: 125,
 51:     status: "Active",
 52:   },
 53:   {
 54:     id: "4",
 55:     name: "Distribution Center",
 56:     location: "456 Logistics Blvd, Industrial Zone",
 57:     description: "Main distribution and storage facility",
 58:     totalItems: 1250,
 59:     status: "Active",
 60:   },
 61:   {
 62:     id: "5",
 63:     name: "Seasonal Pop-up",
 64:     location: "Beach Boulevard, Tourist Area",
 65:     description: "Seasonal location for summer collection",
 66:     totalItems: 85,
 67:     status: "Inactive",
 68:   },
 69: ];
 70: 
 71: // Create a global variable to store the updated warehouses if it doesn't exist
 72: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedWarehouses')) {
 73:   window.updatedWarehouses = [...mockWarehouses];
 74: }
 75: 
 76: export default function WarehousesPage() {
 77:   const [isLoading, setIsLoading] = useState(true);
 78:   const [data, setData] = useState(mockWarehouses);
 79:   const { toast } = useToast();
 80: 
 81:   useEffect(() => {
 82:     // Simulate data loading and get data from our mock database
 83:     const timer = setTimeout(() => {
 84:       if (typeof window !== 'undefined') {
 85:         setData(window.updatedWarehouses);
 86:       }
 87:       setIsLoading(false);
 88:     }, 1000);
 89:     
 90:     return () => clearTimeout(timer);
 91:   }, []);
 92: 
 93:   const handleDelete = async (id: string) => {
 94:     // Simulate API call to delete warehouse
 95:     return new Promise<void>((resolve, reject) => {
 96:       setTimeout(() => {
 97:         const warehouse = data.find(w => w.id === id);
 98:         
 99:         if (warehouse?.status === "Active" && warehouse.totalItems > 0) {
100:           reject(new Error("Cannot delete a warehouse with inventory. Transfer all items first."));
101:         } else {
102:           // Update our mock database
103:           const updatedData = data.filter(w => w.id !== id);
104:           setData(updatedData);
105:           
106:           if (typeof window !== 'undefined') {
107:             window.updatedWarehouses = updatedData;
108:           }
109:           
110:           resolve();
111:         }
112:       }, 1000);
113:     });
114:   };
115: 
116:   return (
117:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
118:       <div className="flex items-center justify-between">
119:         <h1 className="text-3xl font-bold tracking-tight">Warehouses</h1>
120:         <Button asChild>
121:           <Link href="/warehouses/new">
122:             <Plus className="mr-2 h-4 w-4" />
123:             Add Warehouse
124:           </Link>
125:         </Button>
126:       </div>
127:       
128:       <Card>
129:         <CardHeader>
130:           <CardTitle>Warehouse Locations</CardTitle>
131:           <CardDescription>
132:             Manage your warehouse and store locations
133:           </CardDescription>
134:         </CardHeader>
135:         <CardContent>
136:           {isLoading ? (
137:             <div className="space-y-2">
138:               <Skeleton className="h-10 w-full" />
139:               <Skeleton className="h-10 w-full" />
140:               <Skeleton className="h-10 w-full" />
141:               <Skeleton className="h-10 w-full" />
142:               <Skeleton className="h-10 w-full" />
143:             </div>
144:           ) : (
145:             <Table>
146:               <TableHeader>
147:                 <TableRow>
148:                   <TableHead>Name</TableHead>
149:                   <TableHead>Location</TableHead>
150:                   <TableHead>Description</TableHead>
151:                   <TableHead className="text-right">Total Items</TableHead>
152:                   <TableHead>Status</TableHead>
153:                   <TableHead className="text-right">Actions</TableHead>
154:                 </TableRow>
155:               </TableHeader>
156:               <TableBody>
157:                 {data.map((warehouse) => (
158:                   <TableRow key={warehouse.id}>
159:                     <TableCell className="font-medium">{warehouse.name}</TableCell>
160:                     <TableCell>{warehouse.location}</TableCell>
161:                     <TableCell>{warehouse.description}</TableCell>
162:                     <TableCell className="text-right">{warehouse.totalItems}</TableCell>
163:                     <TableCell>
164:                       {warehouse.status === "Active" ? (
165:                         <Badge className="bg-emerald-500">Active</Badge>
166:                       ) : (
167:                         <Badge variant="outline">Inactive</Badge>
168:                       )}
169:                     </TableCell>
170:                     <TableCell className="text-right">
171:                       <div className="flex justify-end gap-2">
172:                         <Button variant="ghost" size="icon" asChild>
173:                           <Link href={`/warehouses/${warehouse.id}`}>
174:                             <Eye className="h-4 w-4" />
175:                           </Link>
176:                         </Button>
177:                         <Button variant="ghost" size="icon" asChild>
178:                           <Link href={`/warehouses/${warehouse.id}/edit`}>
179:                             <Edit className="h-4 w-4" />
180:                           </Link>
181:                         </Button>
182:                         <DeleteButton
183:                           id={warehouse.id}
184:                           name={warehouse.name}
185:                           onDelete={handleDelete}
186:                           disabled={warehouse.status === "Active" && warehouse.totalItems > 0}
187:                           disabledReason="Cannot delete a warehouse with inventory. Transfer all items first."
188:                         />
189:                       </div>
190:                     </TableCell>
191:                   </TableRow>
192:                 ))}
193:               </TableBody>
194:             </Table>
195:           )}
196:         </CardContent>
197:       </Card>
198:     </div>
199:   );
200: }
```

## app\warehouses\[id]\edit\page.tsx

- Characters: 12042
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import { useForm } from "react-hook-form";
  6: import { zodResolver } from "@hookform/resolvers/zod";
  7: import * as z from "zod";
  8: import { ArrowLeft } from "lucide-react";
  9: import Link from "next/link";
 10: 
 11: import { Button } from "@/components/ui/button";
 12: import {
 13:   Form,
 14:   FormControl,
 15:   FormDescription,
 16:   FormField,
 17:   FormItem,
 18:   FormLabel,
 19:   FormMessage,
 20: } from "@/components/ui/form";
 21: import { Input } from "@/components/ui/input";
 22: import { Textarea } from "@/components/ui/textarea";
 23: import {
 24:   Select,
 25:   SelectContent,
 26:   SelectItem,
 27:   SelectTrigger,
 28:   SelectValue,
 29: } from "@/components/ui/select";
 30: import { useToast } from "@/hooks/use-toast";
 31: import {
 32:   Card,
 33:   CardContent,
 34:   CardDescription,
 35:   CardHeader,
 36:   CardTitle,
 37: } from "@/components/ui/card";
 38: import { Skeleton } from "@/components/ui/skeleton";
 39: 
 40: // Mock warehouses data - this would normally be in a database
 41: const mockWarehouses = [
 42:   {
 43:     id: "1",
 44:     name: "Main Store",
 45:     location: "789 Main St, Retail City",
 46:     description: "Main retail location and warehouse",
 47:     totalItems: 425,
 48:     status: "Active",
 49:   },
 50:   {
 51:     id: "2",
 52:     name: "Downtown Branch",
 53:     location: "101 Downtown Ave, Retail City",
 54:     description: "Downtown retail branch",
 55:     totalItems: 175,
 56:     status: "Active",
 57:   },
 58:   {
 59:     id: "3",
 60:     name: "Mall Outlet",
 61:     location: "Westfield Mall, Shopping District",
 62:     description: "Small outlet in the shopping mall",
 63:     totalItems: 125,
 64:     status: "Active",
 65:   },
 66:   {
 67:     id: "4",
 68:     name: "Distribution Center",
 69:     location: "456 Logistics Blvd, Industrial Zone",
 70:     description: "Main distribution and storage facility",
 71:     totalItems: 1250,
 72:     status: "Active",
 73:   },
 74:   {
 75:     id: "5",
 76:     name: "Seasonal Pop-up",
 77:     location: "Beach Boulevard, Tourist Area",
 78:     description: "Seasonal location for summer collection",
 79:     totalItems: 85,
 80:     status: "Inactive",
 81:   },
 82: ];
 83: 
 84: // Create a global variable to store the updated warehouses if it doesn't exist
 85: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedWarehouses')) {
 86:   window.updatedWarehouses = [...mockWarehouses];
 87: }
 88: 
 89: const warehouseSchema = z.object({
 90:   name: z.string().min(2, { message: "Name must be at least 2 characters" }),
 91:   location: z.string().min(2, { message: "Location must be at least 2 characters" }),
 92:   description: z.string().optional(),
 93:   status: z.enum(["Active", "Inactive"]),
 94: });
 95: 
 96: type WarehouseFormValues = z.infer<typeof warehouseSchema>;
 97: 
 98: export default function EditWarehousePage({ params }: { params: { id: string } }) {
 99:   const router = useRouter();
100:   const { toast } = useToast();
101:   const [isLoading, setIsLoading] = useState(false);
102:   const [isFetching, setIsFetching] = useState(true);
103:   const [warehouse, setWarehouse] = useState<any | null>(null);
104: 
105:   const form = useForm<WarehouseFormValues>({
106:     resolver: zodResolver(warehouseSchema),
107:     defaultValues: {
108:       name: "",
109:       location: "",
110:       description: "",
111:       status: "Active",
112:     },
113:   });
114: 
115:   useEffect(() => {
116:     // Fetch warehouse data
117:     const fetchWarehouse = async () => {
118:       setIsFetching(true);
119:       try {
120:         // In a real app, this would be an API call
121:         // const response = await fetch(`/api/warehouses/${params.id}`);
122:         // const data = await response.json();
123:         
124:         // Get data from our mock database (window.updatedWarehouses)
125:         setTimeout(() => {
126:           const warehouses = typeof window !== 'undefined' ? window.updatedWarehouses : mockWarehouses;
127:           const foundWarehouse = warehouses.find(w => w.id === params.id);
128:           
129:           if (foundWarehouse) {
130:             setWarehouse(foundWarehouse);
131:             form.reset({
132:               name: foundWarehouse.name,
133:               location: foundWarehouse.location || "",
134:               description: foundWarehouse.description || "",
135:               status: foundWarehouse.status as "Active" | "Inactive",
136:             });
137:           }
138:           
139:           setIsFetching(false);
140:         }, 1000);
141:       } catch (error) {
142:         toast({
143:           title: "Error",
144:           description: "Failed to load warehouse details",
145:           variant: "destructive",
146:         });
147:         setIsFetching(false);
148:       }
149:     };
150: 
151:     fetchWarehouse();
152:   }, [params.id, toast, form]);
153: 
154:   async function onSubmit(data: WarehouseFormValues) {
155:     setIsLoading(true);
156:     
157:     try {
158:       // In a real application, this would be an API call
159:       // const response = await fetch(`/api/warehouses/${params.id}`, {
160:       //   method: "PUT",
161:       //   headers: {
162:       //     "Content-Type": "application/json",
163:       //   },
164:       //   body: JSON.stringify(data),
165:       // });
166:       
167:       // if (!response.ok) {
168:       //   throw new Error("Failed to update warehouse");
169:       // }
170:       
171:       // Simulate API call and update our mock database
172:       await new Promise(resolve => setTimeout(resolve, 1000));
173:       
174:       // Update the warehouse in our mock database
175:       if (typeof window !== 'undefined') {
176:         const index = window.updatedWarehouses.findIndex(w => w.id === params.id);
177:         if (index !== -1) {
178:           window.updatedWarehouses[index] = {
179:             ...window.updatedWarehouses[index],
180:             ...data
181:           };
182:           
183:           // Log the updated warehouses for debugging
184:           console.log("Updated warehouses:", window.updatedWarehouses);
185:         }
186:       }
187:       
188:       toast({
189:         title: "Warehouse updated",
190:         description: "The warehouse has been updated successfully.",
191:       });
192:       
193:       router.push(`/warehouses/${params.id}`);
194:     } catch (error) {
195:       toast({
196:         title: "Error",
197:         description: error instanceof Error ? error.message : "An error occurred",
198:         variant: "destructive",
199:       });
200:     } finally {
201:       setIsLoading(false);
202:     }
203:   }
204: 
205:   return (
206:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
207:       <div className="flex items-center gap-2">
208:         <Button variant="ghost" size="icon" asChild>
209:           <Link href={`/warehouses/${params.id}`}>
210:             <ArrowLeft className="h-4 w-4" />
211:           </Link>
212:         </Button>
213:         <h1 className="text-3xl font-bold tracking-tight">
214:           {isFetching ? <Skeleton className="h-9 w-40" /> : `Edit ${warehouse?.name}`}
215:         </h1>
216:       </div>
217:       
218:       <Card>
219:         <CardHeader>
220:           <CardTitle>Warehouse Information</CardTitle>
221:           <CardDescription>
222:             Update the warehouse details
223:           </CardDescription>
224:         </CardHeader>
225:         <CardContent>
226:           {isFetching ? (
227:             <div className="space-y-4">
228:               <Skeleton className="h-10 w-full" />
229:               <Skeleton className="h-10 w-full" />
230:               <Skeleton className="h-10 w-full" />
231:               <Skeleton className="h-10 w-full" />
232:             </div>
233:           ) : (
234:             <Form {...form}>
235:               <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
236:                 <FormField
237:                   control={form.control}
238:                   name="name"
239:                   render={({ field }) => (
240:                     <FormItem>
241:                       <FormLabel>Name</FormLabel>
242:                       <FormControl>
243:                         <Input placeholder="Warehouse Name" {...field} />
244:                       </FormControl>
245:                       <FormMessage />
246:                     </FormItem>
247:                   )}
248:                 />
249:                 
250:                 <FormField
251:                   control={form.control}
252:                   name="location"
253:                   render={({ field }) => (
254:                     <FormItem>
255:                       <FormLabel>Location</FormLabel>
256:                       <FormControl>
257:                         <Input placeholder="Warehouse Location" {...field} />
258:                       </FormControl>
259:                       <FormDescription>
260:                         The physical address or location of this warehouse
261:                       </FormDescription>
262:                       <FormMessage />
263:                     </FormItem>
264:                   )}
265:                 />
266:                 
267:                 <FormField
268:                   control={form.control}
269:                   name="description"
270:                   render={({ field }) => (
271:                     <FormItem>
272:                       <FormLabel>Description</FormLabel>
273:                       <FormControl>
274:                         <Textarea
275:                           placeholder="Warehouse description..."
276:                           {...field}
277:                         />
278:                       </FormControl>
279:                       <FormMessage />
280:                     </FormItem>
281:                   )}
282:                 />
283:                 
284:                 <FormField
285:                   control={form.control}
286:                   name="status"
287:                   render={({ field }) => (
288:                     <FormItem>
289:                       <FormLabel>Status</FormLabel>
290:                       <Select
291:                         onValueChange={field.onChange}
292:                         defaultValue={field.value}
293:                       >
294:                         <FormControl>
295:                           <SelectTrigger>
296:                             <SelectValue placeholder="Select status" />
297:                           </SelectTrigger>
298:                         </FormControl>
299:                         <SelectContent>
300:                           <SelectItem value="Active">Active</SelectItem>
301:                           <SelectItem value="Inactive">Inactive</SelectItem>
302:                         </SelectContent>
303:                       </Select>
304:                       <FormMessage />
305:                     </FormItem>
306:                   )}
307:                 />
308:                 
309:                 <div className="flex justify-end space-x-2">
310:                   <Button
311:                     variant="outline"
312:                     onClick={() => router.push(`/warehouses/${params.id}`)}
313:                     type="button"
314:                   >
315:                     Cancel
316:                   </Button>
317:                   <Button type="submit" disabled={isLoading}>
318:                     {isLoading ? "Saving..." : "Save Changes"}
319:                   </Button>
320:                 </div>
321:               </form>
322:             </Form>
323:           )}
324:         </CardContent>
325:       </Card>
326:     </div>
327:   );
328: }
```

## app\warehouses\[id]\page.tsx

- Characters: 12184
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { useRouter } from "next/navigation";
  5: import Link from "next/link";
  6: import { ArrowLeft, Edit, Package, MapPin } from "lucide-react";
  7: import { Button } from "@/components/ui/button";
  8: import {
  9:   Card,
 10:   CardContent,
 11:   CardDescription,
 12:   CardHeader,
 13:   CardTitle,
 14: } from "@/components/ui/card";
 15: import {
 16:   Table,
 17:   TableBody,
 18:   TableCell,
 19:   TableHead,
 20:   TableHeader,
 21:   TableRow,
 22: } from "@/components/ui/table";
 23: import { Skeleton } from "@/components/ui/skeleton";
 24: import { Badge } from "@/components/ui/badge";
 25: import { DeleteButton } from "@/components/shared/delete-button";
 26: import { useToast } from "@/hooks/use-toast";
 27: 
 28: // Mock warehouses data - this would normally be in a database
 29: const mockWarehouses = [
 30:   {
 31:     id: "1",
 32:     name: "Main Store",
 33:     location: "789 Main St, Retail City",
 34:     description: "Main retail location and warehouse",
 35:     totalItems: 425,
 36:     status: "Active",
 37:   },
 38:   {
 39:     id: "2",
 40:     name: "Downtown Branch",
 41:     location: "101 Downtown Ave, Retail City",
 42:     description: "Downtown retail branch",
 43:     totalItems: 175,
 44:     status: "Active",
 45:   },
 46:   {
 47:     id: "3",
 48:     name: "Mall Outlet",
 49:     location: "Westfield Mall, Shopping District",
 50:     description: "Small outlet in the shopping mall",
 51:     totalItems: 125,
 52:     status: "Active",
 53:   },
 54:   {
 55:     id: "4",
 56:     name: "Distribution Center",
 57:     location: "456 Logistics Blvd, Industrial Zone",
 58:     description: "Main distribution and storage facility",
 59:     totalItems: 1250,
 60:     status: "Active",
 61:   },
 62:   {
 63:     id: "5",
 64:     name: "Seasonal Pop-up",
 65:     location: "Beach Boulevard, Tourist Area",
 66:     description: "Seasonal location for summer collection",
 67:     totalItems: 85,
 68:     status: "Inactive",
 69:   },
 70: ];
 71: 
 72: // Create a global variable to store the updated warehouses if it doesn't exist
 73: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedWarehouses')) {
 74:   window.updatedWarehouses = [...mockWarehouses];
 75: }
 76: 
 77: interface Warehouse {
 78:   id: string;
 79:   name: string;
 80:   location: string;
 81:   description: string;
 82:   totalItems: number;
 83:   status: string;
 84: }
 85: 
 86: export default function WarehouseDetailsPage({ params }: { params: { id: string } }) {
 87:   const router = useRouter();
 88:   const { toast } = useToast();
 89:   const [warehouse, setWarehouse] = useState<Warehouse | null>(null);
 90:   const [isLoading, setIsLoading] = useState(true);
 91: 
 92:   useEffect(() => {
 93:     // Fetch warehouse data
 94:     const fetchWarehouse = async () => {
 95:       setIsLoading(true);
 96:       try {
 97:         // In a real app, this would be an API call
 98:         // const response = await fetch(`/api/warehouses/${params.id}`);
 99:         // const data = await response.json();
100:         
101:         // Get data from our mock database (window.updatedWarehouses)
102:         setTimeout(() => {
103:           const warehouses = typeof window !== 'undefined' ? window.updatedWarehouses : mockWarehouses;
104:           const foundWarehouse = warehouses.find(w => w.id === params.id);
105:           
106:           setWarehouse(foundWarehouse || null);
107:           setIsLoading(false);
108:         }, 1000);
109:       } catch (error) {
110:         toast({
111:           title: "Error",
112:           description: "Failed to load warehouse details",
113:           variant: "destructive",
114:         });
115:         setIsLoading(false);
116:       }
117:     };
118: 
119:     fetchWarehouse();
120:   }, [params.id, toast]);
121: 
122:   const handleDelete = async (id: string) => {
123:     // Simulate API call to delete warehouse
124:     return new Promise<void>((resolve, reject) => {
125:       setTimeout(() => {
126:         // In a real app, this would be an API call
127:         // const response = await fetch(`/api/warehouses/${id}`, { method: 'DELETE' });
128:         // if (!response.ok) throw new Error('Failed to delete warehouse');
129:         
130:         if (warehouse?.status === "Active" && warehouse.totalItems > 0) {
131:           reject(new Error("Cannot delete a warehouse with inventory. Transfer all items first."));
132:         } else {
133:           // Update our mock database
134:           if (typeof window !== 'undefined') {
135:             window.updatedWarehouses = window.updatedWarehouses.filter(w => w.id !== id);
136:           }
137:           
138:           router.push("/warehouses");
139:           resolve();
140:         }
141:       }, 1000);
142:     });
143:   };
144: 
145:   // Sample inventory data for the warehouse
146:   const inventoryItems = [
147:     { id: "1", sku: "SH-001", name: "Cotton T-Shirt", category: "Shirts", quantity: 75 },
148:     { id: "2", sku: "PA-001", name: "Slim Fit Jeans", category: "Pants", quantity: 45 },
149:     { id: "3", sku: "DR-001", name: "Summer Dress", category: "Dresses", quantity: 30 },
150:     { id: "4", sku: "AC-001", name: "Leather Belt", category: "Accessories", quantity: 50 },
151:     { id: "5", sku: "SH-002", name: "Polo Shirt", category: "Shirts", quantity: 25 },
152:   ];
153: 
154:   return (
155:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
156:       <div className="flex items-center justify-between">
157:         <div className="flex items-center gap-2">
158:           <Button variant="ghost" size="icon" asChild>
159:             <Link href="/warehouses">
160:               <ArrowLeft className="h-4 w-4" />
161:             </Link>
162:           </Button>
163:           <h1 className="text-3xl font-bold tracking-tight">
164:             {isLoading ? <Skeleton className="h-9 w-40" /> : warehouse?.name}
165:           </h1>
166:         </div>
167:         
168:         <div className="flex items-center gap-2">
169:           {!isLoading && warehouse && (
170:             <>
171:               <Button variant="outline" size="sm" asChild>
172:                 <Link href={`/warehouses/${params.id}/edit`}>
173:                   <Edit className="mr-2 h-4 w-4" />
174:                   Edit
175:                 </Link>
176:               </Button>
177:               
178:               <DeleteButton
179:                 id={params.id}
180:                 name={warehouse.name}
181:                 onDelete={handleDelete}
182:                 disabled={warehouse.status === "Active" && warehouse.totalItems > 0}
183:                 disabledReason="Cannot delete a warehouse with inventory. Transfer all items first."
184:               />
185:             </>
186:           )}
187:         </div>
188:       </div>
189:       
190:       {isLoading ? (
191:         <Card>
192:           <CardHeader>
193:             <Skeleton className="h-7 w-40 mb-2" />
194:             <Skeleton className="h-5 w-60" />
195:           </CardHeader>
196:           <CardContent className="space-y-4">
197:             <Skeleton className="h-5 w-full" />
198:             <Skeleton className="h-5 w-3/4" />
199:             <Skeleton className="h-5 w-1/2" />
200:           </CardContent>
201:         </Card>
202:       ) : warehouse ? (
203:         <>
204:           <Card>
205:             <CardHeader>
206:               <CardTitle className="flex items-center justify-between">
207:                 Warehouse Details
208:                 <Badge className={warehouse.status === "Active" ? "bg-emerald-500" : "bg-gray-500"}>
209:                   {warehouse.status}
210:                 </Badge>
211:               </CardTitle>
212:               <CardDescription>
213:                 Detailed information about this warehouse
214:               </CardDescription>
215:             </CardHeader>
216:             <CardContent className="space-y-6">
217:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
218:                 <div>
219:                   <h3 className="text-sm font-medium text-muted-foreground">Name</h3>
220:                   <p className="text-base">{warehouse.name}</p>
221:                 </div>
222:                 <div>
223:                   <h3 className="text-sm font-medium text-muted-foreground">Total Items</h3>
224:                   <p className="text-base">{warehouse.totalItems}</p>
225:                 </div>
226:               </div>
227:               
228:               <div className="flex items-start gap-2">
229:                 <MapPin className="h-5 w-5 text-muted-foreground mt-0.5" />
230:                 <div>
231:                   <h3 className="text-sm font-medium text-muted-foreground">Location</h3>
232:                   <p className="text-base">{warehouse.location}</p>
233:                 </div>
234:               </div>
235:               
236:               <div>
237:                 <h3 className="text-sm font-medium text-muted-foreground">Description</h3>
238:                 <p className="text-base">{warehouse.description}</p>
239:               </div>
240:             </CardContent>
241:           </Card>
242:           
243:           <Card>
244:             <CardHeader>
245:               <CardTitle className="flex items-center">
246:                 <Package className="mr-2 h-5 w-5" />
247:                 Inventory Items
248:               </CardTitle>
249:               <CardDescription>
250:                 Products currently stored in this warehouse
251:               </CardDescription>
252:             </CardHeader>
253:             <CardContent>
254:               {warehouse.totalItems > 0 ? (
255:                 <Table>
256:                   <TableHeader>
257:                     <TableRow>
258:                       <TableHead>SKU</TableHead>
259:                       <TableHead>Name</TableHead>
260:                       <TableHead>Category</TableHead>
261:                       <TableHead className="text-right">Quantity</TableHead>
262:                       <TableHead className="text-right">Actions</TableHead>
263:                     </TableRow>
264:                   </TableHeader>
265:                   <TableBody>
266:                     {inventoryItems.map((item) => (
267:                       <TableRow key={item.id}>
268:                         <TableCell className="font-medium">{item.sku}</TableCell>
269:                         <TableCell>{item.name}</TableCell>
270:                         <TableCell>{item.category}</TableCell>
271:                         <TableCell className="text-right">{item.quantity}</TableCell>
272:                         <TableCell className="text-right">
273:                           <Button variant="ghost" size="sm" asChild>
274:                             <Link href={`/products/${item.id}`}>View Product</Link>
275:                           </Button>
276:                         </TableCell>
277:                       </TableRow>
278:                     ))}
279:                   </TableBody>
280:                 </Table>
281:               ) : (
282:                 <div className="text-center py-8 text-muted-foreground">
283:                   No inventory items in this warehouse
284:                 </div>
285:               )}
286:             </CardContent>
287:           </Card>
288:         </>
289:       ) : (
290:         <Card>
291:           <CardContent className="flex flex-col items-center justify-center py-10">
292:             <h2 className="text-xl font-semibold mb-2">Warehouse Not Found</h2>
293:             <p className="text-muted-foreground mb-4">
294:               The warehouse you're looking for doesn't exist or has been removed.
295:             </p>
296:             <Button asChild>
297:               <Link href="/warehouses">Back to Warehouses</Link>
298:             </Button>
299:           </CardContent>
300:         </Card>
301:       )}
302:     </div>
303:   );
304: }
```

## components\dashboard\charts.tsx

- Characters: 2303
- Tokens: 0

```text
 1: "use client";
 2: 
 3: import { 
 4:   BarChart, 
 5:   LineChart, 
 6:   ResponsiveContainer, 
 7:   Bar, 
 8:   XAxis, 
 9:   YAxis, 
10:   CartesianGrid, 
11:   Tooltip, 
12:   Legend, 
13:   Line,
14:   PieChart,
15:   Pie,
16:   Cell
17: } from "recharts";
18: 
19: const COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#8884D8'];
20: 
21: interface ChartProps {
22:   type: 'line' | 'bar' | 'pie';
23:   data: any[];
24: }
25: 
26: export default function Charts({ type, data }: ChartProps) {
27:   if (type === 'line') {
28:     return (
29:       <ResponsiveContainer width="100%" height={350}>
30:         <LineChart data={data}>
31:           <CartesianGrid strokeDasharray="3 3" />
32:           <XAxis dataKey="name" />
33:           <YAxis />
34:           <Tooltip />
35:           <Legend />
36:           <Line
37:             type="monotone"
38:             dataKey="total"
39:             stroke="hsl(var(--chart-1))"
40:             activeDot={{ r: 8 }}
41:           />
42:         </LineChart>
43:       </ResponsiveContainer>
44:     );
45:   }
46:   
47:   if (type === 'bar') {
48:     return (
49:       <ResponsiveContainer width="100%" height={350}>
50:         <BarChart data={data}>
51:           <CartesianGrid strokeDasharray="3 3" />
52:           <XAxis dataKey="name" />
53:           <YAxis />
54:           <Tooltip />
55:           <Legend />
56:           <Bar dataKey="value" fill="hsl(var(--chart-2))" />
57:         </BarChart>
58:       </ResponsiveContainer>
59:     );
60:   }
61:   
62:   if (type === 'pie') {
63:     return (
64:       <ResponsiveContainer width="100%" height={350}>
65:         <PieChart>
66:           <Pie
67:             data={data}
68:             cx="50%"
69:             cy="50%"
70:             labelLine={false}
71:             outerRadius={120}
72:             fill="#8884d8"
73:             dataKey="value"
74:             label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}
75:           >
76:             {data.map((entry, index) => (
77:               <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />
78:             ))}
79:           </Pie>
80:           <Tooltip />
81:         </PieChart>
82:       </ResponsiveContainer>
83:     );
84:   }
85:   
86:   return null;
87: }
```

## components\layout\header.tsx

- Characters: 3753
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { Bell, Menu, Search } from "lucide-react";
  5: import { Button } from "@/components/ui/button";
  6: import { Input } from "@/components/ui/input";
  7: import { Sheet, SheetContent, SheetTrigger } from "@/components/ui/sheet";
  8: import { Sidebar } from "@/components/layout/sidebar";
  9: import { Avatar, AvatarFallback } from "@/components/ui/avatar";
 10: import {
 11:   DropdownMenu,
 12:   DropdownMenuContent,
 13:   DropdownMenuItem,
 14:   DropdownMenuLabel,
 15:   DropdownMenuSeparator,
 16:   DropdownMenuTrigger,
 17: } from "@/components/ui/dropdown-menu";
 18: import { useRouter } from "next/navigation";
 19: import { useAuth } from "@/hooks/use-auth";
 20: 
 21: export function Header() {
 22:   const router = useRouter();
 23:   const { user, logout } = useAuth();
 24:   const [isMobile, setIsMobile] = useState(false);
 25: 
 26:   useEffect(() => {
 27:     const checkScreenSize = () => {
 28:       setIsMobile(window.innerWidth < 768);
 29:     };
 30: 
 31:     checkScreenSize();
 32:     window.addEventListener("resize", checkScreenSize);
 33: 
 34:     return () => {
 35:       window.removeEventListener("resize", checkScreenSize);
 36:     };
 37:   }, []);
 38: 
 39:   if (!user) {
 40:     return null;
 41:   }
 42: 
 43:   return (
 44:     <header className="sticky top-0 z-30 flex h-16 items-center gap-4 border-b bg-background px-4 md:px-6">
 45:       {isMobile && (
 46:         <Sheet>
 47:           <SheetTrigger asChild>
 48:             <Button variant="outline" size="icon" className="md:hidden">
 49:               <Menu className="h-5 w-5" />
 50:               <span className="sr-only">Toggle Menu</span>
 51:             </Button>
 52:           </SheetTrigger>
 53:           <SheetContent side="left" className="p-0">
 54:             <Sidebar />
 55:           </SheetContent>
 56:         </Sheet>
 57:       )}
 58: 
 59:       <div className="w-full flex-1">
 60:         <form className="hidden md:block">
 61:           <div className="relative">
 62:             <Search className="absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground" />
 63:             <Input
 64:               type="search"
 65:               placeholder="Search..."
 66:               className="w-full appearance-none bg-background pl-8 shadow-none md:w-2/3 lg:w-1/3"
 67:             />
 68:           </div>
 69:         </form>
 70:       </div>
 71: 
 72:       <DropdownMenu>
 73:         <DropdownMenuTrigger asChild>
 74:           <Button variant="ghost" size="icon" className="rounded-full">
 75:             <Avatar className="h-8 w-8">
 76:               <AvatarFallback>
 77:                 {user.name
 78:                   .split(" ")
 79:                   .map((n) => n[0])
 80:                   .join("")
 81:                   .toUpperCase()}
 82:               </AvatarFallback>
 83:             </Avatar>
 84:           </Button>
 85:         </DropdownMenuTrigger>
 86:         <DropdownMenuContent align="end">
 87:           <DropdownMenuLabel>My Account</DropdownMenuLabel>
 88:           <DropdownMenuSeparator />
 89:           <DropdownMenuItem>Profile</DropdownMenuItem>
 90:           <DropdownMenuItem>Settings</DropdownMenuItem>
 91:           <DropdownMenuSeparator />
 92:           <DropdownMenuItem onClick={logout}>Logout</DropdownMenuItem>
 93:         </DropdownMenuContent>
 94:       </DropdownMenu>
 95: 
 96:       <Button variant="ghost" size="icon" className="relative">
 97:         <Bell className="h-5 w-5" />
 98:         <span className="absolute right-1 top-1 flex h-2 w-2 rounded-full bg-destructive"></span>
 99:       </Button>
100:     </header>
101:   );
102: }
```

## components\layout\sidebar.tsx

- Characters: 6080
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState } from "react";
  4: import Link from "next/link";
  5: import { usePathname } from "next/navigation";
  6: import { cn } from "@/lib/utils";
  7: import {
  8:   BarChart3,
  9:   Box,
 10:   ClipboardList,
 11:   Home,
 12:   LayoutDashboard,
 13:   LogOut,
 14:   Package,
 15:   Settings,
 16:   ShoppingBag,
 17:   ShoppingCart,
 18:   Truck,
 19:   Users,
 20:   Warehouse,
 21: } from "lucide-react";
 22: import { Button } from "@/components/ui/button";
 23: import { ScrollArea } from "@/components/ui/scroll-area";
 24: import { Separator } from "@/components/ui/separator";
 25: import { UserRole } from "@prisma/client";
 26: import { useAuth } from "@/hooks/use-auth";
 27: 
 28: interface SidebarItem {
 29:   title: string;
 30:   href: string;
 31:   icon: React.ReactNode;
 32:   requiredRoles?: UserRole[];
 33: }
 34: 
 35: export function Sidebar() {
 36:   const pathname = usePathname();
 37:   const [isCollapsed, setIsCollapsed] = useState(false);
 38:   const { user, logout } = useAuth();
 39: 
 40:   const sidebarItems: SidebarItem[] = [
 41:     {
 42:       title: "Dashboard",
 43:       href: "/dashboard",
 44:       icon: <LayoutDashboard className="h-5 w-5" />,
 45:     },
 46:     {
 47:       title: "Products",
 48:       href: "/products",
 49:       icon: <Package className="h-5 w-5" />,
 50:     },
 51:     {
 52:       title: "Categories",
 53:       href: "/categories",
 54:       icon: <Box className="h-5 w-5" />,
 55:     },
 56:     {
 57:       title: "Suppliers",
 58:       href: "/suppliers",
 59:       icon: <Truck className="h-5 w-5" />,
 60:     },
 61:     {
 62:       title: "Warehouses",
 63:       href: "/warehouses",
 64:       icon: <Warehouse className="h-5 w-5" />,
 65:     },
 66:     {
 67:       title: "Purchases",
 68:       href: "/purchases",
 69:       icon: <ShoppingCart className="h-5 w-5" />,
 70:     },
 71:     {
 72:       title: "Transfers",
 73:       href: "/transfers",
 74:       icon: <ClipboardList className="h-5 w-5" />,
 75:     },
 76:     {
 77:       title: "Sales",
 78:       href: "/sales",
 79:       icon: <ShoppingBag className="h-5 w-5" />,
 80:     },
 81:     {
 82:       title: "Inventory Audit",
 83:       href: "/inventory-audit",
 84:       icon: <ClipboardList className="h-5 w-5" />,
 85:     },
 86:     {
 87:       title: "Reports",
 88:       href: "/reports",
 89:       icon: <BarChart3 className="h-5 w-5" />,
 90:       requiredRoles: [UserRole.ROOT, UserRole.ADMIN, UserRole.MANAGER],
 91:     },
 92:     {
 93:       title: "Users",
 94:       href: "/users",
 95:       icon: <Users className="h-5 w-5" />,
 96:       requiredRoles: [UserRole.ROOT, UserRole.ADMIN],
 97:     },
 98:     {
 99:       title: "Settings",
100:       href: "/settings",
101:       icon: <Settings className="h-5 w-5" />,
102:     },
103:   ];
104: 
105:   if (!user) {
106:     return null;
107:   }
108: 
109:   const filteredItems = sidebarItems.filter(
110:     (item) => !item.requiredRoles || item.requiredRoles.includes(user.role)
111:   );
112: 
113:   return (
114:     <div
115:       className={cn(
116:         "flex flex-col border-r bg-card h-screen",
117:         isCollapsed ? "w-[80px]" : "w-[240px]"
118:       )}
119:     >
120:       <div className="flex h-14 items-center border-b px-4">
121:         <Link href="/dashboard" className="flex items-center space-x-2">
122:           <ShoppingBag className="h-6 w-6" />
123:           {!isCollapsed && <span className="font-semibold">Fashion Inventory</span>}
124:         </Link>
125:         <Button
126:           variant="ghost"
127:           size="icon"
128:           className="ml-auto"
129:           onClick={() => setIsCollapsed(!isCollapsed)}
130:         >
131:           {isCollapsed ? (
132:             <svg
133:               xmlns="http://www.w3.org/2000/svg"
134:               viewBox="0 0 24 24"
135:               fill="none"
136:               stroke="currentColor"
137:               strokeWidth="2"
138:               strokeLinecap="round"
139:               strokeLinejoin="round"
140:               className="h-4 w-4"
141:             >
142:               <path d="m9 18 6-6-6-6" />
143:             </svg>
144:           ) : (
145:             <svg
146:               xmlns="http://www.w3.org/2000/svg"
147:               viewBox="0 0 24 24"
148:               fill="none"
149:               stroke="currentColor"
150:               strokeWidth="2"
151:               strokeLinecap="round"
152:               strokeLinejoin="round"
153:               className="h-4 w-4"
154:             >
155:               <path d="m15 18-6-6 6-6" />
156:             </svg>
157:           )}
158:         </Button>
159:       </div>
160:       <ScrollArea className="flex-1 py-2">
161:         <nav className="grid gap-1 px-2">
162:           {filteredItems.map((item, index) => (
163:             <Link
164:               key={index}
165:               href={item.href}
166:               className={cn(
167:                 "flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground",
168:                 pathname === item.href
169:                   ? "bg-accent text-accent-foreground"
170:                   : "transparent",
171:                 isCollapsed && "justify-center py-3"
172:               )}
173:             >
174:               {item.icon}
175:               {!isCollapsed && <span>{item.title}</span>}
176:             </Link>
177:           ))}
178:         </nav>
179:       </ScrollArea>
180:       <Separator />
181:       <div className="p-2">
182:         <Button
183:           variant="ghost"
184:           className={cn(
185:             "w-full justify-start",
186:             isCollapsed && "justify-center py-3"
187:           )}
188:           onClick={logout}
189:         >
190:           <LogOut className="h-5 w-5 mr-2" />
191:           {!isCollapsed && <span>Logout</span>}
192:         </Button>
193:       </div>
194:     </div>
195:   );
196: }
```

## components\purchases\product-selector.tsx

- Characters: 16046
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { X, Search, Plus, Minus } from "lucide-react";
  5: import { Button } from "@/components/ui/button";
  6: import { Input } from "@/components/ui/input";
  7: import {
  8:   Dialog,
  9:   DialogContent,
 10:   DialogDescription,
 11:   DialogFooter,
 12:   DialogHeader,
 13:   DialogTitle,
 14:   DialogTrigger,
 15: } from "@/components/ui/dialog";
 16: import {
 17:   Table,
 18:   TableBody,
 19:   TableCell,
 20:   TableHead,
 21:   TableHeader,
 22:   TableRow,
 23: } from "@/components/ui/table";
 24: import { Badge } from "@/components/ui/badge";
 25: import { ScrollArea } from "@/components/ui/scroll-area";
 26: import { Checkbox } from "@/components/ui/checkbox";
 27: 
 28: // Mock products data - this would normally be in a database
 29: const mockProducts = [
 30:   {
 31:     id: "1",
 32:     sku: "SH-001",
 33:     name: "Cotton T-Shirt",
 34:     description: "Comfortable cotton t-shirt for everyday wear",
 35:     category: "Shirts",
 36:     categories: ["1"],
 37:     costPrice: 12.50,
 38:     sellingPrice: 24.99,
 39:     stock: 120,
 40:     safetyStock: 20,
 41:   },
 42:   {
 43:     id: "2",
 44:     sku: "PA-001",
 45:     name: "Slim Fit Jeans",
 46:     description: "Stylish slim fit jeans for a modern look",
 47:     category: "Pants",
 48:     categories: ["2"],
 49:     costPrice: 18.75,
 50:     sellingPrice: 39.99,
 51:     stock: 85,
 52:     safetyStock: 15,
 53:   },
 54:   {
 55:     id: "3",
 56:     sku: "DR-001",
 57:     name: "Summer Dress",
 58:     description: "Light and airy dress for summer days",
 59:     category: "Dresses",
 60:     categories: ["3"],
 61:     costPrice: 22.00,
 62:     sellingPrice: 49.99,
 63:     stock: 42,
 64:     safetyStock: 10,
 65:   },
 66:   {
 67:     id: "4",
 68:     sku: "AC-001",
 69:     name: "Leather Belt",
 70:     description: "Classic leather belt with metal buckle",
 71:     category: "Accessories",
 72:     categories: ["4"],
 73:     costPrice: 8.25,
 74:     sellingPrice: 19.99,
 75:     stock: 65,
 76:     safetyStock: 12,
 77:   },
 78:   {
 79:     id: "5",
 80:     sku: "SH-002",
 81:     name: "Polo Shirt",
 82:     description: "Classic polo shirt with embroidered logo",
 83:     category: "Shirts",
 84:     categories: ["1"],
 85:     costPrice: 15.00,
 86:     sellingPrice: 29.99,
 87:     stock: 8,
 88:     safetyStock: 15,
 89:   },
 90: ];
 91: 
 92: interface ProductSelectorProps {
 93:   onProductsSelected: (products: any[]) => void;
 94:   existingItems?: any[];
 95: }
 96: 
 97: export function ProductSelector({ onProductsSelected, existingItems = [] }: ProductSelectorProps) {
 98:   const [isOpen, setIsOpen] = useState(false);
 99:   const [searchTerm, setSearchTerm] = useState("");
100:   const [products, setProducts] = useState<any[]>([]);
101:   const [selectedProducts, setSelectedProducts] = useState<Record<string, any>>({});
102:   const [quantities, setQuantities] = useState<Record<string, number>>({});
103:   const [prices, setPrices] = useState<Record<string, number>>({});
104: 
105:   // Load products from our mock database
106:   useEffect(() => {
107:     const loadProducts = () => {
108:       const productsData = typeof window !== 'undefined' && window.updatedProducts 
109:         ? window.updatedProducts 
110:         : mockProducts;
111:       setProducts(productsData);
112:     };
113:     
114:     loadProducts();
115:   }, []);
116: 
117:   // Initialize with existing items if provided
118:   useEffect(() => {
119:     if (existingItems && existingItems.length > 0) {
120:       const selectedMap: Record<string, any> = {};
121:       const quantityMap: Record<string, number> = {};
122:       const priceMap: Record<string, number> = {};
123:       
124:       existingItems.forEach(item => {
125:         selectedMap[item.productId] = {
126:           id: item.productId,
127:           sku: item.sku,
128:           name: item.name,
129:         };
130:         quantityMap[item.productId] = item.quantity;
131:         priceMap[item.productId] = item.unitPrice;
132:       });
133:       
134:       setSelectedProducts(selectedMap);
135:       setQuantities(quantityMap);
136:       setPrices(priceMap);
137:     }
138:   }, [existingItems]);
139: 
140:   const filteredProducts = products.filter(product => 
141:     product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
142:     product.sku.toLowerCase().includes(searchTerm.toLowerCase()) ||
143:     product.category.toLowerCase().includes(searchTerm.toLowerCase())
144:   );
145: 
146:   const handleProductSelect = (product: any) => {
147:     setSelectedProducts(prev => {
148:       const newSelected = { ...prev };
149:       
150:       if (newSelected[product.id]) {
151:         delete newSelected[product.id];
152:       } else {
153:         newSelected[product.id] = {
154:           id: product.id,
155:           sku: product.sku,
156:           name: product.name,
157:         };
158:         
159:         // Initialize quantity and price if not already set
160:         if (!quantities[product.id]) {
161:           setQuantities(prev => ({
162:             ...prev,
163:             [product.id]: 1
164:           }));
165:         }
166:         
167:         if (!prices[product.id]) {
168:           setPrices(prev => ({
169:             ...prev,
170:             [product.id]: product.costPrice || 0
171:           }));
172:         }
173:       }
174:       
175:       return newSelected;
176:     });
177:   };
178: 
179:   const handleQuantityChange = (productId: string, value: number) => {
180:     if (value < 1) value = 1;
181:     setQuantities(prev => ({
182:       ...prev,
183:       [productId]: value
184:     }));
185:   };
186: 
187:   const handlePriceChange = (productId: string, value: number) => {
188:     if (value < 0) value = 0;
189:     setPrices(prev => ({
190:       ...prev,
191:       [productId]: value
192:     }));
193:   };
194: 
195:   const handleConfirm = () => {
196:     const selectedItems = Object.keys(selectedProducts).map(productId => {
197:       const product = selectedProducts[productId];
198:       return {
199:         id: `item-${Date.now()}-${productId}`, // Generate a unique ID for the item
200:         productId: product.id,
201:         sku: product.sku,
202:         name: product.name,
203:         quantity: quantities[productId] || 1,
204:         unitPrice: prices[productId] || 0,
205:         receivedQuantity: 0,
206:       };
207:     });
208:     
209:     onProductsSelected(selectedItems);
210:     setIsOpen(false);
211:   };
212: 
213:   const isProductSelected = (productId: string) => {
214:     return !!selectedProducts[productId];
215:   };
216: 
217:   const getStockStatus = (stock: number, safetyStock: number) => {
218:     if (stock <= 0) {
219:       return { label: "Out of Stock", color: "bg-red-500 text-white" };
220:     } else if (stock <= safetyStock) {
221:       return { label: "Low Stock", color: "bg-amber-500 text-white" };
222:     } else {
223:       return { label: "In Stock", color: "bg-emerald-500 text-white" };
224:     }
225:   };
226: 
227:   return (
228:     <Dialog open={isOpen} onOpenChange={setIsOpen}>
229:       <DialogTrigger asChild>
230:         <Button>
231:           <Plus className="mr-2 h-4 w-4" />
232:           Add Products
233:         </Button>
234:       </DialogTrigger>
235:       <DialogContent className="sm:max-w-[900px]">
236:         <DialogHeader>
237:           <DialogTitle>Select Products</DialogTitle>
238:           <DialogDescription>
239:             Search and select products to add to the purchase order
240:           </DialogDescription>
241:         </DialogHeader>
242:         
243:         <div className="flex items-center space-x-2 py-4">
244:           <Search className="h-5 w-5 text-muted-foreground" />
245:           <Input
246:             placeholder="Search by name, SKU, or category..."
247:             value={searchTerm}
248:             onChange={(e) => setSearchTerm(e.target.value)}
249:             className="flex-1"
250:           />
251:         </div>
252:         
253:         <div className="grid grid-cols-1 gap-4">
254:           <ScrollArea className="h-[300px]">
255:             <Table>
256:               <TableHeader>
257:                 <TableRow>
258:                   <TableHead className="w-[50px]"></TableHead>
259:                   <TableHead>SKU</TableHead>
260:                   <TableHead>Name</TableHead>
261:                   <TableHead>Category</TableHead>
262:                   <TableHead className="text-right">Cost Price</TableHead>
263:                   <TableHead>Status</TableHead>
264:                 </TableRow>
265:               </TableHeader>
266:               <TableBody>
267:                 {filteredProducts.map((product) => (
268:                   <TableRow 
269:                     key={product.id} 
270:                     className={isProductSelected(product.id) ? "bg-muted/50" : ""}
271:                     onClick={() => handleProductSelect(product)}
272:                   >
273:                     <TableCell>
274:                       <Checkbox 
275:                         checked={isProductSelected(product.id)}
276:                         onCheckedChange={() => handleProductSelect(product)}
277:                       />
278:                     </TableCell>
279:                     <TableCell className="font-medium">{product.sku}</TableCell>
280:                     <TableCell>{product.name}</TableCell>
281:                     <TableCell>{product.category}</TableCell>
282:                     <TableCell className="text-right">${product.costPrice?.toFixed(2) || "0.00"}</TableCell>
283:                     <TableCell>
284:                       <Badge className={getStockStatus(product.stock, product.safetyStock).color}>
285:                         {getStockStatus(product.stock, product.safetyStock).label}
286:                       </Badge>
287:                     </TableCell>
288:                   </TableRow>
289:                 ))}
290:                 {filteredProducts.length === 0 && (
291:                   <TableRow>
292:                     <TableCell colSpan={6} className="text-center py-4 text-muted-foreground">
293:                       No products found matching your search
294:                     </TableCell>
295:                   </TableRow>
296:                 )}
297:               </TableBody>
298:             </Table>
299:           </ScrollArea>
300:           
301:           {Object.keys(selectedProducts).length > 0 && (
302:             <div className="mt-4">
303:               <h3 className="text-lg font-medium mb-2">Selected Products</h3>
304:               <Table>
305:                 <TableHeader>
306:                   <TableRow>
307:                     <TableHead>Product</TableHead>
308:                     <TableHead className="text-right">Quantity</TableHead>
309:                     <TableHead className="text-right">Unit Price</TableHead>
310:                     <TableHead className="text-right">Total</TableHead>
311:                     <TableHead className="w-[50px]"></TableHead>
312:                   </TableRow>
313:                 </TableHeader>
314:                 <TableBody>
315:                   {Object.keys(selectedProducts).map((productId) => {
316:                     const product = selectedProducts[productId];
317:                     const quantity = quantities[productId] || 1;
318:                     const price = prices[productId] || 0;
319:                     const total = quantity * price;
320:                     
321:                     return (
322:                       <TableRow key={productId}>
323:                         <TableCell>
324:                           <div>
325:                             <p className="font-medium">{product.name}</p>
326:                             <p className="text-sm text-muted-foreground">{product.sku}</p>
327:                           </div>
328:                         </TableCell>
329:                         <TableCell className="text-right">
330:                           <div className="flex items-center justify-end space-x-2">
331:                             <Button 
332:                               variant="outline" 
333:                               size="icon" 
334:                               className="h-8 w-8"
335:                               onClick={(e) => {
336:                                 e.stopPropagation();
337:                                 handleQuantityChange(productId, (quantities[productId] || 1) - 1);
338:                               }}
339:                             >
340:                               <Minus className="h-4 w-4" />
341:                             </Button>
342:                             <Input
343:                               type="number"
344:                               min="1"
345:                               value={quantity}
346:                               onChange={(e) => handleQuantityChange(productId, parseInt(e.target.value) || 1)}
347:                               className="w-16 text-right"
348:                               onClick={(e) => e.stopPropagation()}
349:                             />
350:                             <Button 
351:                               variant="outline" 
352:                               size="icon" 
353:                               className="h-8 w-8"
354:                               onClick={(e) => {
355:                                 e.stopPropagation();
356:                                 handleQuantityChange(productId, (quantities[productId] || 1) + 1);
357:                               }}
358:                             >
359:                               <Plus className="h-4 w-4" />
360:                             </Button>
361:                           </div>
362:                         </TableCell>
363:                         <TableCell className="text-right">
364:                           <Input
365:                             type="number"
366:                             min="0"
367:                             step="0.01"
368:                             value={price}
369:                             onChange={(e) => handlePriceChange(productId, parseFloat(e.target.value) || 0)}
370:                             className="w-24 text-right"
371:                             onClick={(e) => e.stopPropagation()}
372:                           />
373:                         </TableCell>
374:                         <TableCell className="text-right font-medium">
375:                           ${total.toFixed(2)}
376:                         </TableCell>
377:                         <TableCell>
378:                           <Button 
379:                             variant="ghost" 
380:                             size="icon" 
381:                             onClick={(e) => {
382:                               e.stopPropagation();
383:                               handleProductSelect(product);
384:                             }}
385:                           >
386:                             <X className="h-4 w-4" />
387:                           </Button>
388:                         </TableCell>
389:                       </TableRow>
390:                     );
391:                   })}
392:                 </TableBody>
393:               </Table>
394:             </div>
395:           )}
396:         </div>
397:         
398:         <DialogFooter>
399:           <Button variant="outline" onClick={() => setIsOpen(false)}>
400:             Cancel
401:           </Button>
402:           <Button onClick={handleConfirm} disabled={Object.keys(selectedProducts).length === 0}>
403:             Add {Object.keys(selectedProducts).length} Products
404:           </Button>
405:         </DialogFooter>
406:       </DialogContent>
407:     </Dialog>
408:   );
409: }
```

## components\shared\delete-button.tsx

- Characters: 2999
- Tokens: 0

```text
 1: "use client";
 2: 
 3: import { useState } from "react";
 4: import { Trash2 } from "lucide-react";
 5: import { Button } from "@/components/ui/button";
 6: import {
 7:   AlertDialog,
 8:   AlertDialogAction,
 9:   AlertDialogCancel,
10:   AlertDialogContent,
11:   AlertDialogDescription,
12:   AlertDialogFooter,
13:   AlertDialogHeader,
14:   AlertDialogTitle,
15: } from "@/components/ui/alert-dialog";
16: import { useToast } from "@/hooks/use-toast";
17: 
18: interface DeleteButtonProps {
19:   id: string;
20:   name: string;
21:   onDelete: (id: string) => Promise<void>;
22:   disabled?: boolean;
23:   disabledReason?: string;
24: }
25: 
26: export function DeleteButton({
27:   id,
28:   name,
29:   onDelete,
30:   disabled = false,
31:   disabledReason = "This item cannot be deleted",
32: }: DeleteButtonProps) {
33:   const [open, setOpen] = useState(false);
34:   const [isDeleting, setIsDeleting] = useState(false);
35:   const { toast } = useToast();
36: 
37:   const handleDelete = async () => {
38:     try {
39:       setIsDeleting(true);
40:       await onDelete(id);
41:       toast({
42:         title: "Deleted successfully",
43:         description: `${name} has been deleted.`,
44:       });
45:       setOpen(false);
46:     } catch (error) {
47:       toast({
48:         title: "Error",
49:         description: error instanceof Error ? error.message : "Failed to delete",
50:         variant: "destructive",
51:       });
52:     } finally {
53:       setIsDeleting(false);
54:     }
55:   };
56: 
57:   return (
58:     <>
59:       <Button
60:         variant="ghost"
61:         size="icon"
62:         className="text-destructive hover:bg-destructive/10 hover:text-destructive"
63:         onClick={() => setOpen(true)}
64:         disabled={disabled}
65:         title={disabled ? disabledReason : "Delete"}
66:       >
67:         <Trash2 className="h-4 w-4" />
68:       </Button>
69: 
70:       <AlertDialog open={open} onOpenChange={setOpen}>
71:         <AlertDialogContent>
72:           <AlertDialogHeader>
73:             <AlertDialogTitle>Are you sure?</AlertDialogTitle>
74:             <AlertDialogDescription>
75:               This will permanently delete <strong>{name}</strong>. This action cannot be undone.
76:             </AlertDialogDescription>
77:           </AlertDialogHeader>
78:           <AlertDialogFooter>
79:             <AlertDialogCancel disabled={isDeleting}>Cancel</AlertDialogCancel>
80:             <AlertDialogAction
81:               onClick={(e) => {
82:                 e.preventDefault();
83:                 handleDelete();
84:               }}
85:               disabled={isDeleting}
86:               className="bg-destructive text-destructive-foreground hover:bg-destructive/90"
87:             >
88:               {isDeleting ? "Deleting..." : "Delete"}
89:             </AlertDialogAction>
90:           </AlertDialogFooter>
91:         </AlertDialogContent>
92:       </AlertDialog>
93:     </>
94:   );
95: }
```

## components\theme-provider.tsx

- Characters: 358
- Tokens: 0

```text
1: "use client";
2: 
3: import * as React from "react";
4: import { ThemeProvider as NextThemesProvider } from "next-themes";
5: import { type ThemeProviderProps } from "next-themes/dist/types";
6: 
7: export function ThemeProvider({ children, ...props }: ThemeProviderProps) {
8:   return <NextThemesProvider {...props}>{children}</NextThemesProvider>;
9: }
```

## components\transfers\product-transfer-selector.tsx

- Characters: 18816
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import { useState, useEffect } from "react";
  4: import { X, Search, Plus, Minus } from "lucide-react";
  5: import { Button } from "@/components/ui/button";
  6: import { Input } from "@/components/ui/input";
  7: import {
  8:   Dialog,
  9:   DialogContent,
 10:   DialogDescription,
 11:   DialogFooter,
 12:   DialogHeader,
 13:   DialogTitle,
 14:   DialogTrigger,
 15: } from "@/components/ui/dialog";
 16: import {
 17:   Table,
 18:   TableBody,
 19:   TableCell,
 20:   TableHead,
 21:   TableHeader,
 22:   TableRow,
 23: } from "@/components/ui/table";
 24: import { Badge } from "@/components/ui/badge";
 25: import { ScrollArea } from "@/components/ui/scroll-area";
 26: import { Checkbox } from "@/components/ui/checkbox";
 27: import { Alert, AlertDescription } from "@/components/ui/alert";
 28: 
 29: // Mock products data - this would normally be in a database
 30: const mockProducts = [
 31:   {
 32:     id: "1",
 33:     sku: "SH-001",
 34:     name: "Cotton T-Shirt",
 35:     description: "Comfortable cotton t-shirt for everyday wear",
 36:     category: "Shirts",
 37:     categories: ["1"],
 38:     costPrice: 12.50,
 39:     sellingPrice: 24.99,
 40:     stock: 120,
 41:     safetyStock: 20,
 42:   },
 43:   {
 44:     id: "2",
 45:     sku: "PA-001",
 46:     name: "Slim Fit Jeans",
 47:     description: "Stylish slim fit jeans for a modern look",
 48:     category: "Pants",
 49:     categories: ["2"],
 50:     costPrice: 18.75,
 51:     sellingPrice: 39.99,
 52:     stock: 85,
 53:     safetyStock: 15,
 54:   },
 55:   {
 56:     id: "3",
 57:     sku: "DR-001",
 58:     name: "Summer Dress",
 59:     description: "Light and airy dress for summer days",
 60:     category: "Dresses",
 61:     categories: ["3"],
 62:     costPrice: 22.00,
 63:     sellingPrice: 49.99,
 64:     stock: 42,
 65:     safetyStock: 10,
 66:   },
 67:   {
 68:     id: "4",
 69:     sku: "AC-001",
 70:     name: "Leather Belt",
 71:     description: "Classic leather belt with metal buckle",
 72:     category: "Accessories",
 73:     categories: ["4"],
 74:     costPrice: 8.25,
 75:     sellingPrice: 19.99,
 76:     stock: 65,
 77:     safetyStock: 12,
 78:   },
 79:   {
 80:     id: "5",
 81:     sku: "SH-002",
 82:     name: "Polo Shirt",
 83:     description: "Classic polo shirt with embroidered logo",
 84:     category: "Shirts",
 85:     categories: ["1"],
 86:     costPrice: 15.00,
 87:     sellingPrice: 29.99,
 88:     stock: 8,
 89:     safetyStock: 15,
 90:   },
 91: ];
 92: 
 93: // Mock inventory data - this would normally be in a database
 94: const mockInventory = [
 95:   { warehouseId: "1", productId: "1", quantity: 70 }, // Main Store - Cotton T-Shirt
 96:   { warehouseId: "1", productId: "2", quantity: 60 }, // Main Store - Slim Fit Jeans
 97:   { warehouseId: "1", productId: "3", quantity: 30 }, // Main Store - Summer Dress
 98:   { warehouseId: "1", productId: "4", quantity: 40 }, // Main Store - Leather Belt
 99:   { warehouseId: "1", productId: "5", quantity: 5 },  // Main Store - Polo Shirt
100:   
101:   { warehouseId: "2", productId: "1", quantity: 30 }, // Downtown Branch - Cotton T-Shirt
102:   { warehouseId: "2", productId: "2", quantity: 15 }, // Downtown Branch - Slim Fit Jeans
103:   { warehouseId: "2", productId: "3", quantity: 10 }, // Downtown Branch - Summer Dress
104:   { warehouseId: "2", productId: "4", quantity: 15 }, // Downtown Branch - Leather Belt
105:   { warehouseId: "2", productId: "5", quantity: 3 },  // Downtown Branch - Polo Shirt
106:   
107:   { warehouseId: "3", productId: "1", quantity: 20 }, // Mall Outlet - Cotton T-Shirt
108:   { warehouseId: "3", productId: "2", quantity: 10 }, // Mall Outlet - Slim Fit Jeans
109:   { warehouseId: "3", productId: "3", quantity: 2 },  // Mall Outlet - Summer Dress
110:   { warehouseId: "3", productId: "4", quantity: 10 }, // Mall Outlet - Leather Belt
111:   { warehouseId: "3", productId: "5", quantity: 0 },  // Mall Outlet - Polo Shirt
112:   
113:   { warehouseId: "4", productId: "1", quantity: 100 }, // Distribution Center - Cotton T-Shirt
114:   { warehouseId: "4", productId: "2", quantity: 80 },  // Distribution Center - Slim Fit Jeans
115:   { warehouseId: "4", productId: "3", quantity: 50 },  // Distribution Center - Summer Dress
116:   { warehouseId: "4", productId: "4", quantity: 60 },  // Distribution Center - Leather Belt
117:   { warehouseId: "4", productId: "5", quantity: 40 },  // Distribution Center - Polo Shirt
118: ];
119: 
120: // Create a global variable to store the updated inventory if it doesn't exist
121: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedInventory')) {
122:   window.updatedInventory = [...mockInventory];
123: }
124: 
125: interface ProductTransferSelectorProps {
126:   onProductsSelected: (products: any[]) => void;
127:   existingItems?: any[];
128:   sourceWarehouseId?: string;
129: }
130: 
131: export function ProductTransferSelector({ 
132:   onProductsSelected, 
133:   existingItems = [],
134:   sourceWarehouseId = ""
135: }: ProductTransferSelectorProps) {
136:   const [isOpen, setIsOpen] = useState(false);
137:   const [searchTerm, setSearchTerm] = useState("");
138:   const [products, setProducts] = useState<any[]>([]);
139:   const [selectedProducts, setSelectedProducts] = useState<Record<string, any>>({});
140:   const [quantities, setQuantities] = useState<Record<string, number>>({});
141:   const [warehouseInventory, setWarehouseInventory] = useState<Record<string, number>>({});
142: 
143:   // Load products from our mock database
144:   useEffect(() => {
145:     const loadProducts = () => {
146:       const productsData = typeof window !== 'undefined' && window.updatedProducts 
147:         ? window.updatedProducts 
148:         : mockProducts;
149:       setProducts(productsData);
150:     };
151:     
152:     loadProducts();
153:   }, []);
154: 
155:   // Load inventory for the selected warehouse
156:   useEffect(() => {
157:     if (sourceWarehouseId) {
158:       const loadInventory = () => {
159:         const inventoryData = typeof window !== 'undefined' && window.updatedInventory
160:           ? window.updatedInventory
161:           : mockInventory;
162:         
163:         // Filter inventory for the selected warehouse
164:         const warehouseItems = inventoryData.filter(item => item.warehouseId === sourceWarehouseId);
165:         
166:         // Create a map of product ID to quantity
167:         const inventoryMap: Record<string, number> = {};
168:         warehouseItems.forEach(item => {
169:           inventoryMap[item.productId] = item.quantity;
170:         });
171:         
172:         setWarehouseInventory(inventoryMap);
173:       };
174:       
175:       loadInventory();
176:     }
177:   }, [sourceWarehouseId]);
178: 
179:   // Initialize with existing items if provided
180:   useEffect(() => {
181:     if (existingItems && existingItems.length > 0) {
182:       const selectedMap: Record<string, any> = {};
183:       const quantityMap: Record<string, number> = {};
184:       
185:       existingItems.forEach(item => {
186:         selectedMap[item.productId] = {
187:           id: item.productId,
188:           sku: item.sku,
189:           name: item.name,
190:         };
191:         quantityMap[item.productId] = item.quantity;
192:       });
193:       
194:       setSelectedProducts(selectedMap);
195:       setQuantities(quantityMap);
196:     }
197:   }, [existingItems]);
198: 
199:   const filteredProducts = products.filter(product => 
200:     (product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
201:     product.sku.toLowerCase().includes(searchTerm.toLowerCase()) ||
202:     product.category.toLowerCase().includes(searchTerm.toLowerCase())) &&
203:     // Only show products that have inventory in the source warehouse
204:     (warehouseInventory[product.id] > 0)
205:   );
206: 
207:   const handleProductSelect = (product: any) => {
208:     setSelectedProducts(prev => {
209:       const newSelected = { ...prev };
210:       
211:       if (newSelected[product.id]) {
212:         delete newSelected[product.id];
213:       } else {
214:         newSelected[product.id] = {
215:           id: product.id,
216:           sku: product.sku,
217:           name: product.name,
218:         };
219:         
220:         // Initialize quantity if not already set
221:         if (!quantities[product.id]) {
222:           setQuantities(prev => ({
223:             ...prev,
224:             [product.id]: 1
225:           }));
226:         }
227:       }
228:       
229:       return newSelected;
230:     });
231:   };
232: 
233:   const handleQuantityChange = (productId: string, value: number) => {
234:     if (value < 1) value = 1;
235:     
236:     // Don't allow more than available inventory
237:     const maxAvailable = warehouseInventory[productId] || 0;
238:     if (value > maxAvailable) value = maxAvailable;
239:     
240:     setQuantities(prev => ({
241:       ...prev,
242:       [productId]: value
243:     }));
244:   };
245: 
246:   const handleConfirm = () => {
247:     const selectedItems = Object.keys(selectedProducts).map(productId => {
248:       const product = selectedProducts[productId];
249:       return {
250:         id: `item-${Date.now()}-${productId}`, // Generate a unique ID for the item
251:         productId: product.id,
252:         sku: product.sku,
253:         name: product.name,
254:         quantity: quantities[productId] || 1,
255:       };
256:     });
257:     
258:     onProductsSelected(selectedItems);
259:     setIsOpen(false);
260:   };
261: 
262:   const isProductSelected = (productId: string) => {
263:     return !!selectedProducts[productId];
264:   };
265: 
266:   const getAvailableQuantity = (productId: string) => {
267:     return warehouseInventory[productId] || 0;
268:   };
269: 
270:   return (
271:     <Dialog open={isOpen} onOpenChange={setIsOpen}>
272:       <DialogTrigger asChild>
273:         <Button disabled={!sourceWarehouseId}>
274:           <Plus className="mr-2 h-4 w-4" />
275:           Add Products
276:         </Button>
277:       </DialogTrigger>
278:       <DialogContent className="sm:max-w-[900px]">
279:         <DialogHeader>
280:           <DialogTitle>Select Products to Transfer</DialogTitle>
281:           <DialogDescription>
282:             Select products from the source warehouse to transfer
283:           </DialogDescription>
284:         </DialogHeader>
285:         
286:         {!sourceWarehouseId ? (
287:           <Alert>
288:             <AlertDescription>
289:               Please select a source warehouse first to see available products.
290:             </AlertDescription>
291:           </Alert>
292:         ) : (
293:           <>
294:             <div className="flex items-center space-x-2 py-4">
295:               <Search className="h-5 w-5 text-muted-foreground" />
296:               <Input
297:                 placeholder="Search by name, SKU, or category..."
298:                 value={searchTerm}
299:                 onChange={(e) => setSearchTerm(e.target.value)}
300:                 className="flex-1"
301:               />
302:             </div>
303:             
304:             <div className="grid grid-cols-1 gap-4">
305:               <ScrollArea className="h-[300px]">
306:                 <Table>
307:                   <TableHeader>
308:                     <TableRow>
309:                       <TableHead className="w-[50px]"></TableHead>
310:                       <TableHead>SKU</TableHead>
311:                       <TableHead>Name</TableHead>
312:                       <TableHead>Category</TableHead>
313:                       <TableHead className="text-right">Available</TableHead>
314:                     </TableRow>
315:                   </TableHeader>
316:                   <TableBody>
317:                     {filteredProducts.map((product) => (
318:                       <TableRow 
319:                         key={product.id} 
320:                         className={isProductSelected(product.id) ? "bg-muted/50" : ""}
321:                         onClick={() => handleProductSelect(product)}
322:                       >
323:                         <TableCell>
324:                           <Checkbox 
325:                             checked={isProductSelected(product.id)}
326:                             onCheckedChange={() => handleProductSelect(product)}
327:                           />
328:                         </TableCell>
329:                         <TableCell className="font-medium">{product.sku}</TableCell>
330:                         <TableCell>{product.name}</TableCell>
331:                         <TableCell>{product.category}</TableCell>
332:                         <TableCell className="text-right">{getAvailableQuantity(product.id)}</TableCell>
333:                       </TableRow>
334:                     ))}
335:                     {filteredProducts.length === 0 && (
336:                       <TableRow>
337:                         <TableCell colSpan={5} className="text-center py-4 text-muted-foreground">
338:                           {searchTerm ? 
339:                             "No products found matching your search" : 
340:                             "No products available in the selected warehouse"}
341:                         </TableCell>
342:                       </TableRow>
343:                     )}
344:                   </TableBody>
345:                 </Table>
346:               </ScrollArea>
347:               
348:               {Object.keys(selectedProducts).length > 0 && (
349:                 <div className="mt-4">
350:                   <h3 className="text-lg font-medium mb-2">Selected Products</h3>
351:                   <Table>
352:                     <TableHeader>
353:                       <TableRow>
354:                         <TableHead>Product</TableHead>
355:                         <TableHead className="text-right">Quantity</TableHead>
356:                         <TableHead className="text-right">Available</TableHead>
357:                         <TableHead className="w-[50px]"></TableHead>
358:                       </TableRow>
359:                     </TableHeader>
360:                     <TableBody>
361:                       {Object.keys(selectedProducts).map((productId) => {
362:                         const product = selectedProducts[productId];
363:                         const quantity = quantities[productId] || 1;
364:                         const available = getAvailableQuantity(productId);
365:                         
366:                         return (
367:                           <TableRow key={productId}>
368:                             <TableCell>
369:                               <div>
370:                                 <p className="font-medium">{product.name}</p>
371:                                 <p className="text-sm text-muted-foreground">{product.sku}</p>
372:                               </div>
373:                             </TableCell>
374:                             <TableCell className="text-right">
375:                               <div className="flex items-center justify-end space-x-2">
376:                                 <Button 
377:                                   variant="outline" 
378:                                   size="icon" 
379:                                   className="h-8 w-8"
380:                                   onClick={(e) => {
381:                                     e.stopPropagation();
382:                                     handleQuantityChange(productId, (quantities[productId] || 1) - 1);
383:                                   }}
384:                                 >
385:                                   <Minus className="h-4 w-4" />
386:                                 </Button>
387:                                 <Input
388:                                   type="number"
389:                                   min="1"
390:                                   max={available}
391:                                   value={quantity}
392:                                   onChange={(e) => handleQuantityChange(productId, parseInt(e.target.value) || 1)}
393:                                   className="w-16 text-right"
394:                                   onClick={(e) => e.stopPropagation()}
395:                                 />
396:                                 <Button 
397:                                   variant="outline" 
398:                                   size="icon" 
399:                                   className="h-8 w-8"
400:                                   onClick={(e) => {
401:                                     e.stopPropagation();
402:                                     handleQuantityChange(productId, (quantities[productId] || 1) + 1);
403:                                   }}
404:                                 >
405:                                   <Plus className="h-4 w-4" />
406:                                 </Button>
407:                               </div>
408:                             </TableCell>
409:                             <TableCell className="text-right">
410:                               {available}
411:                             </TableCell>
412:                             <TableCell>
413:                               <Button 
414:                                 variant="ghost" 
415:                                 size="icon" 
416:                                 onClick={(e) => {
417:                                   e.stopPropagation();
418:                                   handleProductSelect(product);
419:                                 }}
420:                               >
421:                                 <X className="h-4 w-4" />
422:                               </Button>
423:                             </TableCell>
424:                           </TableRow>
425:                         );
426:                       })}
427:                     </TableBody>
428:                   </Table>
429:                 </div>
430:               )}
431:             </div>
432:           </>
433:         )}
434:         
435:         <DialogFooter>
436:           <Button variant="outline" onClick={() => setIsOpen(false)}>
437:             Cancel
438:           </Button>
439:           <Button 
440:             onClick={handleConfirm} 
441:             disabled={Object.keys(selectedProducts).length === 0 || !sourceWarehouseId}
442:           >
443:             Add {Object.keys(selectedProducts).length} Products
444:           </Button>
445:         </DialogFooter>
446:       </DialogContent>
447:     </Dialog>
448:   );
449: }
```

## components\ui\accordion.tsx

- Characters: 2235
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import * as AccordionPrimitive from '@radix-ui/react-accordion';
 5: import { ChevronDown } from 'lucide-react';
 6: 
 7: import { cn } from '@/lib/utils';
 8: 
 9: const Accordion = AccordionPrimitive.Root;
10: 
11: const AccordionItem = React.forwardRef<
12:   React.ElementRef<typeof AccordionPrimitive.Item>,
13:   React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>
14: >(({ className, ...props }, ref) => (
15:   <AccordionPrimitive.Item
16:     ref={ref}
17:     className={cn('border-b', className)}
18:     {...props}
19:   />
20: ));
21: AccordionItem.displayName = 'AccordionItem';
22: 
23: const AccordionTrigger = React.forwardRef<
24:   React.ElementRef<typeof AccordionPrimitive.Trigger>,
25:   React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>
26: >(({ className, children, ...props }, ref) => (
27:   <AccordionPrimitive.Header className="flex">
28:     <AccordionPrimitive.Trigger
29:       ref={ref}
30:       className={cn(
31:         'flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180',
32:         className
33:       )}
34:       {...props}
35:     >
36:       {children}
37:       <ChevronDown className="h-4 w-4 shrink-0 transition-transform duration-200" />
38:     </AccordionPrimitive.Trigger>
39:   </AccordionPrimitive.Header>
40: ));
41: AccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName;
42: 
43: const AccordionContent = React.forwardRef<
44:   React.ElementRef<typeof AccordionPrimitive.Content>,
45:   React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>
46: >(({ className, children, ...props }, ref) => (
47:   <AccordionPrimitive.Content
48:     ref={ref}
49:     className="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"
50:     {...props}
51:   >
52:     <div className={cn('pb-4 pt-0', className)}>{children}</div>
53:   </AccordionPrimitive.Content>
54: ));
55: 
56: AccordionContent.displayName = AccordionPrimitive.Content.displayName;
57: 
58: export { Accordion, AccordionItem, AccordionTrigger, AccordionContent };
```

## components\ui\alert-dialog.tsx

- Characters: 5137
- Tokens: 0

```text
  1: "use client"
  2: 
  3: import * as React from "react"
  4: import * as AlertDialogPrimitive from "@radix-ui/react-alert-dialog"
  5: 
  6: import { cn } from "@/lib/utils"
  7: import { buttonVariants } from "@/components/ui/button"
  8: 
  9: const AlertDialog = AlertDialogPrimitive.Root
 10: 
 11: const AlertDialogTrigger = AlertDialogPrimitive.Trigger
 12: 
 13: const AlertDialogPortal = AlertDialogPrimitive.Portal
 14: 
 15: const AlertDialogOverlay = React.forwardRef<
 16:   React.ElementRef<typeof AlertDialogPrimitive.Overlay>,
 17:   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>
 18: >(({ className, ...props }, ref) => (
 19:   <AlertDialogPrimitive.Overlay
 20:     className={cn(
 21:       "fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
 22:       className
 23:     )}
 24:     {...props}
 25:     ref={ref}
 26:   />
 27: ))
 28: AlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName
 29: 
 30: const AlertDialogContent = React.forwardRef<
 31:   React.ElementRef<typeof AlertDialogPrimitive.Content>,
 32:   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>
 33: >(({ className, ...props }, ref) => (
 34:   <AlertDialogPortal>
 35:     <AlertDialogOverlay />
 36:     <AlertDialogPrimitive.Content
 37:       ref={ref}
 38:       className={cn(
 39:         "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
 40:         className
 41:       )}
 42:       {...props}
 43:     />
 44:   </AlertDialogPortal>
 45: ))
 46: AlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName
 47: 
 48: const AlertDialogHeader = ({
 49:   className,
 50:   ...props
 51: }: React.HTMLAttributes<HTMLDivElement>) => (
 52:   <div
 53:     className={cn(
 54:       "flex flex-col space-y-2 text-center sm:text-left",
 55:       className
 56:     )}
 57:     {...props}
 58:   />
 59: )
 60: AlertDialogHeader.displayName = "AlertDialogHeader"
 61: 
 62: const AlertDialogFooter = ({
 63:   className,
 64:   ...props
 65: }: React.HTMLAttributes<HTMLDivElement>) => (
 66:   <div
 67:     className={cn(
 68:       "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
 69:       className
 70:     )}
 71:     {...props}
 72:   />
 73: )
 74: AlertDialogFooter.displayName = "AlertDialogFooter"
 75: 
 76: const AlertDialogTitle = React.forwardRef<
 77:   React.ElementRef<typeof AlertDialogPrimitive.Title>,
 78:   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>
 79: >(({ className, ...props }, ref) => (
 80:   <AlertDialogPrimitive.Title
 81:     ref={ref}
 82:     className={cn("text-lg font-semibold", className)}
 83:     {...props}
 84:   />
 85: ))
 86: AlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName
 87: 
 88: const AlertDialogDescription = React.forwardRef<
 89:   React.ElementRef<typeof AlertDialogPrimitive.Description>,
 90:   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>
 91: >(({ className, ...props }, ref) => (
 92:   <AlertDialogPrimitive.Description
 93:     ref={ref}
 94:     className={cn("text-sm text-muted-foreground", className)}
 95:     {...props}
 96:   />
 97: ))
 98: AlertDialogDescription.displayName =
 99:   AlertDialogPrimitive.Description.displayName
100: 
101: const AlertDialogAction = React.forwardRef<
102:   React.ElementRef<typeof AlertDialogPrimitive.Action>,
103:   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>
104: >(({ className, ...props }, ref) => (
105:   <AlertDialogPrimitive.Action
106:     ref={ref}
107:     className={cn(buttonVariants(), className)}
108:     {...props}
109:   />
110: ))
111: AlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName
112: 
113: const AlertDialogCancel = React.forwardRef<
114:   React.ElementRef<typeof AlertDialogPrimitive.Cancel>,
115:   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>
116: >(({ className, ...props }, ref) => (
117:   <AlertDialogPrimitive.Cancel
118:     ref={ref}
119:     className={cn(
120:       buttonVariants({ variant: "outline" }),
121:       "mt-2 sm:mt-0",
122:       className
123:     )}
124:     {...props}
125:   />
126: ))
127: AlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName
128: 
129: export {
130:   AlertDialog,
131:   AlertDialogPortal,
132:   AlertDialogOverlay,
133:   AlertDialogTrigger,
134:   AlertDialogContent,
135:   AlertDialogHeader,
136:   AlertDialogFooter,
137:   AlertDialogTitle,
138:   AlertDialogDescription,
139:   AlertDialogAction,
140:   AlertDialogCancel,
141: }
```

## components\ui\alert.tsx

- Characters: 1830
- Tokens: 0

```text
 1: import * as React from 'react';
 2: import { cva, type VariantProps } from 'class-variance-authority';
 3: 
 4: import { cn } from '@/lib/utils';
 5: 
 6: const alertVariants = cva(
 7:   'relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground',
 8:   {
 9:     variants: {
10:       variant: {
11:         default: 'bg-background text-foreground',
12:         destructive:
13:           'border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive',
14:       },
15:     },
16:     defaultVariants: {
17:       variant: 'default',
18:     },
19:   }
20: );
21: 
22: const Alert = React.forwardRef<
23:   HTMLDivElement,
24:   React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>
25: >(({ className, variant, ...props }, ref) => (
26:   <div
27:     ref={ref}
28:     role="alert"
29:     className={cn(alertVariants({ variant }), className)}
30:     {...props}
31:   />
32: ));
33: Alert.displayName = 'Alert';
34: 
35: const AlertTitle = React.forwardRef<
36:   HTMLParagraphElement,
37:   React.HTMLAttributes<HTMLHeadingElement>
38: >(({ className, ...props }, ref) => (
39:   <h5
40:     ref={ref}
41:     className={cn('mb-1 font-medium leading-none tracking-tight', className)}
42:     {...props}
43:   />
44: ));
45: AlertTitle.displayName = 'AlertTitle';
46: 
47: const AlertDescription = React.forwardRef<
48:   HTMLParagraphElement,
49:   React.HTMLAttributes<HTMLParagraphElement>
50: >(({ className, ...props }, ref) => (
51:   <div
52:     ref={ref}
53:     className={cn('text-sm [&_p]:leading-relaxed', className)}
54:     {...props}
55:   />
56: ));
57: AlertDescription.displayName = 'AlertDescription';
58: 
59: export { Alert, AlertTitle, AlertDescription };
```

## components\ui\aspect-ratio.tsx

- Characters: 178
- Tokens: 0

```text
1: 'use client';
2: 
3: import * as AspectRatioPrimitive from '@radix-ui/react-aspect-ratio';
4: 
5: const AspectRatio = AspectRatioPrimitive.Root;
6: 
7: export { AspectRatio };
```

## components\ui\avatar.tsx

- Characters: 1629
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import * as AvatarPrimitive from '@radix-ui/react-avatar';
 5: 
 6: import { cn } from '@/lib/utils';
 7: 
 8: const Avatar = React.forwardRef<
 9:   React.ElementRef<typeof AvatarPrimitive.Root>,
10:   React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>
11: >(({ className, ...props }, ref) => (
12:   <AvatarPrimitive.Root
13:     ref={ref}
14:     className={cn(
15:       'relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full',
16:       className
17:     )}
18:     {...props}
19:   />
20: ));
21: Avatar.displayName = AvatarPrimitive.Root.displayName;
22: 
23: const AvatarImage = React.forwardRef<
24:   React.ElementRef<typeof AvatarPrimitive.Image>,
25:   React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>
26: >(({ className, ...props }, ref) => (
27:   <AvatarPrimitive.Image
28:     ref={ref}
29:     className={cn('aspect-square h-full w-full', className)}
30:     {...props}
31:   />
32: ));
33: AvatarImage.displayName = AvatarPrimitive.Image.displayName;
34: 
35: const AvatarFallback = React.forwardRef<
36:   React.ElementRef<typeof AvatarPrimitive.Fallback>,
37:   React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>
38: >(({ className, ...props }, ref) => (
39:   <AvatarPrimitive.Fallback
40:     ref={ref}
41:     className={cn(
42:       'flex h-full w-full items-center justify-center rounded-full bg-muted',
43:       className
44:     )}
45:     {...props}
46:   />
47: ));
48: AvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;
49: 
50: export { Avatar, AvatarImage, AvatarFallback };
```

## components\ui\badge.tsx

- Characters: 1277
- Tokens: 0

```text
 1: import * as React from 'react';
 2: import { cva, type VariantProps } from 'class-variance-authority';
 3: 
 4: import { cn } from '@/lib/utils';
 5: 
 6: const badgeVariants = cva(
 7:   'inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',
 8:   {
 9:     variants: {
10:       variant: {
11:         default:
12:           'border-transparent bg-primary text-primary-foreground hover:bg-primary/80',
13:         secondary:
14:           'border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80',
15:         destructive:
16:           'border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80',
17:         outline: 'text-foreground',
18:       },
19:     },
20:     defaultVariants: {
21:       variant: 'default',
22:     },
23:   }
24: );
25: 
26: export interface BadgeProps
27:   extends React.HTMLAttributes<HTMLDivElement>,
28:     VariantProps<typeof badgeVariants> {}
29: 
30: function Badge({ className, variant, ...props }: BadgeProps) {
31:   return (
32:     <div className={cn(badgeVariants({ variant }), className)} {...props} />
33:   );
34: }
35: 
36: export { Badge, badgeVariants };
```

## components\ui\breadcrumb.tsx

- Characters: 3298
- Tokens: 0

```text
  1: import * as React from 'react';
  2: import { Slot } from '@radix-ui/react-slot';
  3: import { ChevronRight, MoreHorizontal } from 'lucide-react';
  4: 
  5: import { cn } from '@/lib/utils';
  6: 
  7: const Breadcrumb = React.forwardRef<
  8:   HTMLElement,
  9:   React.ComponentPropsWithoutRef<'nav'> & {
 10:     separator?: React.ReactNode;
 11:   }
 12: >(({ ...props }, ref) => <nav ref={ref} aria-label="breadcrumb" {...props} />);
 13: Breadcrumb.displayName = 'Breadcrumb';
 14: 
 15: const BreadcrumbList = React.forwardRef<
 16:   HTMLOListElement,
 17:   React.ComponentPropsWithoutRef<'ol'>
 18: >(({ className, ...props }, ref) => (
 19:   <ol
 20:     ref={ref}
 21:     className={cn(
 22:       'flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5',
 23:       className
 24:     )}
 25:     {...props}
 26:   />
 27: ));
 28: BreadcrumbList.displayName = 'BreadcrumbList';
 29: 
 30: const BreadcrumbItem = React.forwardRef<
 31:   HTMLLIElement,
 32:   React.ComponentPropsWithoutRef<'li'>
 33: >(({ className, ...props }, ref) => (
 34:   <li
 35:     ref={ref}
 36:     className={cn('inline-flex items-center gap-1.5', className)}
 37:     {...props}
 38:   />
 39: ));
 40: BreadcrumbItem.displayName = 'BreadcrumbItem';
 41: 
 42: const BreadcrumbLink = React.forwardRef<
 43:   HTMLAnchorElement,
 44:   React.ComponentPropsWithoutRef<'a'> & {
 45:     asChild?: boolean;
 46:   }
 47: >(({ asChild, className, ...props }, ref) => {
 48:   const Comp = asChild ? Slot : 'a';
 49: 
 50:   return (
 51:     <Comp
 52:       ref={ref}
 53:       className={cn('transition-colors hover:text-foreground', className)}
 54:       {...props}
 55:     />
 56:   );
 57: });
 58: BreadcrumbLink.displayName = 'BreadcrumbLink';
 59: 
 60: const BreadcrumbPage = React.forwardRef<
 61:   HTMLSpanElement,
 62:   React.ComponentPropsWithoutRef<'span'>
 63: >(({ className, ...props }, ref) => (
 64:   <span
 65:     ref={ref}
 66:     role="link"
 67:     aria-disabled="true"
 68:     aria-current="page"
 69:     className={cn('font-normal text-foreground', className)}
 70:     {...props}
 71:   />
 72: ));
 73: BreadcrumbPage.displayName = 'BreadcrumbPage';
 74: 
 75: const BreadcrumbSeparator = ({
 76:   children,
 77:   className,
 78:   ...props
 79: }: React.ComponentProps<'li'>) => (
 80:   <li
 81:     role="presentation"
 82:     aria-hidden="true"
 83:     className={cn('[&>svg]:size-3.5', className)}
 84:     {...props}
 85:   >
 86:     {children ?? <ChevronRight />}
 87:   </li>
 88: );
 89: BreadcrumbSeparator.displayName = 'BreadcrumbSeparator';
 90: 
 91: const BreadcrumbEllipsis = ({
 92:   className,
 93:   ...props
 94: }: React.ComponentProps<'span'>) => (
 95:   <span
 96:     role="presentation"
 97:     aria-hidden="true"
 98:     className={cn('flex h-9 w-9 items-center justify-center', className)}
 99:     {...props}
100:   >
101:     <MoreHorizontal className="h-4 w-4" />
102:     <span className="sr-only">More</span>
103:   </span>
104: );
105: BreadcrumbEllipsis.displayName = 'BreadcrumbElipssis';
106: 
107: export {
108:   Breadcrumb,
109:   BreadcrumbList,
110:   BreadcrumbItem,
111:   BreadcrumbLink,
112:   BreadcrumbPage,
113:   BreadcrumbSeparator,
114:   BreadcrumbEllipsis,
115: };
```

## components\ui\button.tsx

- Characters: 2069
- Tokens: 0

```text
 1: import * as React from 'react';
 2: import { Slot } from '@radix-ui/react-slot';
 3: import { cva, type VariantProps } from 'class-variance-authority';
 4: 
 5: import { cn } from '@/lib/utils';
 6: 
 7: const buttonVariants = cva(
 8:   'inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',
 9:   {
10:     variants: {
11:       variant: {
12:         default: 'bg-primary text-primary-foreground hover:bg-primary/90',
13:         destructive:
14:           'bg-destructive text-destructive-foreground hover:bg-destructive/90',
15:         outline:
16:           'border border-input bg-background hover:bg-accent hover:text-accent-foreground',
17:         secondary:
18:           'bg-secondary text-secondary-foreground hover:bg-secondary/80',
19:         ghost: 'hover:bg-accent hover:text-accent-foreground',
20:         link: 'text-primary underline-offset-4 hover:underline',
21:       },
22:       size: {
23:         default: 'h-10 px-4 py-2',
24:         sm: 'h-9 rounded-md px-3',
25:         lg: 'h-11 rounded-md px-8',
26:         icon: 'h-10 w-10',
27:       },
28:     },
29:     defaultVariants: {
30:       variant: 'default',
31:       size: 'default',
32:     },
33:   }
34: );
35: 
36: export interface ButtonProps
37:   extends React.ButtonHTMLAttributes<HTMLButtonElement>,
38:     VariantProps<typeof buttonVariants> {
39:   asChild?: boolean;
40: }
41: 
42: const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
43:   ({ className, variant, size, asChild = false, ...props }, ref) => {
44:     const Comp = asChild ? Slot : 'button';
45:     return (
46:       <Comp
47:         className={cn(buttonVariants({ variant, size, className }))}
48:         ref={ref}
49:         {...props}
50:       />
51:     );
52:   }
53: );
54: Button.displayName = 'Button';
55: 
56: export { Button, buttonVariants };
```

## components\ui\calendar.tsx

- Characters: 2896
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import { ChevronLeft, ChevronRight } from 'lucide-react';
 5: import { DayPicker } from 'react-day-picker';
 6: 
 7: import { cn } from '@/lib/utils';
 8: import { buttonVariants } from '@/components/ui/button';
 9: 
10: export type CalendarProps = React.ComponentProps<typeof DayPicker>;
11: 
12: function Calendar({
13:   className,
14:   classNames,
15:   showOutsideDays = true,
16:   ...props
17: }: CalendarProps) {
18:   return (
19:     <DayPicker
20:       showOutsideDays={showOutsideDays}
21:       className={cn('p-3', className)}
22:       classNames={{
23:         months: 'flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0',
24:         month: 'space-y-4',
25:         caption: 'flex justify-center pt-1 relative items-center',
26:         caption_label: 'text-sm font-medium',
27:         nav: 'space-x-1 flex items-center',
28:         nav_button: cn(
29:           buttonVariants({ variant: 'outline' }),
30:           'h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100'
31:         ),
32:         nav_button_previous: 'absolute left-1',
33:         nav_button_next: 'absolute right-1',
34:         table: 'w-full border-collapse space-y-1',
35:         head_row: 'flex',
36:         head_cell:
37:           'text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]',
38:         row: 'flex w-full mt-2',
39:         cell: 'h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20',
40:         day: cn(
41:           buttonVariants({ variant: 'ghost' }),
42:           'h-9 w-9 p-0 font-normal aria-selected:opacity-100'
43:         ),
44:         day_range_end: 'day-range-end',
45:         day_selected:
46:           'bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground',
47:         day_today: 'bg-accent text-accent-foreground',
48:         day_outside:
49:           'day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30',
50:         day_disabled: 'text-muted-foreground opacity-50',
51:         day_range_middle:
52:           'aria-selected:bg-accent aria-selected:text-accent-foreground',
53:         day_hidden: 'invisible',
54:         ...classNames,
55:       }}
56:       components={{
57:         IconLeft: ({ ...props }) => <ChevronLeft className="h-4 w-4" />,
58:         IconRight: ({ ...props }) => <ChevronRight className="h-4 w-4" />,
59:       }}
60:       {...props}
61:     />
62:   );
63: }
64: Calendar.displayName = 'Calendar';
65: 
66: export { Calendar };
```

## components\ui\card.tsx

- Characters: 2248
- Tokens: 0

```text
 1: import * as React from 'react';
 2: 
 3: import { cn } from '@/lib/utils';
 4: 
 5: const Card = React.forwardRef<
 6:   HTMLDivElement,
 7:   React.HTMLAttributes<HTMLDivElement>
 8: >(({ className, ...props }, ref) => (
 9:   <div
10:     ref={ref}
11:     className={cn(
12:       'rounded-lg border bg-card text-card-foreground shadow-sm',
13:       className
14:     )}
15:     {...props}
16:   />
17: ));
18: Card.displayName = 'Card';
19: 
20: const CardHeader = React.forwardRef<
21:   HTMLDivElement,
22:   React.HTMLAttributes<HTMLDivElement>
23: >(({ className, ...props }, ref) => (
24:   <div
25:     ref={ref}
26:     className={cn('flex flex-col space-y-1.5 p-6', className)}
27:     {...props}
28:   />
29: ));
30: CardHeader.displayName = 'CardHeader';
31: 
32: const CardTitle = React.forwardRef<
33:   HTMLParagraphElement,
34:   React.HTMLAttributes<HTMLHeadingElement>
35: >(({ className, ...props }, ref) => (
36:   <h3
37:     ref={ref}
38:     className={cn(
39:       'text-2xl font-semibold leading-none tracking-tight',
40:       className
41:     )}
42:     {...props}
43:   />
44: ));
45: CardTitle.displayName = 'CardTitle';
46: 
47: const CardDescription = React.forwardRef<
48:   HTMLParagraphElement,
49:   React.HTMLAttributes<HTMLParagraphElement>
50: >(({ className, ...props }, ref) => (
51:   <p
52:     ref={ref}
53:     className={cn('text-sm text-muted-foreground', className)}
54:     {...props}
55:   />
56: ));
57: CardDescription.displayName = 'CardDescription';
58: 
59: const CardContent = React.forwardRef<
60:   HTMLDivElement,
61:   React.HTMLAttributes<HTMLDivElement>
62: >(({ className, ...props }, ref) => (
63:   <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />
64: ));
65: CardContent.displayName = 'CardContent';
66: 
67: const CardFooter = React.forwardRef<
68:   HTMLDivElement,
69:   React.HTMLAttributes<HTMLDivElement>
70: >(({ className, ...props }, ref) => (
71:   <div
72:     ref={ref}
73:     className={cn('flex items-center p-6 pt-0', className)}
74:     {...props}
75:   />
76: ));
77: CardFooter.displayName = 'CardFooter';
78: 
79: export {
80:   Card,
81:   CardHeader,
82:   CardFooter,
83:   CardTitle,
84:   CardDescription,
85:   CardContent,
86: };
```

## components\ui\carousel.tsx

- Characters: 7605
- Tokens: 0

```text
  1: 'use client';
  2: 
  3: import * as React from 'react';
  4: import useEmblaCarousel, {
  5:   type UseEmblaCarouselType,
  6: } from 'embla-carousel-react';
  7: import { ArrowLeft, ArrowRight } from 'lucide-react';
  8: 
  9: import { cn } from '@/lib/utils';
 10: import { Button } from '@/components/ui/button';
 11: 
 12: type CarouselApi = UseEmblaCarouselType[1];
 13: type UseCarouselParameters = Parameters<typeof useEmblaCarousel>;
 14: type CarouselOptions = UseCarouselParameters[0];
 15: type CarouselPlugin = UseCarouselParameters[1];
 16: 
 17: type CarouselProps = {
 18:   opts?: CarouselOptions;
 19:   plugins?: CarouselPlugin;
 20:   orientation?: 'horizontal' | 'vertical';
 21:   setApi?: (api: CarouselApi) => void;
 22: };
 23: 
 24: type CarouselContextProps = {
 25:   carouselRef: ReturnType<typeof useEmblaCarousel>[0];
 26:   api: ReturnType<typeof useEmblaCarousel>[1];
 27:   scrollPrev: () => void;
 28:   scrollNext: () => void;
 29:   canScrollPrev: boolean;
 30:   canScrollNext: boolean;
 31: } & CarouselProps;
 32: 
 33: const CarouselContext = React.createContext<CarouselContextProps | null>(null);
 34: 
 35: function useCarousel() {
 36:   const context = React.useContext(CarouselContext);
 37: 
 38:   if (!context) {
 39:     throw new Error('useCarousel must be used within a <Carousel />');
 40:   }
 41: 
 42:   return context;
 43: }
 44: 
 45: const Carousel = React.forwardRef<
 46:   HTMLDivElement,
 47:   React.HTMLAttributes<HTMLDivElement> & CarouselProps
 48: >(
 49:   (
 50:     {
 51:       orientation = 'horizontal',
 52:       opts,
 53:       setApi,
 54:       plugins,
 55:       className,
 56:       children,
 57:       ...props
 58:     },
 59:     ref
 60:   ) => {
 61:     const [carouselRef, api] = useEmblaCarousel(
 62:       {
 63:         ...opts,
 64:         axis: orientation === 'horizontal' ? 'x' : 'y',
 65:       },
 66:       plugins
 67:     );
 68:     const [canScrollPrev, setCanScrollPrev] = React.useState(false);
 69:     const [canScrollNext, setCanScrollNext] = React.useState(false);
 70: 
 71:     const onSelect = React.useCallback((api: CarouselApi) => {
 72:       if (!api) {
 73:         return;
 74:       }
 75: 
 76:       setCanScrollPrev(api.canScrollPrev());
 77:       setCanScrollNext(api.canScrollNext());
 78:     }, []);
 79: 
 80:     const scrollPrev = React.useCallback(() => {
 81:       api?.scrollPrev();
 82:     }, [api]);
 83: 
 84:     const scrollNext = React.useCallback(() => {
 85:       api?.scrollNext();
 86:     }, [api]);
 87: 
 88:     const handleKeyDown = React.useCallback(
 89:       (event: React.KeyboardEvent<HTMLDivElement>) => {
 90:         if (event.key === 'ArrowLeft') {
 91:           event.preventDefault();
 92:           scrollPrev();
 93:         } else if (event.key === 'ArrowRight') {
 94:           event.preventDefault();
 95:           scrollNext();
 96:         }
 97:       },
 98:       [scrollPrev, scrollNext]
 99:     );
100: 
101:     React.useEffect(() => {
102:       if (!api || !setApi) {
103:         return;
104:       }
105: 
106:       setApi(api);
107:     }, [api, setApi]);
108: 
109:     React.useEffect(() => {
110:       if (!api) {
111:         return;
112:       }
113: 
114:       onSelect(api);
115:       api.on('reInit', onSelect);
116:       api.on('select', onSelect);
117: 
118:       return () => {
119:         api?.off('select', onSelect);
120:       };
121:     }, [api, onSelect]);
122: 
123:     return (
124:       <CarouselContext.Provider
125:         value={{
126:           carouselRef,
127:           api: api,
128:           opts,
129:           orientation:
130:             orientation || (opts?.axis === 'y' ? 'vertical' : 'horizontal'),
131:           scrollPrev,
132:           scrollNext,
133:           canScrollPrev,
134:           canScrollNext,
135:         }}
136:       >
137:         <div
138:           ref={ref}
139:           onKeyDownCapture={handleKeyDown}
140:           className={cn('relative', className)}
141:           role="region"
142:           aria-roledescription="carousel"
143:           {...props}
144:         >
145:           {children}
146:         </div>
147:       </CarouselContext.Provider>
148:     );
149:   }
150: );
151: Carousel.displayName = 'Carousel';
152: 
153: const CarouselContent = React.forwardRef<
154:   HTMLDivElement,
155:   React.HTMLAttributes<HTMLDivElement>
156: >(({ className, ...props }, ref) => {
157:   const { carouselRef, orientation } = useCarousel();
158: 
159:   return (
160:     <div ref={carouselRef} className="overflow-hidden">
161:       <div
162:         ref={ref}
163:         className={cn(
164:           'flex',
165:           orientation === 'horizontal' ? '-ml-4' : '-mt-4 flex-col',
166:           className
167:         )}
168:         {...props}
169:       />
170:     </div>
171:   );
172: });
173: CarouselContent.displayName = 'CarouselContent';
174: 
175: const CarouselItem = React.forwardRef<
176:   HTMLDivElement,
177:   React.HTMLAttributes<HTMLDivElement>
178: >(({ className, ...props }, ref) => {
179:   const { orientation } = useCarousel();
180: 
181:   return (
182:     <div
183:       ref={ref}
184:       role="group"
185:       aria-roledescription="slide"
186:       className={cn(
187:         'min-w-0 shrink-0 grow-0 basis-full',
188:         orientation === 'horizontal' ? 'pl-4' : 'pt-4',
189:         className
190:       )}
191:       {...props}
192:     />
193:   );
194: });
195: CarouselItem.displayName = 'CarouselItem';
196: 
197: const CarouselPrevious = React.forwardRef<
198:   HTMLButtonElement,
199:   React.ComponentProps<typeof Button>
200: >(({ className, variant = 'outline', size = 'icon', ...props }, ref) => {
201:   const { orientation, scrollPrev, canScrollPrev } = useCarousel();
202: 
203:   return (
204:     <Button
205:       ref={ref}
206:       variant={variant}
207:       size={size}
208:       className={cn(
209:         'absolute  h-8 w-8 rounded-full',
210:         orientation === 'horizontal'
211:           ? '-left-12 top-1/2 -translate-y-1/2'
212:           : '-top-12 left-1/2 -translate-x-1/2 rotate-90',
213:         className
214:       )}
215:       disabled={!canScrollPrev}
216:       onClick={scrollPrev}
217:       {...props}
218:     >
219:       <ArrowLeft className="h-4 w-4" />
220:       <span className="sr-only">Previous slide</span>
221:     </Button>
222:   );
223: });
224: CarouselPrevious.displayName = 'CarouselPrevious';
225: 
226: const CarouselNext = React.forwardRef<
227:   HTMLButtonElement,
228:   React.ComponentProps<typeof Button>
229: >(({ className, variant = 'outline', size = 'icon', ...props }, ref) => {
230:   const { orientation, scrollNext, canScrollNext } = useCarousel();
231: 
232:   return (
233:     <Button
234:       ref={ref}
235:       variant={variant}
236:       size={size}
237:       className={cn(
238:         'absolute h-8 w-8 rounded-full',
239:         orientation === 'horizontal'
240:           ? '-right-12 top-1/2 -translate-y-1/2'
241:           : '-bottom-12 left-1/2 -translate-x-1/2 rotate-90',
242:         className
243:       )}
244:       disabled={!canScrollNext}
245:       onClick={scrollNext}
246:       {...props}
247:     >
248:       <ArrowRight className="h-4 w-4" />
249:       <span className="sr-only">Next slide</span>
250:     </Button>
251:   );
252: });
253: CarouselNext.displayName = 'CarouselNext';
254: 
255: export {
256:   type CarouselApi,
257:   Carousel,
258:   CarouselContent,
259:   CarouselItem,
260:   CarouselPrevious,
261:   CarouselNext,
262: };
```

## components\ui\chart.tsx

- Characters: 12375
- Tokens: 0

```text
  1: 'use client';
  2: 
  3: import * as React from 'react';
  4: import * as RechartsPrimitive from 'recharts';
  5: 
  6: import { cn } from '@/lib/utils';
  7: 
  8: // Format: { THEME_NAME: CSS_SELECTOR }
  9: const THEMES = { light: '', dark: '.dark' } as const;
 10: 
 11: export type ChartConfig = {
 12:   [k in string]: {
 13:     label?: React.ReactNode;
 14:     icon?: React.ComponentType;
 15:   } & (
 16:     | { color?: string; theme?: never }
 17:     | { color?: never; theme: Record<keyof typeof THEMES, string> }
 18:   );
 19: };
 20: 
 21: type ChartContextProps = {
 22:   config: ChartConfig;
 23: };
 24: 
 25: const ChartContext = React.createContext<ChartContextProps | null>(null);
 26: 
 27: function useChart() {
 28:   const context = React.useContext(ChartContext);
 29: 
 30:   if (!context) {
 31:     throw new Error('useChart must be used within a <ChartContainer />');
 32:   }
 33: 
 34:   return context;
 35: }
 36: 
 37: const ChartContainer = React.forwardRef<
 38:   HTMLDivElement,
 39:   React.ComponentProps<'div'> & {
 40:     config: ChartConfig;
 41:     children: React.ComponentProps<
 42:       typeof RechartsPrimitive.ResponsiveContainer
 43:     >['children'];
 44:   }
 45: >(({ id, className, children, config, ...props }, ref) => {
 46:   const uniqueId = React.useId();
 47:   const chartId = `chart-${id || uniqueId.replace(/:/g, '')}`;
 48: 
 49:   return (
 50:     <ChartContext.Provider value={{ config }}>
 51:       <div
 52:         data-chart={chartId}
 53:         ref={ref}
 54:         className={cn(
 55:           "flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",
 56:           className
 57:         )}
 58:         {...props}
 59:       >
 60:         <ChartStyle id={chartId} config={config} />
 61:         <RechartsPrimitive.ResponsiveContainer>
 62:           {children}
 63:         </RechartsPrimitive.ResponsiveContainer>
 64:       </div>
 65:     </ChartContext.Provider>
 66:   );
 67: });
 68: ChartContainer.displayName = 'Chart';
 69: 
 70: const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {
 71:   const colorConfig = Object.entries(config).filter(
 72:     ([_, config]) => config.theme || config.color
 73:   );
 74: 
 75:   if (!colorConfig.length) {
 76:     return null;
 77:   }
 78: 
 79:   return (
 80:     <style
 81:       dangerouslySetInnerHTML={{
 82:         __html: Object.entries(THEMES)
 83:           .map(
 84:             ([theme, prefix]) => `
 85: ${prefix} [data-chart=${id}] {
 86: ${colorConfig
 87:   .map(([key, itemConfig]) => {
 88:     const color =
 89:       itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||
 90:       itemConfig.color;
 91:     return color ? `  --color-${key}: ${color};` : null;
 92:   })
 93:   .join('\n')}
 94: }
 95: `
 96:           )
 97:           .join('\n'),
 98:       }}
 99:     />
100:   );
101: };
102: 
103: const ChartTooltip = RechartsPrimitive.Tooltip;
104: 
105: const ChartTooltipContent = React.forwardRef<
106:   HTMLDivElement,
107:   React.ComponentProps<typeof RechartsPrimitive.Tooltip> &
108:     React.ComponentProps<'div'> & {
109:       hideLabel?: boolean;
110:       hideIndicator?: boolean;
111:       indicator?: 'line' | 'dot' | 'dashed';
112:       nameKey?: string;
113:       labelKey?: string;
114:     }
115: >(
116:   (
117:     {
118:       active,
119:       payload,
120:       className,
121:       indicator = 'dot',
122:       hideLabel = false,
123:       hideIndicator = false,
124:       label,
125:       labelFormatter,
126:       labelClassName,
127:       formatter,
128:       color,
129:       nameKey,
130:       labelKey,
131:     },
132:     ref
133:   ) => {
134:     const { config } = useChart();
135: 
136:     const tooltipLabel = React.useMemo(() => {
137:       if (hideLabel || !payload?.length) {
138:         return null;
139:       }
140: 
141:       const [item] = payload;
142:       const key = `${labelKey || item.dataKey || item.name || 'value'}`;
143:       const itemConfig = getPayloadConfigFromPayload(config, item, key);
144:       const value =
145:         !labelKey && typeof label === 'string'
146:           ? config[label as keyof typeof config]?.label || label
147:           : itemConfig?.label;
148: 
149:       if (labelFormatter) {
150:         return (
151:           <div className={cn('font-medium', labelClassName)}>
152:             {labelFormatter(value, payload)}
153:           </div>
154:         );
155:       }
156: 
157:       if (!value) {
158:         return null;
159:       }
160: 
161:       return <div className={cn('font-medium', labelClassName)}>{value}</div>;
162:     }, [
163:       label,
164:       labelFormatter,
165:       payload,
166:       hideLabel,
167:       labelClassName,
168:       config,
169:       labelKey,
170:     ]);
171: 
172:     if (!active || !payload?.length) {
173:       return null;
174:     }
175: 
176:     const nestLabel = payload.length === 1 && indicator !== 'dot';
177: 
178:     return (
179:       <div
180:         ref={ref}
181:         className={cn(
182:           'grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl',
183:           className
184:         )}
185:       >
186:         {!nestLabel ? tooltipLabel : null}
187:         <div className="grid gap-1.5">
188:           {payload.map((item, index) => {
189:             const key = `${nameKey || item.name || item.dataKey || 'value'}`;
190:             const itemConfig = getPayloadConfigFromPayload(config, item, key);
191:             const indicatorColor = color || item.payload.fill || item.color;
192: 
193:             return (
194:               <div
195:                 key={item.dataKey}
196:                 className={cn(
197:                   'flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground',
198:                   indicator === 'dot' && 'items-center'
199:                 )}
200:               >
201:                 {formatter && item?.value !== undefined && item.name ? (
202:                   formatter(item.value, item.name, item, index, item.payload)
203:                 ) : (
204:                   <>
205:                     {itemConfig?.icon ? (
206:                       <itemConfig.icon />
207:                     ) : (
208:                       !hideIndicator && (
209:                         <div
210:                           className={cn(
211:                             'shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]',
212:                             {
213:                               'h-2.5 w-2.5': indicator === 'dot',
214:                               'w-1': indicator === 'line',
215:                               'w-0 border-[1.5px] border-dashed bg-transparent':
216:                                 indicator === 'dashed',
217:                               'my-0.5': nestLabel && indicator === 'dashed',
218:                             }
219:                           )}
220:                           style={
221:                             {
222:                               '--color-bg': indicatorColor,
223:                               '--color-border': indicatorColor,
224:                             } as React.CSSProperties
225:                           }
226:                         />
227:                       )
228:                     )}
229:                     <div
230:                       className={cn(
231:                         'flex flex-1 justify-between leading-none',
232:                         nestLabel ? 'items-end' : 'items-center'
233:                       )}
234:                     >
235:                       <div className="grid gap-1.5">
236:                         {nestLabel ? tooltipLabel : null}
237:                         <span className="text-muted-foreground">
238:                           {itemConfig?.label || item.name}
239:                         </span>
240:                       </div>
241:                       {item.value && (
242:                         <span className="font-mono font-medium tabular-nums text-foreground">
243:                           {item.value.toLocaleString()}
244:                         </span>
245:                       )}
246:                     </div>
247:                   </>
248:                 )}
249:               </div>
250:             );
251:           })}
252:         </div>
253:       </div>
254:     );
255:   }
256: );
257: ChartTooltipContent.displayName = 'ChartTooltip';
258: 
259: const ChartLegend = RechartsPrimitive.Legend;
260: 
261: const ChartLegendContent = React.forwardRef<
262:   HTMLDivElement,
263:   React.ComponentProps<'div'> &
264:     Pick<RechartsPrimitive.LegendProps, 'payload' | 'verticalAlign'> & {
265:       hideIcon?: boolean;
266:       nameKey?: string;
267:     }
268: >(
269:   (
270:     { className, hideIcon = false, payload, verticalAlign = 'bottom', nameKey },
271:     ref
272:   ) => {
273:     const { config } = useChart();
274: 
275:     if (!payload?.length) {
276:       return null;
277:     }
278: 
279:     return (
280:       <div
281:         ref={ref}
282:         className={cn(
283:           'flex items-center justify-center gap-4',
284:           verticalAlign === 'top' ? 'pb-3' : 'pt-3',
285:           className
286:         )}
287:       >
288:         {payload.map((item) => {
289:           const key = `${nameKey || item.dataKey || 'value'}`;
290:           const itemConfig = getPayloadConfigFromPayload(config, item, key);
291: 
292:           return (
293:             <div
294:               key={item.value}
295:               className={cn(
296:                 'flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground'
297:               )}
298:             >
299:               {itemConfig?.icon && !hideIcon ? (
300:                 <itemConfig.icon />
301:               ) : (
302:                 <div
303:                   className="h-2 w-2 shrink-0 rounded-[2px]"
304:                   style={{
305:                     backgroundColor: item.color,
306:                   }}
307:                 />
308:               )}
309:               {itemConfig?.label}
310:             </div>
311:           );
312:         })}
313:       </div>
314:     );
315:   }
316: );
317: ChartLegendContent.displayName = 'ChartLegend';
318: 
319: // Helper to extract item config from a payload.
320: function getPayloadConfigFromPayload(
321:   config: ChartConfig,
322:   payload: unknown,
323:   key: string
324: ) {
325:   if (typeof payload !== 'object' || payload === null) {
326:     return undefined;
327:   }
328: 
329:   const payloadPayload =
330:     'payload' in payload &&
331:     typeof payload.payload === 'object' &&
332:     payload.payload !== null
333:       ? payload.payload
334:       : undefined;
335: 
336:   let configLabelKey: string = key;
337: 
338:   if (
339:     key in payload &&
340:     typeof payload[key as keyof typeof payload] === 'string'
341:   ) {
342:     configLabelKey = payload[key as keyof typeof payload] as string;
343:   } else if (
344:     payloadPayload &&
345:     key in payloadPayload &&
346:     typeof payloadPayload[key as keyof typeof payloadPayload] === 'string'
347:   ) {
348:     configLabelKey = payloadPayload[
349:       key as keyof typeof payloadPayload
350:     ] as string;
351:   }
352: 
353:   return configLabelKey in config
354:     ? config[configLabelKey]
355:     : config[key as keyof typeof config];
356: }
357: 
358: export {
359:   ChartContainer,
360:   ChartTooltip,
361:   ChartTooltipContent,
362:   ChartLegend,
363:   ChartLegendContent,
364:   ChartStyle,
365: };
```

## components\ui\checkbox.tsx

- Characters: 1197
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import * as CheckboxPrimitive from '@radix-ui/react-checkbox';
 5: import { Check } from 'lucide-react';
 6: 
 7: import { cn } from '@/lib/utils';
 8: 
 9: const Checkbox = React.forwardRef<
10:   React.ElementRef<typeof CheckboxPrimitive.Root>,
11:   React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>
12: >(({ className, ...props }, ref) => (
13:   <CheckboxPrimitive.Root
14:     ref={ref}
15:     className={cn(
16:       'peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground',
17:       className
18:     )}
19:     {...props}
20:   >
21:     <CheckboxPrimitive.Indicator
22:       className={cn('flex items-center justify-center text-current')}
23:     >
24:       <Check className="h-4 w-4" />
25:     </CheckboxPrimitive.Indicator>
26:   </CheckboxPrimitive.Root>
27: ));
28: Checkbox.displayName = CheckboxPrimitive.Root.displayName;
29: 
30: export { Checkbox };
```

## components\ui\collapsible.tsx

- Characters: 378
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as CollapsiblePrimitive from '@radix-ui/react-collapsible';
 4: 
 5: const Collapsible = CollapsiblePrimitive.Root;
 6: 
 7: const CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger;
 8: 
 9: const CollapsibleContent = CollapsiblePrimitive.CollapsibleContent;
10: 
11: export { Collapsible, CollapsibleTrigger, CollapsibleContent };
```

## components\ui\command.tsx

- Characters: 5694
- Tokens: 0

```text
  1: 'use client';
  2: 
  3: import * as React from 'react';
  4: import { type DialogProps } from '@radix-ui/react-dialog';
  5: import { Command as CommandPrimitive } from 'cmdk';
  6: import { Search } from 'lucide-react';
  7: 
  8: import { cn } from '@/lib/utils';
  9: import { Dialog, DialogContent } from '@/components/ui/dialog';
 10: 
 11: const Command = React.forwardRef<
 12:   React.ElementRef<typeof CommandPrimitive>,
 13:   React.ComponentPropsWithoutRef<typeof CommandPrimitive>
 14: >(({ className, ...props }, ref) => (
 15:   <CommandPrimitive
 16:     ref={ref}
 17:     className={cn(
 18:       'flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground',
 19:       className
 20:     )}
 21:     {...props}
 22:   />
 23: ));
 24: Command.displayName = CommandPrimitive.displayName;
 25: 
 26: interface CommandDialogProps extends DialogProps {}
 27: 
 28: const CommandDialog = ({ children, ...props }: CommandDialogProps) => {
 29:   return (
 30:     <Dialog {...props}>
 31:       <DialogContent className="overflow-hidden p-0 shadow-lg">
 32:         <Command className="[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5">
 33:           {children}
 34:         </Command>
 35:       </DialogContent>
 36:     </Dialog>
 37:   );
 38: };
 39: 
 40: const CommandInput = React.forwardRef<
 41:   React.ElementRef<typeof CommandPrimitive.Input>,
 42:   React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>
 43: >(({ className, ...props }, ref) => (
 44:   <div className="flex items-center border-b px-3" cmdk-input-wrapper="">
 45:     <Search className="mr-2 h-4 w-4 shrink-0 opacity-50" />
 46:     <CommandPrimitive.Input
 47:       ref={ref}
 48:       className={cn(
 49:         'flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50',
 50:         className
 51:       )}
 52:       {...props}
 53:     />
 54:   </div>
 55: ));
 56: 
 57: CommandInput.displayName = CommandPrimitive.Input.displayName;
 58: 
 59: const CommandList = React.forwardRef<
 60:   React.ElementRef<typeof CommandPrimitive.List>,
 61:   React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>
 62: >(({ className, ...props }, ref) => (
 63:   <CommandPrimitive.List
 64:     ref={ref}
 65:     className={cn('max-h-[300px] overflow-y-auto overflow-x-hidden', className)}
 66:     {...props}
 67:   />
 68: ));
 69: 
 70: CommandList.displayName = CommandPrimitive.List.displayName;
 71: 
 72: const CommandEmpty = React.forwardRef<
 73:   React.ElementRef<typeof CommandPrimitive.Empty>,
 74:   React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>
 75: >((props, ref) => (
 76:   <CommandPrimitive.Empty
 77:     ref={ref}
 78:     className="py-6 text-center text-sm"
 79:     {...props}
 80:   />
 81: ));
 82: 
 83: CommandEmpty.displayName = CommandPrimitive.Empty.displayName;
 84: 
 85: const CommandGroup = React.forwardRef<
 86:   React.ElementRef<typeof CommandPrimitive.Group>,
 87:   React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>
 88: >(({ className, ...props }, ref) => (
 89:   <CommandPrimitive.Group
 90:     ref={ref}
 91:     className={cn(
 92:       'overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground',
 93:       className
 94:     )}
 95:     {...props}
 96:   />
 97: ));
 98: 
 99: CommandGroup.displayName = CommandPrimitive.Group.displayName;
100: 
101: const CommandSeparator = React.forwardRef<
102:   React.ElementRef<typeof CommandPrimitive.Separator>,
103:   React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>
104: >(({ className, ...props }, ref) => (
105:   <CommandPrimitive.Separator
106:     ref={ref}
107:     className={cn('-mx-1 h-px bg-border', className)}
108:     {...props}
109:   />
110: ));
111: CommandSeparator.displayName = CommandPrimitive.Separator.displayName;
112: 
113: const CommandItem = React.forwardRef<
114:   React.ElementRef<typeof CommandPrimitive.Item>,
115:   React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>
116: >(({ className, ...props }, ref) => (
117:   <CommandPrimitive.Item
118:     ref={ref}
119:     className={cn(
120:       "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",
121:       className
122:     )}
123:     {...props}
124:   />
125: ));
126: 
127: CommandItem.displayName = CommandPrimitive.Item.displayName;
128: 
129: const CommandShortcut = ({
130:   className,
131:   ...props
132: }: React.HTMLAttributes<HTMLSpanElement>) => {
133:   return (
134:     <span
135:       className={cn(
136:         'ml-auto text-xs tracking-widest text-muted-foreground',
137:         className
138:       )}
139:       {...props}
140:     />
141:   );
142: };
143: CommandShortcut.displayName = 'CommandShortcut';
144: 
145: export {
146:   Command,
147:   CommandDialog,
148:   CommandInput,
149:   CommandList,
150:   CommandEmpty,
151:   CommandGroup,
152:   CommandItem,
153:   CommandShortcut,
154:   CommandSeparator,
155: };
```

## components\ui\context-menu.tsx

- Characters: 8293
- Tokens: 0

```text
  1: 'use client';
  2: 
  3: import * as React from 'react';
  4: import * as ContextMenuPrimitive from '@radix-ui/react-context-menu';
  5: import { Check, ChevronRight, Circle } from 'lucide-react';
  6: 
  7: import { cn } from '@/lib/utils';
  8: 
  9: const ContextMenu = ContextMenuPrimitive.Root;
 10: 
 11: const ContextMenuTrigger = ContextMenuPrimitive.Trigger;
 12: 
 13: const ContextMenuGroup = ContextMenuPrimitive.Group;
 14: 
 15: const ContextMenuPortal = ContextMenuPrimitive.Portal;
 16: 
 17: const ContextMenuSub = ContextMenuPrimitive.Sub;
 18: 
 19: const ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup;
 20: 
 21: const ContextMenuSubTrigger = React.forwardRef<
 22:   React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,
 23:   React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {
 24:     inset?: boolean;
 25:   }
 26: >(({ className, inset, children, ...props }, ref) => (
 27:   <ContextMenuPrimitive.SubTrigger
 28:     ref={ref}
 29:     className={cn(
 30:       'flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground',
 31:       inset && 'pl-8',
 32:       className
 33:     )}
 34:     {...props}
 35:   >
 36:     {children}
 37:     <ChevronRight className="ml-auto h-4 w-4" />
 38:   </ContextMenuPrimitive.SubTrigger>
 39: ));
 40: ContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName;
 41: 
 42: const ContextMenuSubContent = React.forwardRef<
 43:   React.ElementRef<typeof ContextMenuPrimitive.SubContent>,
 44:   React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>
 45: >(({ className, ...props }, ref) => (
 46:   <ContextMenuPrimitive.SubContent
 47:     ref={ref}
 48:     className={cn(
 49:       'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
 50:       className
 51:     )}
 52:     {...props}
 53:   />
 54: ));
 55: ContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName;
 56: 
 57: const ContextMenuContent = React.forwardRef<
 58:   React.ElementRef<typeof ContextMenuPrimitive.Content>,
 59:   React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>
 60: >(({ className, ...props }, ref) => (
 61:   <ContextMenuPrimitive.Portal>
 62:     <ContextMenuPrimitive.Content
 63:       ref={ref}
 64:       className={cn(
 65:         'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
 66:         className
 67:       )}
 68:       {...props}
 69:     />
 70:   </ContextMenuPrimitive.Portal>
 71: ));
 72: ContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName;
 73: 
 74: const ContextMenuItem = React.forwardRef<
 75:   React.ElementRef<typeof ContextMenuPrimitive.Item>,
 76:   React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {
 77:     inset?: boolean;
 78:   }
 79: >(({ className, inset, ...props }, ref) => (
 80:   <ContextMenuPrimitive.Item
 81:     ref={ref}
 82:     className={cn(
 83:       'relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
 84:       inset && 'pl-8',
 85:       className
 86:     )}
 87:     {...props}
 88:   />
 89: ));
 90: ContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName;
 91: 
 92: const ContextMenuCheckboxItem = React.forwardRef<
 93:   React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,
 94:   React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>
 95: >(({ className, children, checked, ...props }, ref) => (
 96:   <ContextMenuPrimitive.CheckboxItem
 97:     ref={ref}
 98:     className={cn(
 99:       'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
100:       className
101:     )}
102:     checked={checked}
103:     {...props}
104:   >
105:     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
106:       <ContextMenuPrimitive.ItemIndicator>
107:         <Check className="h-4 w-4" />
108:       </ContextMenuPrimitive.ItemIndicator>
109:     </span>
110:     {children}
111:   </ContextMenuPrimitive.CheckboxItem>
112: ));
113: ContextMenuCheckboxItem.displayName =
114:   ContextMenuPrimitive.CheckboxItem.displayName;
115: 
116: const ContextMenuRadioItem = React.forwardRef<
117:   React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,
118:   React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>
119: >(({ className, children, ...props }, ref) => (
120:   <ContextMenuPrimitive.RadioItem
121:     ref={ref}
122:     className={cn(
123:       'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
124:       className
125:     )}
126:     {...props}
127:   >
128:     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
129:       <ContextMenuPrimitive.ItemIndicator>
130:         <Circle className="h-2 w-2 fill-current" />
131:       </ContextMenuPrimitive.ItemIndicator>
132:     </span>
133:     {children}
134:   </ContextMenuPrimitive.RadioItem>
135: ));
136: ContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName;
137: 
138: const ContextMenuLabel = React.forwardRef<
139:   React.ElementRef<typeof ContextMenuPrimitive.Label>,
140:   React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {
141:     inset?: boolean;
142:   }
143: >(({ className, inset, ...props }, ref) => (
144:   <ContextMenuPrimitive.Label
145:     ref={ref}
146:     className={cn(
147:       'px-2 py-1.5 text-sm font-semibold text-foreground',
148:       inset && 'pl-8',
149:       className
150:     )}
151:     {...props}
152:   />
153: ));
154: ContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName;
155: 
156: const ContextMenuSeparator = React.forwardRef<
157:   React.ElementRef<typeof ContextMenuPrimitive.Separator>,
158:   React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>
159: >(({ className, ...props }, ref) => (
160:   <ContextMenuPrimitive.Separator
161:     ref={ref}
162:     className={cn('-mx-1 my-1 h-px bg-border', className)}
163:     {...props}
164:   />
165: ));
166: ContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName;
167: 
168: const ContextMenuShortcut = ({
169:   className,
170:   ...props
171: }: React.HTMLAttributes<HTMLSpanElement>) => {
172:   return (
173:     <span
174:       className={cn(
175:         'ml-auto text-xs tracking-widest text-muted-foreground',
176:         className
177:       )}
178:       {...props}
179:     />
180:   );
181: };
182: ContextMenuShortcut.displayName = 'ContextMenuShortcut';
183: 
184: export {
185:   ContextMenu,
186:   ContextMenuTrigger,
187:   ContextMenuContent,
188:   ContextMenuItem,
189:   ContextMenuCheckboxItem,
190:   ContextMenuRadioItem,
191:   ContextMenuLabel,
192:   ContextMenuSeparator,
193:   ContextMenuShortcut,
194:   ContextMenuGroup,
195:   ContextMenuPortal,
196:   ContextMenuSub,
197:   ContextMenuSubContent,
198:   ContextMenuSubTrigger,
199:   ContextMenuRadioGroup,
200: };
```

## components\ui\dialog.tsx

- Characters: 4480
- Tokens: 0

```text
  1: 'use client';
  2: 
  3: import * as React from 'react';
  4: import * as DialogPrimitive from '@radix-ui/react-dialog';
  5: import { X } from 'lucide-react';
  6: 
  7: import { cn } from '@/lib/utils';
  8: 
  9: const Dialog = DialogPrimitive.Root;
 10: 
 11: const DialogTrigger = DialogPrimitive.Trigger;
 12: 
 13: const DialogPortal = DialogPrimitive.Portal;
 14: 
 15: const DialogClose = DialogPrimitive.Close;
 16: 
 17: const DialogOverlay = React.forwardRef<
 18:   React.ElementRef<typeof DialogPrimitive.Overlay>,
 19:   React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
 20: >(({ className, ...props }, ref) => (
 21:   <DialogPrimitive.Overlay
 22:     ref={ref}
 23:     className={cn(
 24:       'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',
 25:       className
 26:     )}
 27:     {...props}
 28:   />
 29: ));
 30: DialogOverlay.displayName = DialogPrimitive.Overlay.displayName;
 31: 
 32: const DialogContent = React.forwardRef<
 33:   React.ElementRef<typeof DialogPrimitive.Content>,
 34:   React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
 35: >(({ className, children, ...props }, ref) => (
 36:   <DialogPortal>
 37:     <DialogOverlay />
 38:     <DialogPrimitive.Content
 39:       ref={ref}
 40:       className={cn(
 41:         'fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg',
 42:         className
 43:       )}
 44:       {...props}
 45:     >
 46:       {children}
 47:       <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
 48:         <X className="h-4 w-4" />
 49:         <span className="sr-only">Close</span>
 50:       </DialogPrimitive.Close>
 51:     </DialogPrimitive.Content>
 52:   </DialogPortal>
 53: ));
 54: DialogContent.displayName = DialogPrimitive.Content.displayName;
 55: 
 56: const DialogHeader = ({
 57:   className,
 58:   ...props
 59: }: React.HTMLAttributes<HTMLDivElement>) => (
 60:   <div
 61:     className={cn(
 62:       'flex flex-col space-y-1.5 text-center sm:text-left',
 63:       className
 64:     )}
 65:     {...props}
 66:   />
 67: );
 68: DialogHeader.displayName = 'DialogHeader';
 69: 
 70: const DialogFooter = ({
 71:   className,
 72:   ...props
 73: }: React.HTMLAttributes<HTMLDivElement>) => (
 74:   <div
 75:     className={cn(
 76:       'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',
 77:       className
 78:     )}
 79:     {...props}
 80:   />
 81: );
 82: DialogFooter.displayName = 'DialogFooter';
 83: 
 84: const DialogTitle = React.forwardRef<
 85:   React.ElementRef<typeof DialogPrimitive.Title>,
 86:   React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
 87: >(({ className, ...props }, ref) => (
 88:   <DialogPrimitive.Title
 89:     ref={ref}
 90:     className={cn(
 91:       'text-lg font-semibold leading-none tracking-tight',
 92:       className
 93:     )}
 94:     {...props}
 95:   />
 96: ));
 97: DialogTitle.displayName = DialogPrimitive.Title.displayName;
 98: 
 99: const DialogDescription = React.forwardRef<
100:   React.ElementRef<typeof DialogPrimitive.Description>,
101:   React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
102: >(({ className, ...props }, ref) => (
103:   <DialogPrimitive.Description
104:     ref={ref}
105:     className={cn('text-sm text-muted-foreground', className)}
106:     {...props}
107:   />
108: ));
109: DialogDescription.displayName = DialogPrimitive.Description.displayName;
110: 
111: export {
112:   Dialog,
113:   DialogPortal,
114:   DialogOverlay,
115:   DialogClose,
116:   DialogTrigger,
117:   DialogContent,
118:   DialogHeader,
119:   DialogFooter,
120:   DialogTitle,
121:   DialogDescription,
122: };
```

## components\ui\drawer.tsx

- Characters: 3632
- Tokens: 0

```text
  1: 'use client';
  2: 
  3: import * as React from 'react';
  4: import { Drawer as DrawerPrimitive } from 'vaul';
  5: 
  6: import { cn } from '@/lib/utils';
  7: 
  8: const Drawer = ({
  9:   shouldScaleBackground = true,
 10:   ...props
 11: }: React.ComponentProps<typeof DrawerPrimitive.Root>) => (
 12:   <DrawerPrimitive.Root
 13:     shouldScaleBackground={shouldScaleBackground}
 14:     {...props}
 15:   />
 16: );
 17: Drawer.displayName = 'Drawer';
 18: 
 19: const DrawerTrigger = DrawerPrimitive.Trigger;
 20: 
 21: const DrawerPortal = DrawerPrimitive.Portal;
 22: 
 23: const DrawerClose = DrawerPrimitive.Close;
 24: 
 25: const DrawerOverlay = React.forwardRef<
 26:   React.ElementRef<typeof DrawerPrimitive.Overlay>,
 27:   React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>
 28: >(({ className, ...props }, ref) => (
 29:   <DrawerPrimitive.Overlay
 30:     ref={ref}
 31:     className={cn('fixed inset-0 z-50 bg-black/80', className)}
 32:     {...props}
 33:   />
 34: ));
 35: DrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName;
 36: 
 37: const DrawerContent = React.forwardRef<
 38:   React.ElementRef<typeof DrawerPrimitive.Content>,
 39:   React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>
 40: >(({ className, children, ...props }, ref) => (
 41:   <DrawerPortal>
 42:     <DrawerOverlay />
 43:     <DrawerPrimitive.Content
 44:       ref={ref}
 45:       className={cn(
 46:         'fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background',
 47:         className
 48:       )}
 49:       {...props}
 50:     >
 51:       <div className="mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted" />
 52:       {children}
 53:     </DrawerPrimitive.Content>
 54:   </DrawerPortal>
 55: ));
 56: DrawerContent.displayName = 'DrawerContent';
 57: 
 58: const DrawerHeader = ({
 59:   className,
 60:   ...props
 61: }: React.HTMLAttributes<HTMLDivElement>) => (
 62:   <div
 63:     className={cn('grid gap-1.5 p-4 text-center sm:text-left', className)}
 64:     {...props}
 65:   />
 66: );
 67: DrawerHeader.displayName = 'DrawerHeader';
 68: 
 69: const DrawerFooter = ({
 70:   className,
 71:   ...props
 72: }: React.HTMLAttributes<HTMLDivElement>) => (
 73:   <div
 74:     className={cn('mt-auto flex flex-col gap-2 p-4', className)}
 75:     {...props}
 76:   />
 77: );
 78: DrawerFooter.displayName = 'DrawerFooter';
 79: 
 80: const DrawerTitle = React.forwardRef<
 81:   React.ElementRef<typeof DrawerPrimitive.Title>,
 82:   React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>
 83: >(({ className, ...props }, ref) => (
 84:   <DrawerPrimitive.Title
 85:     ref={ref}
 86:     className={cn(
 87:       'text-lg font-semibold leading-none tracking-tight',
 88:       className
 89:     )}
 90:     {...props}
 91:   />
 92: ));
 93: DrawerTitle.displayName = DrawerPrimitive.Title.displayName;
 94: 
 95: const DrawerDescription = React.forwardRef<
 96:   React.ElementRef<typeof DrawerPrimitive.Description>,
 97:   React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>
 98: >(({ className, ...props }, ref) => (
 99:   <DrawerPrimitive.Description
100:     ref={ref}
101:     className={cn('text-sm text-muted-foreground', className)}
102:     {...props}
103:   />
104: ));
105: DrawerDescription.displayName = DrawerPrimitive.Description.displayName;
106: 
107: export {
108:   Drawer,
109:   DrawerPortal,
110:   DrawerOverlay,
111:   DrawerTrigger,
112:   DrawerClose,
113:   DrawerContent,
114:   DrawerHeader,
115:   DrawerFooter,
116:   DrawerTitle,
117:   DrawerDescription,
118: };
```

## components\ui\dropdown-menu.tsx

- Characters: 8342
- Tokens: 0

```text
  1: 'use client';
  2: 
  3: import * as React from 'react';
  4: import * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu';
  5: import { Check, ChevronRight, Circle } from 'lucide-react';
  6: 
  7: import { cn } from '@/lib/utils';
  8: 
  9: const DropdownMenu = DropdownMenuPrimitive.Root;
 10: 
 11: const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;
 12: 
 13: const DropdownMenuGroup = DropdownMenuPrimitive.Group;
 14: 
 15: const DropdownMenuPortal = DropdownMenuPrimitive.Portal;
 16: 
 17: const DropdownMenuSub = DropdownMenuPrimitive.Sub;
 18: 
 19: const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;
 20: 
 21: const DropdownMenuSubTrigger = React.forwardRef<
 22:   React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,
 23:   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {
 24:     inset?: boolean;
 25:   }
 26: >(({ className, inset, children, ...props }, ref) => (
 27:   <DropdownMenuPrimitive.SubTrigger
 28:     ref={ref}
 29:     className={cn(
 30:       'flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent',
 31:       inset && 'pl-8',
 32:       className
 33:     )}
 34:     {...props}
 35:   >
 36:     {children}
 37:     <ChevronRight className="ml-auto h-4 w-4" />
 38:   </DropdownMenuPrimitive.SubTrigger>
 39: ));
 40: DropdownMenuSubTrigger.displayName =
 41:   DropdownMenuPrimitive.SubTrigger.displayName;
 42: 
 43: const DropdownMenuSubContent = React.forwardRef<
 44:   React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,
 45:   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>
 46: >(({ className, ...props }, ref) => (
 47:   <DropdownMenuPrimitive.SubContent
 48:     ref={ref}
 49:     className={cn(
 50:       'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
 51:       className
 52:     )}
 53:     {...props}
 54:   />
 55: ));
 56: DropdownMenuSubContent.displayName =
 57:   DropdownMenuPrimitive.SubContent.displayName;
 58: 
 59: const DropdownMenuContent = React.forwardRef<
 60:   React.ElementRef<typeof DropdownMenuPrimitive.Content>,
 61:   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>
 62: >(({ className, sideOffset = 4, ...props }, ref) => (
 63:   <DropdownMenuPrimitive.Portal>
 64:     <DropdownMenuPrimitive.Content
 65:       ref={ref}
 66:       sideOffset={sideOffset}
 67:       className={cn(
 68:         'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
 69:         className
 70:       )}
 71:       {...props}
 72:     />
 73:   </DropdownMenuPrimitive.Portal>
 74: ));
 75: DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;
 76: 
 77: const DropdownMenuItem = React.forwardRef<
 78:   React.ElementRef<typeof DropdownMenuPrimitive.Item>,
 79:   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {
 80:     inset?: boolean;
 81:   }
 82: >(({ className, inset, ...props }, ref) => (
 83:   <DropdownMenuPrimitive.Item
 84:     ref={ref}
 85:     className={cn(
 86:       'relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
 87:       inset && 'pl-8',
 88:       className
 89:     )}
 90:     {...props}
 91:   />
 92: ));
 93: DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;
 94: 
 95: const DropdownMenuCheckboxItem = React.forwardRef<
 96:   React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,
 97:   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>
 98: >(({ className, children, checked, ...props }, ref) => (
 99:   <DropdownMenuPrimitive.CheckboxItem
100:     ref={ref}
101:     className={cn(
102:       'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
103:       className
104:     )}
105:     checked={checked}
106:     {...props}
107:   >
108:     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
109:       <DropdownMenuPrimitive.ItemIndicator>
110:         <Check className="h-4 w-4" />
111:       </DropdownMenuPrimitive.ItemIndicator>
112:     </span>
113:     {children}
114:   </DropdownMenuPrimitive.CheckboxItem>
115: ));
116: DropdownMenuCheckboxItem.displayName =
117:   DropdownMenuPrimitive.CheckboxItem.displayName;
118: 
119: const DropdownMenuRadioItem = React.forwardRef<
120:   React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,
121:   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>
122: >(({ className, children, ...props }, ref) => (
123:   <DropdownMenuPrimitive.RadioItem
124:     ref={ref}
125:     className={cn(
126:       'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
127:       className
128:     )}
129:     {...props}
130:   >
131:     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
132:       <DropdownMenuPrimitive.ItemIndicator>
133:         <Circle className="h-2 w-2 fill-current" />
134:       </DropdownMenuPrimitive.ItemIndicator>
135:     </span>
136:     {children}
137:   </DropdownMenuPrimitive.RadioItem>
138: ));
139: DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;
140: 
141: const DropdownMenuLabel = React.forwardRef<
142:   React.ElementRef<typeof DropdownMenuPrimitive.Label>,
143:   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {
144:     inset?: boolean;
145:   }
146: >(({ className, inset, ...props }, ref) => (
147:   <DropdownMenuPrimitive.Label
148:     ref={ref}
149:     className={cn(
150:       'px-2 py-1.5 text-sm font-semibold',
151:       inset && 'pl-8',
152:       className
153:     )}
154:     {...props}
155:   />
156: ));
157: DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;
158: 
159: const DropdownMenuSeparator = React.forwardRef<
160:   React.ElementRef<typeof DropdownMenuPrimitive.Separator>,
161:   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>
162: >(({ className, ...props }, ref) => (
163:   <DropdownMenuPrimitive.Separator
164:     ref={ref}
165:     className={cn('-mx-1 my-1 h-px bg-muted', className)}
166:     {...props}
167:   />
168: ));
169: DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;
170: 
171: const DropdownMenuShortcut = ({
172:   className,
173:   ...props
174: }: React.HTMLAttributes<HTMLSpanElement>) => {
175:   return (
176:     <span
177:       className={cn('ml-auto text-xs tracking-widest opacity-60', className)}
178:       {...props}
179:     />
180:   );
181: };
182: DropdownMenuShortcut.displayName = 'DropdownMenuShortcut';
183: 
184: export {
185:   DropdownMenu,
186:   DropdownMenuTrigger,
187:   DropdownMenuContent,
188:   DropdownMenuItem,
189:   DropdownMenuCheckboxItem,
190:   DropdownMenuRadioItem,
191:   DropdownMenuLabel,
192:   DropdownMenuSeparator,
193:   DropdownMenuShortcut,
194:   DropdownMenuGroup,
195:   DropdownMenuPortal,
196:   DropdownMenuSub,
197:   DropdownMenuSubContent,
198:   DropdownMenuSubTrigger,
199:   DropdownMenuRadioGroup,
200: };
```

## components\ui\form.tsx

- Characters: 5044
- Tokens: 0

```text
  1: 'use client';
  2: 
  3: import * as React from 'react';
  4: import * as LabelPrimitive from '@radix-ui/react-label';
  5: import { Slot } from '@radix-ui/react-slot';
  6: import {
  7:   Controller,
  8:   ControllerProps,
  9:   FieldPath,
 10:   FieldValues,
 11:   FormProvider,
 12:   useFormContext,
 13: } from 'react-hook-form';
 14: 
 15: import { cn } from '@/lib/utils';
 16: import { Label } from '@/components/ui/label';
 17: 
 18: const Form = FormProvider;
 19: 
 20: type FormFieldContextValue<
 21:   TFieldValues extends FieldValues = FieldValues,
 22:   TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
 23: > = {
 24:   name: TName;
 25: };
 26: 
 27: const FormFieldContext = React.createContext<FormFieldContextValue>(
 28:   {} as FormFieldContextValue
 29: );
 30: 
 31: const FormField = <
 32:   TFieldValues extends FieldValues = FieldValues,
 33:   TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
 34: >({
 35:   ...props
 36: }: ControllerProps<TFieldValues, TName>) => {
 37:   return (
 38:     <FormFieldContext.Provider value={{ name: props.name }}>
 39:       <Controller {...props} />
 40:     </FormFieldContext.Provider>
 41:   );
 42: };
 43: 
 44: const useFormField = () => {
 45:   const fieldContext = React.useContext(FormFieldContext);
 46:   const itemContext = React.useContext(FormItemContext);
 47:   const { getFieldState, formState } = useFormContext();
 48: 
 49:   const fieldState = getFieldState(fieldContext.name, formState);
 50: 
 51:   if (!fieldContext) {
 52:     throw new Error('useFormField should be used within <FormField>');
 53:   }
 54: 
 55:   const { id } = itemContext;
 56: 
 57:   return {
 58:     id,
 59:     name: fieldContext.name,
 60:     formItemId: `${id}-form-item`,
 61:     formDescriptionId: `${id}-form-item-description`,
 62:     formMessageId: `${id}-form-item-message`,
 63:     ...fieldState,
 64:   };
 65: };
 66: 
 67: type FormItemContextValue = {
 68:   id: string;
 69: };
 70: 
 71: const FormItemContext = React.createContext<FormItemContextValue>(
 72:   {} as FormItemContextValue
 73: );
 74: 
 75: const FormItem = React.forwardRef<
 76:   HTMLDivElement,
 77:   React.HTMLAttributes<HTMLDivElement>
 78: >(({ className, ...props }, ref) => {
 79:   const id = React.useId();
 80: 
 81:   return (
 82:     <FormItemContext.Provider value={{ id }}>
 83:       <div ref={ref} className={cn('space-y-2', className)} {...props} />
 84:     </FormItemContext.Provider>
 85:   );
 86: });
 87: FormItem.displayName = 'FormItem';
 88: 
 89: const FormLabel = React.forwardRef<
 90:   React.ElementRef<typeof LabelPrimitive.Root>,
 91:   React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>
 92: >(({ className, ...props }, ref) => {
 93:   const { error, formItemId } = useFormField();
 94: 
 95:   return (
 96:     <Label
 97:       ref={ref}
 98:       className={cn(error && 'text-destructive', className)}
 99:       htmlFor={formItemId}
100:       {...props}
101:     />
102:   );
103: });
104: FormLabel.displayName = 'FormLabel';
105: 
106: const FormControl = React.forwardRef<
107:   React.ElementRef<typeof Slot>,
108:   React.ComponentPropsWithoutRef<typeof Slot>
109: >(({ ...props }, ref) => {
110:   const { error, formItemId, formDescriptionId, formMessageId } =
111:     useFormField();
112: 
113:   return (
114:     <Slot
115:       ref={ref}
116:       id={formItemId}
117:       aria-describedby={
118:         !error
119:           ? `${formDescriptionId}`
120:           : `${formDescriptionId} ${formMessageId}`
121:       }
122:       aria-invalid={!!error}
123:       {...props}
124:     />
125:   );
126: });
127: FormControl.displayName = 'FormControl';
128: 
129: const FormDescription = React.forwardRef<
130:   HTMLParagraphElement,
131:   React.HTMLAttributes<HTMLParagraphElement>
132: >(({ className, ...props }, ref) => {
133:   const { formDescriptionId } = useFormField();
134: 
135:   return (
136:     <p
137:       ref={ref}
138:       id={formDescriptionId}
139:       className={cn('text-sm text-muted-foreground', className)}
140:       {...props}
141:     />
142:   );
143: });
144: FormDescription.displayName = 'FormDescription';
145: 
146: const FormMessage = React.forwardRef<
147:   HTMLParagraphElement,
148:   React.HTMLAttributes<HTMLParagraphElement>
149: >(({ className, children, ...props }, ref) => {
150:   const { error, formMessageId } = useFormField();
151:   const body = error ? String(error?.message) : children;
152: 
153:   if (!body) {
154:     return null;
155:   }
156: 
157:   return (
158:     <p
159:       ref={ref}
160:       id={formMessageId}
161:       className={cn('text-sm font-medium text-destructive', className)}
162:       {...props}
163:     >
164:       {body}
165:     </p>
166:   );
167: });
168: FormMessage.displayName = 'FormMessage';
169: 
170: export {
171:   useFormField,
172:   Form,
173:   FormItem,
174:   FormLabel,
175:   FormControl,
176:   FormDescription,
177:   FormMessage,
178:   FormField,
179: };
```

## components\ui\hover-card.tsx

- Characters: 1322
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import * as HoverCardPrimitive from '@radix-ui/react-hover-card';
 5: 
 6: import { cn } from '@/lib/utils';
 7: 
 8: const HoverCard = HoverCardPrimitive.Root;
 9: 
10: const HoverCardTrigger = HoverCardPrimitive.Trigger;
11: 
12: const HoverCardContent = React.forwardRef<
13:   React.ElementRef<typeof HoverCardPrimitive.Content>,
14:   React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>
15: >(({ className, align = 'center', sideOffset = 4, ...props }, ref) => (
16:   <HoverCardPrimitive.Content
17:     ref={ref}
18:     align={align}
19:     sideOffset={sideOffset}
20:     className={cn(
21:       'z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
22:       className
23:     )}
24:     {...props}
25:   />
26: ));
27: HoverCardContent.displayName = HoverCardPrimitive.Content.displayName;
28: 
29: export { HoverCard, HoverCardTrigger, HoverCardContent };
```

## components\ui\input-otp.tsx

- Characters: 2468
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import { OTPInput, OTPInputContext } from 'input-otp';
 5: import { Dot } from 'lucide-react';
 6: 
 7: import { cn } from '@/lib/utils';
 8: 
 9: const InputOTP = React.forwardRef<
10:   React.ElementRef<typeof OTPInput>,
11:   React.ComponentPropsWithoutRef<typeof OTPInput>
12: >(({ className, containerClassName, ...props }, ref) => (
13:   <OTPInput
14:     ref={ref}
15:     containerClassName={cn(
16:       'flex items-center gap-2 has-[:disabled]:opacity-50',
17:       containerClassName
18:     )}
19:     className={cn('disabled:cursor-not-allowed', className)}
20:     {...props}
21:   />
22: ));
23: InputOTP.displayName = 'InputOTP';
24: 
25: const InputOTPGroup = React.forwardRef<
26:   React.ElementRef<'div'>,
27:   React.ComponentPropsWithoutRef<'div'>
28: >(({ className, ...props }, ref) => (
29:   <div ref={ref} className={cn('flex items-center', className)} {...props} />
30: ));
31: InputOTPGroup.displayName = 'InputOTPGroup';
32: 
33: const InputOTPSlot = React.forwardRef<
34:   React.ElementRef<'div'>,
35:   React.ComponentPropsWithoutRef<'div'> & { index: number }
36: >(({ index, className, ...props }, ref) => {
37:   const inputOTPContext = React.useContext(OTPInputContext);
38:   const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index];
39: 
40:   return (
41:     <div
42:       ref={ref}
43:       className={cn(
44:         'relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md',
45:         isActive && 'z-10 ring-2 ring-ring ring-offset-background',
46:         className
47:       )}
48:       {...props}
49:     >
50:       {char}
51:       {hasFakeCaret && (
52:         <div className="pointer-events-none absolute inset-0 flex items-center justify-center">
53:           <div className="h-4 w-px animate-caret-blink bg-foreground duration-1000" />
54:         </div>
55:       )}
56:     </div>
57:   );
58: });
59: InputOTPSlot.displayName = 'InputOTPSlot';
60: 
61: const InputOTPSeparator = React.forwardRef<
62:   React.ElementRef<'div'>,
63:   React.ComponentPropsWithoutRef<'div'>
64: >(({ ...props }, ref) => (
65:   <div ref={ref} role="separator" {...props}>
66:     <Dot />
67:   </div>
68: ));
69: InputOTPSeparator.displayName = 'InputOTPSeparator';
70: 
71: export { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator };
```

## components\ui\input.tsx

- Characters: 950
- Tokens: 0

```text
 1: import * as React from 'react';
 2: 
 3: import { cn } from '@/lib/utils';
 4: 
 5: export interface InputProps
 6:   extends React.InputHTMLAttributes<HTMLInputElement> {}
 7: 
 8: const Input = React.forwardRef<HTMLInputElement, InputProps>(
 9:   ({ className, type, ...props }, ref) => {
10:     return (
11:       <input
12:         type={type}
13:         className={cn(
14:           'flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',
15:           className
16:         )}
17:         ref={ref}
18:         {...props}
19:       />
20:     );
21:   }
22: );
23: Input.displayName = 'Input';
24: 
25: export { Input };
```

## components\ui\label.tsx

- Characters: 836
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import * as LabelPrimitive from '@radix-ui/react-label';
 5: import { cva, type VariantProps } from 'class-variance-authority';
 6: 
 7: import { cn } from '@/lib/utils';
 8: 
 9: const labelVariants = cva(
10:   'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70'
11: );
12: 
13: const Label = React.forwardRef<
14:   React.ElementRef<typeof LabelPrimitive.Root>,
15:   React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &
16:     VariantProps<typeof labelVariants>
17: >(({ className, ...props }, ref) => (
18:   <LabelPrimitive.Root
19:     ref={ref}
20:     className={cn(labelVariants(), className)}
21:     {...props}
22:   />
23: ));
24: Label.displayName = LabelPrimitive.Root.displayName;
25: 
26: export { Label };
```

## components\ui\menubar.tsx

- Characters: 9204
- Tokens: 0

```text
  1: 'use client';
  2: 
  3: import * as React from 'react';
  4: import * as MenubarPrimitive from '@radix-ui/react-menubar';
  5: import { Check, ChevronRight, Circle } from 'lucide-react';
  6: 
  7: import { cn } from '@/lib/utils';
  8: 
  9: const MenubarMenu = MenubarPrimitive.Menu;
 10: 
 11: const MenubarGroup = MenubarPrimitive.Group;
 12: 
 13: const MenubarPortal = MenubarPrimitive.Portal;
 14: 
 15: const MenubarSub = MenubarPrimitive.Sub;
 16: 
 17: const MenubarRadioGroup = MenubarPrimitive.RadioGroup;
 18: 
 19: const Menubar = React.forwardRef<
 20:   React.ElementRef<typeof MenubarPrimitive.Root>,
 21:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>
 22: >(({ className, ...props }, ref) => (
 23:   <MenubarPrimitive.Root
 24:     ref={ref}
 25:     className={cn(
 26:       'flex h-10 items-center space-x-1 rounded-md border bg-background p-1',
 27:       className
 28:     )}
 29:     {...props}
 30:   />
 31: ));
 32: Menubar.displayName = MenubarPrimitive.Root.displayName;
 33: 
 34: const MenubarTrigger = React.forwardRef<
 35:   React.ElementRef<typeof MenubarPrimitive.Trigger>,
 36:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>
 37: >(({ className, ...props }, ref) => (
 38:   <MenubarPrimitive.Trigger
 39:     ref={ref}
 40:     className={cn(
 41:       'flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground',
 42:       className
 43:     )}
 44:     {...props}
 45:   />
 46: ));
 47: MenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName;
 48: 
 49: const MenubarSubTrigger = React.forwardRef<
 50:   React.ElementRef<typeof MenubarPrimitive.SubTrigger>,
 51:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {
 52:     inset?: boolean;
 53:   }
 54: >(({ className, inset, children, ...props }, ref) => (
 55:   <MenubarPrimitive.SubTrigger
 56:     ref={ref}
 57:     className={cn(
 58:       'flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground',
 59:       inset && 'pl-8',
 60:       className
 61:     )}
 62:     {...props}
 63:   >
 64:     {children}
 65:     <ChevronRight className="ml-auto h-4 w-4" />
 66:   </MenubarPrimitive.SubTrigger>
 67: ));
 68: MenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName;
 69: 
 70: const MenubarSubContent = React.forwardRef<
 71:   React.ElementRef<typeof MenubarPrimitive.SubContent>,
 72:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>
 73: >(({ className, ...props }, ref) => (
 74:   <MenubarPrimitive.SubContent
 75:     ref={ref}
 76:     className={cn(
 77:       'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
 78:       className
 79:     )}
 80:     {...props}
 81:   />
 82: ));
 83: MenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName;
 84: 
 85: const MenubarContent = React.forwardRef<
 86:   React.ElementRef<typeof MenubarPrimitive.Content>,
 87:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>
 88: >(
 89:   (
 90:     { className, align = 'start', alignOffset = -4, sideOffset = 8, ...props },
 91:     ref
 92:   ) => (
 93:     <MenubarPrimitive.Portal>
 94:       <MenubarPrimitive.Content
 95:         ref={ref}
 96:         align={align}
 97:         alignOffset={alignOffset}
 98:         sideOffset={sideOffset}
 99:         className={cn(
100:           'z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
101:           className
102:         )}
103:         {...props}
104:       />
105:     </MenubarPrimitive.Portal>
106:   )
107: );
108: MenubarContent.displayName = MenubarPrimitive.Content.displayName;
109: 
110: const MenubarItem = React.forwardRef<
111:   React.ElementRef<typeof MenubarPrimitive.Item>,
112:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {
113:     inset?: boolean;
114:   }
115: >(({ className, inset, ...props }, ref) => (
116:   <MenubarPrimitive.Item
117:     ref={ref}
118:     className={cn(
119:       'relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
120:       inset && 'pl-8',
121:       className
122:     )}
123:     {...props}
124:   />
125: ));
126: MenubarItem.displayName = MenubarPrimitive.Item.displayName;
127: 
128: const MenubarCheckboxItem = React.forwardRef<
129:   React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,
130:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>
131: >(({ className, children, checked, ...props }, ref) => (
132:   <MenubarPrimitive.CheckboxItem
133:     ref={ref}
134:     className={cn(
135:       'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
136:       className
137:     )}
138:     checked={checked}
139:     {...props}
140:   >
141:     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
142:       <MenubarPrimitive.ItemIndicator>
143:         <Check className="h-4 w-4" />
144:       </MenubarPrimitive.ItemIndicator>
145:     </span>
146:     {children}
147:   </MenubarPrimitive.CheckboxItem>
148: ));
149: MenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName;
150: 
151: const MenubarRadioItem = React.forwardRef<
152:   React.ElementRef<typeof MenubarPrimitive.RadioItem>,
153:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>
154: >(({ className, children, ...props }, ref) => (
155:   <MenubarPrimitive.RadioItem
156:     ref={ref}
157:     className={cn(
158:       'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
159:       className
160:     )}
161:     {...props}
162:   >
163:     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
164:       <MenubarPrimitive.ItemIndicator>
165:         <Circle className="h-2 w-2 fill-current" />
166:       </MenubarPrimitive.ItemIndicator>
167:     </span>
168:     {children}
169:   </MenubarPrimitive.RadioItem>
170: ));
171: MenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName;
172: 
173: const MenubarLabel = React.forwardRef<
174:   React.ElementRef<typeof MenubarPrimitive.Label>,
175:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {
176:     inset?: boolean;
177:   }
178: >(({ className, inset, ...props }, ref) => (
179:   <MenubarPrimitive.Label
180:     ref={ref}
181:     className={cn(
182:       'px-2 py-1.5 text-sm font-semibold',
183:       inset && 'pl-8',
184:       className
185:     )}
186:     {...props}
187:   />
188: ));
189: MenubarLabel.displayName = MenubarPrimitive.Label.displayName;
190: 
191: const MenubarSeparator = React.forwardRef<
192:   React.ElementRef<typeof MenubarPrimitive.Separator>,
193:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>
194: >(({ className, ...props }, ref) => (
195:   <MenubarPrimitive.Separator
196:     ref={ref}
197:     className={cn('-mx-1 my-1 h-px bg-muted', className)}
198:     {...props}
199:   />
200: ));
201: MenubarSeparator.displayName = MenubarPrimitive.Separator.displayName;
202: 
203: const MenubarShortcut = ({
204:   className,
205:   ...props
206: }: React.HTMLAttributes<HTMLSpanElement>) => {
207:   return (
208:     <span
209:       className={cn(
210:         'ml-auto text-xs tracking-widest text-muted-foreground',
211:         className
212:       )}
213:       {...props}
214:     />
215:   );
216: };
217: MenubarShortcut.displayname = 'MenubarShortcut';
218: 
219: export {
220:   Menubar,
221:   MenubarMenu,
222:   MenubarTrigger,
223:   MenubarContent,
224:   MenubarItem,
225:   MenubarSeparator,
226:   MenubarLabel,
227:   MenubarCheckboxItem,
228:   MenubarRadioGroup,
229:   MenubarRadioItem,
230:   MenubarPortal,
231:   MenubarSubContent,
232:   MenubarSubTrigger,
233:   MenubarGroup,
234:   MenubarSub,
235:   MenubarShortcut,
236: };
```

## components\ui\navigation-menu.tsx

- Characters: 5706
- Tokens: 0

```text
  1: import * as React from 'react';
  2: import * as NavigationMenuPrimitive from '@radix-ui/react-navigation-menu';
  3: import { cva } from 'class-variance-authority';
  4: import { ChevronDown } from 'lucide-react';
  5: 
  6: import { cn } from '@/lib/utils';
  7: 
  8: const NavigationMenu = React.forwardRef<
  9:   React.ElementRef<typeof NavigationMenuPrimitive.Root>,
 10:   React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>
 11: >(({ className, children, ...props }, ref) => (
 12:   <NavigationMenuPrimitive.Root
 13:     ref={ref}
 14:     className={cn(
 15:       'relative z-10 flex max-w-max flex-1 items-center justify-center',
 16:       className
 17:     )}
 18:     {...props}
 19:   >
 20:     {children}
 21:     <NavigationMenuViewport />
 22:   </NavigationMenuPrimitive.Root>
 23: ));
 24: NavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName;
 25: 
 26: const NavigationMenuList = React.forwardRef<
 27:   React.ElementRef<typeof NavigationMenuPrimitive.List>,
 28:   React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>
 29: >(({ className, ...props }, ref) => (
 30:   <NavigationMenuPrimitive.List
 31:     ref={ref}
 32:     className={cn(
 33:       'group flex flex-1 list-none items-center justify-center space-x-1',
 34:       className
 35:     )}
 36:     {...props}
 37:   />
 38: ));
 39: NavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName;
 40: 
 41: const NavigationMenuItem = NavigationMenuPrimitive.Item;
 42: 
 43: const navigationMenuTriggerStyle = cva(
 44:   'group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50'
 45: );
 46: 
 47: const NavigationMenuTrigger = React.forwardRef<
 48:   React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,
 49:   React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>
 50: >(({ className, children, ...props }, ref) => (
 51:   <NavigationMenuPrimitive.Trigger
 52:     ref={ref}
 53:     className={cn(navigationMenuTriggerStyle(), 'group', className)}
 54:     {...props}
 55:   >
 56:     {children}{' '}
 57:     <ChevronDown
 58:       className="relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180"
 59:       aria-hidden="true"
 60:     />
 61:   </NavigationMenuPrimitive.Trigger>
 62: ));
 63: NavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName;
 64: 
 65: const NavigationMenuContent = React.forwardRef<
 66:   React.ElementRef<typeof NavigationMenuPrimitive.Content>,
 67:   React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>
 68: >(({ className, ...props }, ref) => (
 69:   <NavigationMenuPrimitive.Content
 70:     ref={ref}
 71:     className={cn(
 72:       'left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ',
 73:       className
 74:     )}
 75:     {...props}
 76:   />
 77: ));
 78: NavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName;
 79: 
 80: const NavigationMenuLink = NavigationMenuPrimitive.Link;
 81: 
 82: const NavigationMenuViewport = React.forwardRef<
 83:   React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,
 84:   React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>
 85: >(({ className, ...props }, ref) => (
 86:   <div className={cn('absolute left-0 top-full flex justify-center')}>
 87:     <NavigationMenuPrimitive.Viewport
 88:       className={cn(
 89:         'origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]',
 90:         className
 91:       )}
 92:       ref={ref}
 93:       {...props}
 94:     />
 95:   </div>
 96: ));
 97: NavigationMenuViewport.displayName =
 98:   NavigationMenuPrimitive.Viewport.displayName;
 99: 
100: const NavigationMenuIndicator = React.forwardRef<
101:   React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,
102:   React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>
103: >(({ className, ...props }, ref) => (
104:   <NavigationMenuPrimitive.Indicator
105:     ref={ref}
106:     className={cn(
107:       'top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in',
108:       className
109:     )}
110:     {...props}
111:   >
112:     <div className="relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md" />
113:   </NavigationMenuPrimitive.Indicator>
114: ));
115: NavigationMenuIndicator.displayName =
116:   NavigationMenuPrimitive.Indicator.displayName;
117: 
118: export {
119:   navigationMenuTriggerStyle,
120:   NavigationMenu,
121:   NavigationMenuList,
122:   NavigationMenuItem,
123:   NavigationMenuContent,
124:   NavigationMenuTrigger,
125:   NavigationMenuLink,
126:   NavigationMenuIndicator,
127:   NavigationMenuViewport,
128: };
```

## components\ui\pagination.tsx

- Characters: 3356
- Tokens: 0

```text
  1: import * as React from 'react';
  2: import { ChevronLeft, ChevronRight, MoreHorizontal } from 'lucide-react';
  3: 
  4: import { cn } from '@/lib/utils';
  5: import { ButtonProps, buttonVariants } from '@/components/ui/button';
  6: 
  7: const Pagination = ({ className, ...props }: React.ComponentProps<'nav'>) => (
  8:   <nav
  9:     role="navigation"
 10:     aria-label="pagination"
 11:     className={cn('mx-auto flex w-full justify-center', className)}
 12:     {...props}
 13:   />
 14: );
 15: Pagination.displayName = 'Pagination';
 16: 
 17: const PaginationContent = React.forwardRef<
 18:   HTMLUListElement,
 19:   React.ComponentProps<'ul'>
 20: >(({ className, ...props }, ref) => (
 21:   <ul
 22:     ref={ref}
 23:     className={cn('flex flex-row items-center gap-1', className)}
 24:     {...props}
 25:   />
 26: ));
 27: PaginationContent.displayName = 'PaginationContent';
 28: 
 29: const PaginationItem = React.forwardRef<
 30:   HTMLLIElement,
 31:   React.ComponentProps<'li'>
 32: >(({ className, ...props }, ref) => (
 33:   <li ref={ref} className={cn('', className)} {...props} />
 34: ));
 35: PaginationItem.displayName = 'PaginationItem';
 36: 
 37: type PaginationLinkProps = {
 38:   isActive?: boolean;
 39: } & Pick<ButtonProps, 'size'> &
 40:   React.ComponentProps<'a'>;
 41: 
 42: const PaginationLink = ({
 43:   className,
 44:   isActive,
 45:   size = 'icon',
 46:   ...props
 47: }: PaginationLinkProps) => (
 48:   <a
 49:     aria-current={isActive ? 'page' : undefined}
 50:     className={cn(
 51:       buttonVariants({
 52:         variant: isActive ? 'outline' : 'ghost',
 53:         size,
 54:       }),
 55:       className
 56:     )}
 57:     {...props}
 58:   />
 59: );
 60: PaginationLink.displayName = 'PaginationLink';
 61: 
 62: const PaginationPrevious = ({
 63:   className,
 64:   ...props
 65: }: React.ComponentProps<typeof PaginationLink>) => (
 66:   <PaginationLink
 67:     aria-label="Go to previous page"
 68:     size="default"
 69:     className={cn('gap-1 pl-2.5', className)}
 70:     {...props}
 71:   >
 72:     <ChevronLeft className="h-4 w-4" />
 73:     <span>Previous</span>
 74:   </PaginationLink>
 75: );
 76: PaginationPrevious.displayName = 'PaginationPrevious';
 77: 
 78: const PaginationNext = ({
 79:   className,
 80:   ...props
 81: }: React.ComponentProps<typeof PaginationLink>) => (
 82:   <PaginationLink
 83:     aria-label="Go to next page"
 84:     size="default"
 85:     className={cn('gap-1 pr-2.5', className)}
 86:     {...props}
 87:   >
 88:     <span>Next</span>
 89:     <ChevronRight className="h-4 w-4" />
 90:   </PaginationLink>
 91: );
 92: PaginationNext.displayName = 'PaginationNext';
 93: 
 94: const PaginationEllipsis = ({
 95:   className,
 96:   ...props
 97: }: React.ComponentProps<'span'>) => (
 98:   <span
 99:     aria-hidden
100:     className={cn('flex h-9 w-9 items-center justify-center', className)}
101:     {...props}
102:   >
103:     <MoreHorizontal className="h-4 w-4" />
104:     <span className="sr-only">More pages</span>
105:   </span>
106: );
107: PaginationEllipsis.displayName = 'PaginationEllipsis';
108: 
109: export {
110:   Pagination,
111:   PaginationContent,
112:   PaginationEllipsis,
113:   PaginationItem,
114:   PaginationLink,
115:   PaginationNext,
116:   PaginationPrevious,
117: };
```

## components\ui\popover.tsx

- Characters: 1376
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import * as PopoverPrimitive from '@radix-ui/react-popover';
 5: 
 6: import { cn } from '@/lib/utils';
 7: 
 8: const Popover = PopoverPrimitive.Root;
 9: 
10: const PopoverTrigger = PopoverPrimitive.Trigger;
11: 
12: const PopoverContent = React.forwardRef<
13:   React.ElementRef<typeof PopoverPrimitive.Content>,
14:   React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>
15: >(({ className, align = 'center', sideOffset = 4, ...props }, ref) => (
16:   <PopoverPrimitive.Portal>
17:     <PopoverPrimitive.Content
18:       ref={ref}
19:       align={align}
20:       sideOffset={sideOffset}
21:       className={cn(
22:         'z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
23:         className
24:       )}
25:       {...props}
26:     />
27:   </PopoverPrimitive.Portal>
28: ));
29: PopoverContent.displayName = PopoverPrimitive.Content.displayName;
30: 
31: export { Popover, PopoverTrigger, PopoverContent };
```

## components\ui\progress.tsx

- Characters: 909
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import * as ProgressPrimitive from '@radix-ui/react-progress';
 5: 
 6: import { cn } from '@/lib/utils';
 7: 
 8: const Progress = React.forwardRef<
 9:   React.ElementRef<typeof ProgressPrimitive.Root>,
10:   React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>
11: >(({ className, value, ...props }, ref) => (
12:   <ProgressPrimitive.Root
13:     ref={ref}
14:     className={cn(
15:       'relative h-4 w-full overflow-hidden rounded-full bg-secondary',
16:       className
17:     )}
18:     {...props}
19:   >
20:     <ProgressPrimitive.Indicator
21:       className="h-full w-full flex-1 bg-primary transition-all"
22:       style={{ transform: `translateX(-${100 - (value || 0)}%)` }}
23:     />
24:   </ProgressPrimitive.Root>
25: ));
26: Progress.displayName = ProgressPrimitive.Root.displayName;
27: 
28: export { Progress };
```

## components\ui\radio-group.tsx

- Characters: 1668
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import * as RadioGroupPrimitive from '@radix-ui/react-radio-group';
 5: import { Circle } from 'lucide-react';
 6: 
 7: import { cn } from '@/lib/utils';
 8: 
 9: const RadioGroup = React.forwardRef<
10:   React.ElementRef<typeof RadioGroupPrimitive.Root>,
11:   React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>
12: >(({ className, ...props }, ref) => {
13:   return (
14:     <RadioGroupPrimitive.Root
15:       className={cn('grid gap-2', className)}
16:       {...props}
17:       ref={ref}
18:     />
19:   );
20: });
21: RadioGroup.displayName = RadioGroupPrimitive.Root.displayName;
22: 
23: const RadioGroupItem = React.forwardRef<
24:   React.ElementRef<typeof RadioGroupPrimitive.Item>,
25:   React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>
26: >(({ className, ...props }, ref) => {
27:   return (
28:     <RadioGroupPrimitive.Item
29:       ref={ref}
30:       className={cn(
31:         'aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',
32:         className
33:       )}
34:       {...props}
35:     >
36:       <RadioGroupPrimitive.Indicator className="flex items-center justify-center">
37:         <Circle className="h-2.5 w-2.5 fill-current text-current" />
38:       </RadioGroupPrimitive.Indicator>
39:     </RadioGroupPrimitive.Item>
40:   );
41: });
42: RadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName;
43: 
44: export { RadioGroup, RadioGroupItem };
```

## components\ui\resizable.tsx

- Characters: 1911
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import { GripVertical } from 'lucide-react';
 4: import * as ResizablePrimitive from 'react-resizable-panels';
 5: 
 6: import { cn } from '@/lib/utils';
 7: 
 8: const ResizablePanelGroup = ({
 9:   className,
10:   ...props
11: }: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (
12:   <ResizablePrimitive.PanelGroup
13:     className={cn(
14:       'flex h-full w-full data-[panel-group-direction=vertical]:flex-col',
15:       className
16:     )}
17:     {...props}
18:   />
19: );
20: 
21: const ResizablePanel = ResizablePrimitive.Panel;
22: 
23: const ResizableHandle = ({
24:   withHandle,
25:   className,
26:   ...props
27: }: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {
28:   withHandle?: boolean;
29: }) => (
30:   <ResizablePrimitive.PanelResizeHandle
31:     className={cn(
32:       'relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90',
33:       className
34:     )}
35:     {...props}
36:   >
37:     {withHandle && (
38:       <div className="z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border">
39:         <GripVertical className="h-2.5 w-2.5" />
40:       </div>
41:     )}
42:   </ResizablePrimitive.PanelResizeHandle>
43: );
44: 
45: export { ResizablePanelGroup, ResizablePanel, ResizableHandle };
```

## components\ui\scroll-area.tsx

- Characters: 1856
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import * as ScrollAreaPrimitive from '@radix-ui/react-scroll-area';
 5: 
 6: import { cn } from '@/lib/utils';
 7: 
 8: const ScrollArea = React.forwardRef<
 9:   React.ElementRef<typeof ScrollAreaPrimitive.Root>,
10:   React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>
11: >(({ className, children, ...props }, ref) => (
12:   <ScrollAreaPrimitive.Root
13:     ref={ref}
14:     className={cn('relative overflow-hidden', className)}
15:     {...props}
16:   >
17:     <ScrollAreaPrimitive.Viewport className="h-full w-full rounded-[inherit]">
18:       {children}
19:     </ScrollAreaPrimitive.Viewport>
20:     <ScrollBar />
21:     <ScrollAreaPrimitive.Corner />
22:   </ScrollAreaPrimitive.Root>
23: ));
24: ScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;
25: 
26: const ScrollBar = React.forwardRef<
27:   React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,
28:   React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>
29: >(({ className, orientation = 'vertical', ...props }, ref) => (
30:   <ScrollAreaPrimitive.ScrollAreaScrollbar
31:     ref={ref}
32:     orientation={orientation}
33:     className={cn(
34:       'flex touch-none select-none transition-colors',
35:       orientation === 'vertical' &&
36:         'h-full w-2.5 border-l border-l-transparent p-[1px]',
37:       orientation === 'horizontal' &&
38:         'h-2.5 flex-col border-t border-t-transparent p-[1px]',
39:       className
40:     )}
41:     {...props}
42:   >
43:     <ScrollAreaPrimitive.ScrollAreaThumb className="relative flex-1 rounded-full bg-border" />
44:   </ScrollAreaPrimitive.ScrollAreaScrollbar>
45: ));
46: ScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName;
47: 
48: export { ScrollArea, ScrollBar };
```

## components\ui\select.tsx

- Characters: 6451
- Tokens: 0

```text
  1: 'use client';
  2: 
  3: import * as React from 'react';
  4: import * as SelectPrimitive from '@radix-ui/react-select';
  5: import { Check, ChevronDown, ChevronUp } from 'lucide-react';
  6: 
  7: import { cn } from '@/lib/utils';
  8: 
  9: const Select = SelectPrimitive.Root;
 10: 
 11: const SelectGroup = SelectPrimitive.Group;
 12: 
 13: const SelectValue = SelectPrimitive.Value;
 14: 
 15: const SelectTrigger = React.forwardRef<
 16:   React.ElementRef<typeof SelectPrimitive.Trigger>,
 17:   React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>
 18: >(({ className, children, ...props }, ref) => (
 19:   <SelectPrimitive.Trigger
 20:     ref={ref}
 21:     className={cn(
 22:       'flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1',
 23:       className
 24:     )}
 25:     {...props}
 26:   >
 27:     {children}
 28:     <SelectPrimitive.Icon asChild>
 29:       <ChevronDown className="h-4 w-4 opacity-50" />
 30:     </SelectPrimitive.Icon>
 31:   </SelectPrimitive.Trigger>
 32: ));
 33: SelectTrigger.displayName = SelectPrimitive.Trigger.displayName;
 34: 
 35: const SelectScrollUpButton = React.forwardRef<
 36:   React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,
 37:   React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>
 38: >(({ className, ...props }, ref) => (
 39:   <SelectPrimitive.ScrollUpButton
 40:     ref={ref}
 41:     className={cn(
 42:       'flex cursor-default items-center justify-center py-1',
 43:       className
 44:     )}
 45:     {...props}
 46:   >
 47:     <ChevronUp className="h-4 w-4" />
 48:   </SelectPrimitive.ScrollUpButton>
 49: ));
 50: SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;
 51: 
 52: const SelectScrollDownButton = React.forwardRef<
 53:   React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,
 54:   React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>
 55: >(({ className, ...props }, ref) => (
 56:   <SelectPrimitive.ScrollDownButton
 57:     ref={ref}
 58:     className={cn(
 59:       'flex cursor-default items-center justify-center py-1',
 60:       className
 61:     )}
 62:     {...props}
 63:   >
 64:     <ChevronDown className="h-4 w-4" />
 65:   </SelectPrimitive.ScrollDownButton>
 66: ));
 67: SelectScrollDownButton.displayName =
 68:   SelectPrimitive.ScrollDownButton.displayName;
 69: 
 70: const SelectContent = React.forwardRef<
 71:   React.ElementRef<typeof SelectPrimitive.Content>,
 72:   React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>
 73: >(({ className, children, position = 'popper', ...props }, ref) => (
 74:   <SelectPrimitive.Portal>
 75:     <SelectPrimitive.Content
 76:       ref={ref}
 77:       className={cn(
 78:         'relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
 79:         position === 'popper' &&
 80:           'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',
 81:         className
 82:       )}
 83:       position={position}
 84:       {...props}
 85:     >
 86:       <SelectScrollUpButton />
 87:       <SelectPrimitive.Viewport
 88:         className={cn(
 89:           'p-1',
 90:           position === 'popper' &&
 91:             'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]'
 92:         )}
 93:       >
 94:         {children}
 95:       </SelectPrimitive.Viewport>
 96:       <SelectScrollDownButton />
 97:     </SelectPrimitive.Content>
 98:   </SelectPrimitive.Portal>
 99: ));
100: SelectContent.displayName = SelectPrimitive.Content.displayName;
101: 
102: const SelectLabel = React.forwardRef<
103:   React.ElementRef<typeof SelectPrimitive.Label>,
104:   React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>
105: >(({ className, ...props }, ref) => (
106:   <SelectPrimitive.Label
107:     ref={ref}
108:     className={cn('py-1.5 pl-8 pr-2 text-sm font-semibold', className)}
109:     {...props}
110:   />
111: ));
112: SelectLabel.displayName = SelectPrimitive.Label.displayName;
113: 
114: const SelectItem = React.forwardRef<
115:   React.ElementRef<typeof SelectPrimitive.Item>,
116:   React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>
117: >(({ className, children, ...props }, ref) => (
118:   <SelectPrimitive.Item
119:     ref={ref}
120:     className={cn(
121:       'relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
122:       className
123:     )}
124:     {...props}
125:   >
126:     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
127:       <SelectPrimitive.ItemIndicator>
128:         <Check className="h-4 w-4" />
129:       </SelectPrimitive.ItemIndicator>
130:     </span>
131: 
132:     <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
133:   </SelectPrimitive.Item>
134: ));
135: SelectItem.displayName = SelectPrimitive.Item.displayName;
136: 
137: const SelectSeparator = React.forwardRef<
138:   React.ElementRef<typeof SelectPrimitive.Separator>,
139:   React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>
140: >(({ className, ...props }, ref) => (
141:   <SelectPrimitive.Separator
142:     ref={ref}
143:     className={cn('-mx-1 my-1 h-px bg-muted', className)}
144:     {...props}
145:   />
146: ));
147: SelectSeparator.displayName = SelectPrimitive.Separator.displayName;
148: 
149: export {
150:   Select,
151:   SelectGroup,
152:   SelectValue,
153:   SelectTrigger,
154:   SelectContent,
155:   SelectLabel,
156:   SelectItem,
157:   SelectSeparator,
158:   SelectScrollUpButton,
159:   SelectScrollDownButton,
160: };
```

## components\ui\separator.tsx

- Characters: 900
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import * as SeparatorPrimitive from '@radix-ui/react-separator';
 5: 
 6: import { cn } from '@/lib/utils';
 7: 
 8: const Separator = React.forwardRef<
 9:   React.ElementRef<typeof SeparatorPrimitive.Root>,
10:   React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>
11: >(
12:   (
13:     { className, orientation = 'horizontal', decorative = true, ...props },
14:     ref
15:   ) => (
16:     <SeparatorPrimitive.Root
17:       ref={ref}
18:       decorative={decorative}
19:       orientation={orientation}
20:       className={cn(
21:         'shrink-0 bg-border',
22:         orientation === 'horizontal' ? 'h-[1px] w-full' : 'h-full w-[1px]',
23:         className
24:       )}
25:       {...props}
26:     />
27:   )
28: );
29: Separator.displayName = SeparatorPrimitive.Root.displayName;
30: 
31: export { Separator };
```

## components\ui\sheet.tsx

- Characters: 5004
- Tokens: 0

```text
  1: 'use client';
  2: 
  3: import * as React from 'react';
  4: import * as SheetPrimitive from '@radix-ui/react-dialog';
  5: import { cva, type VariantProps } from 'class-variance-authority';
  6: import { X } from 'lucide-react';
  7: 
  8: import { cn } from '@/lib/utils';
  9: 
 10: const Sheet = SheetPrimitive.Root;
 11: 
 12: const SheetTrigger = SheetPrimitive.Trigger;
 13: 
 14: const SheetClose = SheetPrimitive.Close;
 15: 
 16: const SheetPortal = SheetPrimitive.Portal;
 17: 
 18: const SheetOverlay = React.forwardRef<
 19:   React.ElementRef<typeof SheetPrimitive.Overlay>,
 20:   React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>
 21: >(({ className, ...props }, ref) => (
 22:   <SheetPrimitive.Overlay
 23:     className={cn(
 24:       'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',
 25:       className
 26:     )}
 27:     {...props}
 28:     ref={ref}
 29:   />
 30: ));
 31: SheetOverlay.displayName = SheetPrimitive.Overlay.displayName;
 32: 
 33: const sheetVariants = cva(
 34:   'fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500',
 35:   {
 36:     variants: {
 37:       side: {
 38:         top: 'inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top',
 39:         bottom:
 40:           'inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom',
 41:         left: 'inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm',
 42:         right:
 43:           'inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm',
 44:       },
 45:     },
 46:     defaultVariants: {
 47:       side: 'right',
 48:     },
 49:   }
 50: );
 51: 
 52: interface SheetContentProps
 53:   extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,
 54:     VariantProps<typeof sheetVariants> {}
 55: 
 56: const SheetContent = React.forwardRef<
 57:   React.ElementRef<typeof SheetPrimitive.Content>,
 58:   SheetContentProps
 59: >(({ side = 'right', className, children, ...props }, ref) => (
 60:   <SheetPortal>
 61:     <SheetOverlay />
 62:     <SheetPrimitive.Content
 63:       ref={ref}
 64:       className={cn(sheetVariants({ side }), className)}
 65:       {...props}
 66:     >
 67:       {children}
 68:       <SheetPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary">
 69:         <X className="h-4 w-4" />
 70:         <span className="sr-only">Close</span>
 71:       </SheetPrimitive.Close>
 72:     </SheetPrimitive.Content>
 73:   </SheetPortal>
 74: ));
 75: SheetContent.displayName = SheetPrimitive.Content.displayName;
 76: 
 77: const SheetHeader = ({
 78:   className,
 79:   ...props
 80: }: React.HTMLAttributes<HTMLDivElement>) => (
 81:   <div
 82:     className={cn(
 83:       'flex flex-col space-y-2 text-center sm:text-left',
 84:       className
 85:     )}
 86:     {...props}
 87:   />
 88: );
 89: SheetHeader.displayName = 'SheetHeader';
 90: 
 91: const SheetFooter = ({
 92:   className,
 93:   ...props
 94: }: React.HTMLAttributes<HTMLDivElement>) => (
 95:   <div
 96:     className={cn(
 97:       'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',
 98:       className
 99:     )}
100:     {...props}
101:   />
102: );
103: SheetFooter.displayName = 'SheetFooter';
104: 
105: const SheetTitle = React.forwardRef<
106:   React.ElementRef<typeof SheetPrimitive.Title>,
107:   React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>
108: >(({ className, ...props }, ref) => (
109:   <SheetPrimitive.Title
110:     ref={ref}
111:     className={cn('text-lg font-semibold text-foreground', className)}
112:     {...props}
113:   />
114: ));
115: SheetTitle.displayName = SheetPrimitive.Title.displayName;
116: 
117: const SheetDescription = React.forwardRef<
118:   React.ElementRef<typeof SheetPrimitive.Description>,
119:   React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>
120: >(({ className, ...props }, ref) => (
121:   <SheetPrimitive.Description
122:     ref={ref}
123:     className={cn('text-sm text-muted-foreground', className)}
124:     {...props}
125:   />
126: ));
127: SheetDescription.displayName = SheetPrimitive.Description.displayName;
128: 
129: export {
130:   Sheet,
131:   SheetPortal,
132:   SheetOverlay,
133:   SheetTrigger,
134:   SheetClose,
135:   SheetContent,
136:   SheetHeader,
137:   SheetFooter,
138:   SheetTitle,
139:   SheetDescription,
140: };
```

## components\ui\skeleton.tsx

- Characters: 320
- Tokens: 0

```text
 1: import { cn } from "@/lib/utils"
 2: 
 3: function Skeleton({
 4:   className,
 5:   ...props
 6: }: React.HTMLAttributes<HTMLDivElement>) {
 7:   return (
 8:     <div
 9:       className={cn("animate-pulse rounded-md bg-muted", className)}
10:       {...props}
11:     />
12:   )
13: }
14: 
15: export { Skeleton }
```

## components\ui\slider.tsx

- Characters: 1209
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import * as SliderPrimitive from '@radix-ui/react-slider';
 5: 
 6: import { cn } from '@/lib/utils';
 7: 
 8: const Slider = React.forwardRef<
 9:   React.ElementRef<typeof SliderPrimitive.Root>,
10:   React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>
11: >(({ className, ...props }, ref) => (
12:   <SliderPrimitive.Root
13:     ref={ref}
14:     className={cn(
15:       'relative flex w-full touch-none select-none items-center',
16:       className
17:     )}
18:     {...props}
19:   >
20:     <SliderPrimitive.Track className="relative h-2 w-full grow overflow-hidden rounded-full bg-secondary">
21:       <SliderPrimitive.Range className="absolute h-full bg-primary" />
22:     </SliderPrimitive.Track>
23:     <SliderPrimitive.Thumb className="block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50" />
24:   </SliderPrimitive.Root>
25: ));
26: Slider.displayName = SliderPrimitive.Root.displayName;
27: 
28: export { Slider };
```

## components\ui\sonner.tsx

- Characters: 1025
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import { useTheme } from 'next-themes';
 4: import { Toaster as Sonner } from 'sonner';
 5: 
 6: type ToasterProps = React.ComponentProps<typeof Sonner>;
 7: 
 8: const Toaster = ({ ...props }: ToasterProps) => {
 9:   const { theme = 'system' } = useTheme();
10: 
11:   return (
12:     <Sonner
13:       theme={theme as ToasterProps['theme']}
14:       className="toaster group"
15:       toastOptions={{
16:         classNames: {
17:           toast:
18:             'group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg',
19:           description: 'group-[.toast]:text-muted-foreground',
20:           actionButton:
21:             'group-[.toast]:bg-primary group-[.toast]:text-primary-foreground',
22:           cancelButton:
23:             'group-[.toast]:bg-muted group-[.toast]:text-muted-foreground',
24:         },
25:       }}
26:       {...props}
27:     />
28:   );
29: };
30: 
31: export { Toaster };
```

## components\ui\switch.tsx

- Characters: 1275
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import * as SwitchPrimitives from '@radix-ui/react-switch';
 5: 
 6: import { cn } from '@/lib/utils';
 7: 
 8: const Switch = React.forwardRef<
 9:   React.ElementRef<typeof SwitchPrimitives.Root>,
10:   React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>
11: >(({ className, ...props }, ref) => (
12:   <SwitchPrimitives.Root
13:     className={cn(
14:       'peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input',
15:       className
16:     )}
17:     {...props}
18:     ref={ref}
19:   >
20:     <SwitchPrimitives.Thumb
21:       className={cn(
22:         'pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0'
23:       )}
24:     />
25:   </SwitchPrimitives.Root>
26: ));
27: Switch.displayName = SwitchPrimitives.Root.displayName;
28: 
29: export { Switch };
```

## components\ui\table.tsx

- Characters: 3368
- Tokens: 0

```text
  1: import * as React from 'react';
  2: 
  3: import { cn } from '@/lib/utils';
  4: 
  5: const Table = React.forwardRef<
  6:   HTMLTableElement,
  7:   React.HTMLAttributes<HTMLTableElement>
  8: >(({ className, ...props }, ref) => (
  9:   <div className="relative w-full overflow-auto">
 10:     <table
 11:       ref={ref}
 12:       className={cn('w-full caption-bottom text-sm', className)}
 13:       {...props}
 14:     />
 15:   </div>
 16: ));
 17: Table.displayName = 'Table';
 18: 
 19: const TableHeader = React.forwardRef<
 20:   HTMLTableSectionElement,
 21:   React.HTMLAttributes<HTMLTableSectionElement>
 22: >(({ className, ...props }, ref) => (
 23:   <thead ref={ref} className={cn('[&_tr]:border-b', className)} {...props} />
 24: ));
 25: TableHeader.displayName = 'TableHeader';
 26: 
 27: const TableBody = React.forwardRef<
 28:   HTMLTableSectionElement,
 29:   React.HTMLAttributes<HTMLTableSectionElement>
 30: >(({ className, ...props }, ref) => (
 31:   <tbody
 32:     ref={ref}
 33:     className={cn('[&_tr:last-child]:border-0', className)}
 34:     {...props}
 35:   />
 36: ));
 37: TableBody.displayName = 'TableBody';
 38: 
 39: const TableFooter = React.forwardRef<
 40:   HTMLTableSectionElement,
 41:   React.HTMLAttributes<HTMLTableSectionElement>
 42: >(({ className, ...props }, ref) => (
 43:   <tfoot
 44:     ref={ref}
 45:     className={cn(
 46:       'border-t bg-muted/50 font-medium [&>tr]:last:border-b-0',
 47:       className
 48:     )}
 49:     {...props}
 50:   />
 51: ));
 52: TableFooter.displayName = 'TableFooter';
 53: 
 54: const TableRow = React.forwardRef<
 55:   HTMLTableRowElement,
 56:   React.HTMLAttributes<HTMLTableRowElement>
 57: >(({ className, ...props }, ref) => (
 58:   <tr
 59:     ref={ref}
 60:     className={cn(
 61:       'border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted',
 62:       className
 63:     )}
 64:     {...props}
 65:   />
 66: ));
 67: TableRow.displayName = 'TableRow';
 68: 
 69: const TableHead = React.forwardRef<
 70:   HTMLTableCellElement,
 71:   React.ThHTMLAttributes<HTMLTableCellElement>
 72: >(({ className, ...props }, ref) => (
 73:   <th
 74:     ref={ref}
 75:     className={cn(
 76:       'h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0',
 77:       className
 78:     )}
 79:     {...props}
 80:   />
 81: ));
 82: TableHead.displayName = 'TableHead';
 83: 
 84: const TableCell = React.forwardRef<
 85:   HTMLTableCellElement,
 86:   React.TdHTMLAttributes<HTMLTableCellElement>
 87: >(({ className, ...props }, ref) => (
 88:   <td
 89:     ref={ref}
 90:     className={cn('p-4 align-middle [&:has([role=checkbox])]:pr-0', className)}
 91:     {...props}
 92:   />
 93: ));
 94: TableCell.displayName = 'TableCell';
 95: 
 96: const TableCaption = React.forwardRef<
 97:   HTMLTableCaptionElement,
 98:   React.HTMLAttributes<HTMLTableCaptionElement>
 99: >(({ className, ...props }, ref) => (
100:   <caption
101:     ref={ref}
102:     className={cn('mt-4 text-sm text-muted-foreground', className)}
103:     {...props}
104:   />
105: ));
106: TableCaption.displayName = 'TableCaption';
107: 
108: export {
109:   Table,
110:   TableHeader,
111:   TableBody,
112:   TableFooter,
113:   TableHead,
114:   TableRow,
115:   TableCell,
116:   TableCaption,
117: };
```

## components\ui\tabs.tsx

- Characters: 2128
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import * as TabsPrimitive from '@radix-ui/react-tabs';
 5: 
 6: import { cn } from '@/lib/utils';
 7: 
 8: const Tabs = TabsPrimitive.Root;
 9: 
10: const TabsList = React.forwardRef<
11:   React.ElementRef<typeof TabsPrimitive.List>,
12:   React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>
13: >(({ className, ...props }, ref) => (
14:   <TabsPrimitive.List
15:     ref={ref}
16:     className={cn(
17:       'inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground',
18:       className
19:     )}
20:     {...props}
21:   />
22: ));
23: TabsList.displayName = TabsPrimitive.List.displayName;
24: 
25: const TabsTrigger = React.forwardRef<
26:   React.ElementRef<typeof TabsPrimitive.Trigger>,
27:   React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>
28: >(({ className, ...props }, ref) => (
29:   <TabsPrimitive.Trigger
30:     ref={ref}
31:     className={cn(
32:       'inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm',
33:       className
34:     )}
35:     {...props}
36:   />
37: ));
38: TabsTrigger.displayName = TabsPrimitive.Trigger.displayName;
39: 
40: const TabsContent = React.forwardRef<
41:   React.ElementRef<typeof TabsPrimitive.Content>,
42:   React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>
43: >(({ className, ...props }, ref) => (
44:   <TabsPrimitive.Content
45:     ref={ref}
46:     className={cn(
47:       'mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2',
48:       className
49:     )}
50:     {...props}
51:   />
52: ));
53: TabsContent.displayName = TabsPrimitive.Content.displayName;
54: 
55: export { Tabs, TabsList, TabsTrigger, TabsContent };
```

## components\ui\textarea.tsx

- Characters: 873
- Tokens: 0

```text
 1: import * as React from 'react';
 2: 
 3: import { cn } from '@/lib/utils';
 4: 
 5: export interface TextareaProps
 6:   extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}
 7: 
 8: const Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(
 9:   ({ className, ...props }, ref) => {
10:     return (
11:       <textarea
12:         className={cn(
13:           'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',
14:           className
15:         )}
16:         ref={ref}
17:         {...props}
18:       />
19:     );
20:   }
21: );
22: Textarea.displayName = 'Textarea';
23: 
24: export { Textarea };
```

## components\ui\toast.tsx

- Characters: 5527
- Tokens: 0

```text
  1: 'use client';
  2: 
  3: import * as React from 'react';
  4: import * as ToastPrimitives from '@radix-ui/react-toast';
  5: import { cva, type VariantProps } from 'class-variance-authority';
  6: import { X } from 'lucide-react';
  7: 
  8: import { cn } from '@/lib/utils';
  9: 
 10: const ToastProvider = ToastPrimitives.Provider;
 11: 
 12: const ToastViewport = React.forwardRef<
 13:   React.ElementRef<typeof ToastPrimitives.Viewport>,
 14:   React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>
 15: >(({ className, ...props }, ref) => (
 16:   <ToastPrimitives.Viewport
 17:     ref={ref}
 18:     className={cn(
 19:       'fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]',
 20:       className
 21:     )}
 22:     {...props}
 23:   />
 24: ));
 25: ToastViewport.displayName = ToastPrimitives.Viewport.displayName;
 26: 
 27: const toastVariants = cva(
 28:   'group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full',
 29:   {
 30:     variants: {
 31:       variant: {
 32:         default: 'border bg-background text-foreground',
 33:         destructive:
 34:           'destructive group border-destructive bg-destructive text-destructive-foreground',
 35:       },
 36:     },
 37:     defaultVariants: {
 38:       variant: 'default',
 39:     },
 40:   }
 41: );
 42: 
 43: const Toast = React.forwardRef<
 44:   React.ElementRef<typeof ToastPrimitives.Root>,
 45:   React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &
 46:     VariantProps<typeof toastVariants>
 47: >(({ className, variant, ...props }, ref) => {
 48:   return (
 49:     <ToastPrimitives.Root
 50:       ref={ref}
 51:       className={cn(toastVariants({ variant }), className)}
 52:       {...props}
 53:     />
 54:   );
 55: });
 56: Toast.displayName = ToastPrimitives.Root.displayName;
 57: 
 58: const ToastAction = React.forwardRef<
 59:   React.ElementRef<typeof ToastPrimitives.Action>,
 60:   React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>
 61: >(({ className, ...props }, ref) => (
 62:   <ToastPrimitives.Action
 63:     ref={ref}
 64:     className={cn(
 65:       'inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive',
 66:       className
 67:     )}
 68:     {...props}
 69:   />
 70: ));
 71: ToastAction.displayName = ToastPrimitives.Action.displayName;
 72: 
 73: const ToastClose = React.forwardRef<
 74:   React.ElementRef<typeof ToastPrimitives.Close>,
 75:   React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>
 76: >(({ className, ...props }, ref) => (
 77:   <ToastPrimitives.Close
 78:     ref={ref}
 79:     className={cn(
 80:       'absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600',
 81:       className
 82:     )}
 83:     toast-close=""
 84:     {...props}
 85:   >
 86:     <X className="h-4 w-4" />
 87:   </ToastPrimitives.Close>
 88: ));
 89: ToastClose.displayName = ToastPrimitives.Close.displayName;
 90: 
 91: const ToastTitle = React.forwardRef<
 92:   React.ElementRef<typeof ToastPrimitives.Title>,
 93:   React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>
 94: >(({ className, ...props }, ref) => (
 95:   <ToastPrimitives.Title
 96:     ref={ref}
 97:     className={cn('text-sm font-semibold', className)}
 98:     {...props}
 99:   />
100: ));
101: ToastTitle.displayName = ToastPrimitives.Title.displayName;
102: 
103: const ToastDescription = React.forwardRef<
104:   React.ElementRef<typeof ToastPrimitives.Description>,
105:   React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>
106: >(({ className, ...props }, ref) => (
107:   <ToastPrimitives.Description
108:     ref={ref}
109:     className={cn('text-sm opacity-90', className)}
110:     {...props}
111:   />
112: ));
113: ToastDescription.displayName = ToastPrimitives.Description.displayName;
114: 
115: type ToastProps = React.ComponentPropsWithoutRef<typeof Toast>;
116: 
117: type ToastActionElement = React.ReactElement<typeof ToastAction>;
118: 
119: export {
120:   type ToastProps,
121:   type ToastActionElement,
122:   ToastProvider,
123:   ToastViewport,
124:   Toast,
125:   ToastTitle,
126:   ToastDescription,
127:   ToastClose,
128:   ToastAction,
129: };
```

## components\ui\toaster.tsx

- Characters: 931
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import { useToast } from '@/hooks/use-toast';
 4: import {
 5:   Toast,
 6:   ToastClose,
 7:   ToastDescription,
 8:   ToastProvider,
 9:   ToastTitle,
10:   ToastViewport,
11: } from '@/components/ui/toast';
12: 
13: export function Toaster() {
14:   const { toasts } = useToast();
15: 
16:   return (
17:     <ToastProvider>
18:       {toasts.map(function ({ id, title, description, action, ...props }) {
19:         return (
20:           <Toast key={id} {...props}>
21:             <div className="grid gap-1">
22:               {title && <ToastTitle>{title}</ToastTitle>}
23:               {description && (
24:                 <ToastDescription>{description}</ToastDescription>
25:               )}
26:             </div>
27:             {action}
28:             <ToastClose />
29:           </Toast>
30:         );
31:       })}
32:       <ToastViewport />
33:     </ToastProvider>
34:   );
35: }
```

## components\ui\toggle-group.tsx

- Characters: 2010
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import * as ToggleGroupPrimitive from '@radix-ui/react-toggle-group';
 5: import { type VariantProps } from 'class-variance-authority';
 6: 
 7: import { cn } from '@/lib/utils';
 8: import { toggleVariants } from '@/components/ui/toggle';
 9: 
10: const ToggleGroupContext = React.createContext<
11:   VariantProps<typeof toggleVariants>
12: >({
13:   size: 'default',
14:   variant: 'default',
15: });
16: 
17: const ToggleGroup = React.forwardRef<
18:   React.ElementRef<typeof ToggleGroupPrimitive.Root>,
19:   React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &
20:     VariantProps<typeof toggleVariants>
21: >(({ className, variant, size, children, ...props }, ref) => (
22:   <ToggleGroupPrimitive.Root
23:     ref={ref}
24:     className={cn('flex items-center justify-center gap-1', className)}
25:     {...props}
26:   >
27:     <ToggleGroupContext.Provider value={{ variant, size }}>
28:       {children}
29:     </ToggleGroupContext.Provider>
30:   </ToggleGroupPrimitive.Root>
31: ));
32: 
33: ToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName;
34: 
35: const ToggleGroupItem = React.forwardRef<
36:   React.ElementRef<typeof ToggleGroupPrimitive.Item>,
37:   React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &
38:     VariantProps<typeof toggleVariants>
39: >(({ className, children, variant, size, ...props }, ref) => {
40:   const context = React.useContext(ToggleGroupContext);
41: 
42:   return (
43:     <ToggleGroupPrimitive.Item
44:       ref={ref}
45:       className={cn(
46:         toggleVariants({
47:           variant: context.variant || variant,
48:           size: context.size || size,
49:         }),
50:         className
51:       )}
52:       {...props}
53:     >
54:       {children}
55:     </ToggleGroupPrimitive.Item>
56:   );
57: });
58: 
59: ToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName;
60: 
61: export { ToggleGroup, ToggleGroupItem };
```

## components\ui\toggle.tsx

- Characters: 1637
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import * as TogglePrimitive from '@radix-ui/react-toggle';
 5: import { cva, type VariantProps } from 'class-variance-authority';
 6: 
 7: import { cn } from '@/lib/utils';
 8: 
 9: const toggleVariants = cva(
10:   'inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground',
11:   {
12:     variants: {
13:       variant: {
14:         default: 'bg-transparent',
15:         outline:
16:           'border border-input bg-transparent hover:bg-accent hover:text-accent-foreground',
17:       },
18:       size: {
19:         default: 'h-10 px-3',
20:         sm: 'h-9 px-2.5',
21:         lg: 'h-11 px-5',
22:       },
23:     },
24:     defaultVariants: {
25:       variant: 'default',
26:       size: 'default',
27:     },
28:   }
29: );
30: 
31: const Toggle = React.forwardRef<
32:   React.ElementRef<typeof TogglePrimitive.Root>,
33:   React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &
34:     VariantProps<typeof toggleVariants>
35: >(({ className, variant, size, ...props }, ref) => (
36:   <TogglePrimitive.Root
37:     ref={ref}
38:     className={cn(toggleVariants({ variant, size, className }))}
39:     {...props}
40:   />
41: ));
42: 
43: Toggle.displayName = TogglePrimitive.Root.displayName;
44: 
45: export { Toggle, toggleVariants };
```

## components\ui\tooltip.tsx

- Characters: 1288
- Tokens: 0

```text
 1: 'use client';
 2: 
 3: import * as React from 'react';
 4: import * as TooltipPrimitive from '@radix-ui/react-tooltip';
 5: 
 6: import { cn } from '@/lib/utils';
 7: 
 8: const TooltipProvider = TooltipPrimitive.Provider;
 9: 
10: const Tooltip = TooltipPrimitive.Root;
11: 
12: const TooltipTrigger = TooltipPrimitive.Trigger;
13: 
14: const TooltipContent = React.forwardRef<
15:   React.ElementRef<typeof TooltipPrimitive.Content>,
16:   React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>
17: >(({ className, sideOffset = 4, ...props }, ref) => (
18:   <TooltipPrimitive.Content
19:     ref={ref}
20:     sideOffset={sideOffset}
21:     className={cn(
22:       'z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
23:       className
24:     )}
25:     {...props}
26:   />
27: ));
28: TooltipContent.displayName = TooltipPrimitive.Content.displayName;
29: 
30: export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };
```

## components.json

- Characters: 496
- Tokens: 0

```json
 1: {
 2:   "$schema": "https://ui.shadcn.com/schema.json",
 3:   "style": "default",
 4:   "rsc": true,
 5:   "tsx": true,
 6:   "tailwind": {
 7:     "config": "tailwind.config.ts",
 8:     "css": "app/globals.css",
 9:     "baseColor": "neutral",
10:     "cssVariables": true,
11:     "prefix": ""
12:   },
13:   "aliases": {
14:     "components": "@/components",
15:     "utils": "@/lib/utils",
16:     "ui": "@/components/ui",
17:     "lib": "@/lib",
18:     "hooks": "@/hooks"
19:   }
20: }
```

## hooks\use-auth.tsx

- Characters: 3757
- Tokens: 0

```text
  1: "use client";
  2: 
  3: import React, { createContext, useContext, useEffect, useState } from 'react';
  4: import { useRouter } from 'next/navigation';
  5: import { UserRole } from '@prisma/client';
  6: 
  7: export interface AuthUser {
  8:   id: string;
  9:   email: string;
 10:   name: string;
 11:   role: UserRole;
 12: }
 13: 
 14: interface AuthContextType {
 15:   user: AuthUser | null;
 16:   token: string | null;
 17:   login: (email: string, password: string) => Promise<void>;
 18:   logout: () => void;
 19:   isLoading: boolean;
 20:   error: string | null;
 21: }
 22: 
 23: const AuthContext = createContext<AuthContextType>({
 24:   user: null,
 25:   token: null,
 26:   login: async () => {},
 27:   logout: () => {},
 28:   isLoading: false,
 29:   error: null,
 30: });
 31: 
 32: export const useAuth = () => useContext(AuthContext);
 33: 
 34: export function AuthProvider({ children }: { children: React.ReactNode }) {
 35:   const [user, setUser] = useState<AuthUser | null>(null);
 36:   const [token, setToken] = useState<string | null>(null);
 37:   const [isLoading, setIsLoading] = useState(false);
 38:   const [error, setError] = useState<string | null>(null);
 39:   const [isInitialized, setIsInitialized] = useState(false);
 40:   const router = useRouter();
 41: 
 42:   // Initialize auth state from localStorage
 43:   useEffect(() => {
 44:     if (typeof window !== 'undefined') {
 45:       const storedToken = localStorage.getItem("token");
 46:       const storedUser = localStorage.getItem("user");
 47: 
 48:       if (storedToken && storedUser) {
 49:         try {
 50:           setToken(storedToken);
 51:           setUser(JSON.parse(storedUser));
 52:         } catch (e) {
 53:           console.error("Failed to parse stored user:", e);
 54:           localStorage.removeItem("token");
 55:           localStorage.removeItem("user");
 56:         }
 57:       }
 58:       
 59:       setIsInitialized(true);
 60:     }
 61:   }, []);
 62: 
 63:   const login = async (email: string, password: string) => {
 64:     setIsLoading(true);
 65:     setError(null);
 66: 
 67:     try {
 68:       const response = await fetch("/api/auth/login", {
 69:         method: "POST",
 70:         headers: {
 71:           "Content-Type": "application/json",
 72:         },
 73:         body: JSON.stringify({ email, password }),
 74:       });
 75: 
 76:       const data = await response.json();
 77: 
 78:       if (!response.ok) {
 79:         throw new Error(data.error || "Login failed");
 80:       }
 81: 
 82:       // Store token and user in localStorage
 83:       if (typeof window !== 'undefined') {
 84:         localStorage.setItem("token", data.token);
 85:         localStorage.setItem("user", JSON.stringify(data.user));
 86:       }
 87: 
 88:       setToken(data.token);
 89:       setUser(data.user);
 90:       
 91:       return data;
 92:     } catch (err) {
 93:       const errorMessage = err instanceof Error ? err.message : "An unexpected error occurred";
 94:       setError(errorMessage);
 95:       throw err;
 96:     } finally {
 97:       setIsLoading(false);
 98:     }
 99:   };
100: 
101:   const logout = () => {
102:     if (typeof window !== 'undefined') {
103:       localStorage.removeItem("token");
104:       localStorage.removeItem("user");
105:     }
106:     setToken(null);
107:     setUser(null);
108:     router.push("/login");
109:   };
110: 
111:   const contextValue = {
112:     user,
113:     token,
114:     login,
115:     logout,
116:     isLoading,
117:     error
118:   };
119: 
120:   return (
121:     <AuthContext.Provider value={contextValue}>
122:       {isInitialized ? children : null}
123:     </AuthContext.Provider>
124:   );
125: }
```

## hooks\use-toast.ts

- Characters: 4959
- Tokens: 0

```typescript
  1: 'use client';
  2: 
  3: // Inspired by react-hot-toast library
  4: import * as React from 'react';
  5: 
  6: import type { ToastActionElement, ToastProps } from '@/components/ui/toast';
  7: 
  8: const TOAST_LIMIT = 1;
  9: const TOAST_REMOVE_DELAY = 1000000;
 10: 
 11: type ToasterToast = ToastProps & {
 12:   id: string;
 13:   title?: React.ReactNode;
 14:   description?: React.ReactNode;
 15:   action?: ToastActionElement;
 16: };
 17: 
 18: const actionTypes = {
 19:   ADD_TOAST: 'ADD_TOAST',
 20:   UPDATE_TOAST: 'UPDATE_TOAST',
 21:   DISMISS_TOAST: 'DISMISS_TOAST',
 22:   REMOVE_TOAST: 'REMOVE_TOAST',
 23: } as const;
 24: 
 25: let count = 0;
 26: 
 27: function genId() {
 28:   count = (count + 1) % Number.MAX_SAFE_INTEGER;
 29:   return count.toString();
 30: }
 31: 
 32: type ActionType = typeof actionTypes;
 33: 
 34: type Action =
 35:   | {
 36:       type: ActionType['ADD_TOAST'];
 37:       toast: ToasterToast;
 38:     }
 39:   | {
 40:       type: ActionType['UPDATE_TOAST'];
 41:       toast: Partial<ToasterToast>;
 42:     }
 43:   | {
 44:       type: ActionType['DISMISS_TOAST'];
 45:       toastId?: ToasterToast['id'];
 46:     }
 47:   | {
 48:       type: ActionType['REMOVE_TOAST'];
 49:       toastId?: ToasterToast['id'];
 50:     };
 51: 
 52: interface State {
 53:   toasts: ToasterToast[];
 54: }
 55: 
 56: const toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>();
 57: 
 58: const addToRemoveQueue = (toastId: string) => {
 59:   if (toastTimeouts.has(toastId)) {
 60:     return;
 61:   }
 62: 
 63:   const timeout = setTimeout(() => {
 64:     toastTimeouts.delete(toastId);
 65:     dispatch({
 66:       type: 'REMOVE_TOAST',
 67:       toastId: toastId,
 68:     });
 69:   }, TOAST_REMOVE_DELAY);
 70: 
 71:   toastTimeouts.set(toastId, timeout);
 72: };
 73: 
 74: export const reducer = (state: State, action: Action): State => {
 75:   switch (action.type) {
 76:     case 'ADD_TOAST':
 77:       return {
 78:         ...state,
 79:         toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
 80:       };
 81: 
 82:     case 'UPDATE_TOAST':
 83:       return {
 84:         ...state,
 85:         toasts: state.toasts.map((t) =>
 86:           t.id === action.toast.id ? { ...t, ...action.toast } : t
 87:         ),
 88:       };
 89: 
 90:     case 'DISMISS_TOAST': {
 91:       const { toastId } = action;
 92: 
 93:       // ! Side effects ! - This could be extracted into a dismissToast() action,
 94:       // but I'll keep it here for simplicity
 95:       if (toastId) {
 96:         addToRemoveQueue(toastId);
 97:       } else {
 98:         state.toasts.forEach((toast) => {
 99:           addToRemoveQueue(toast.id);
100:         });
101:       }
102: 
103:       return {
104:         ...state,
105:         toasts: state.toasts.map((t) =>
106:           t.id === toastId || toastId === undefined
107:             ? {
108:                 ...t,
109:                 open: false,
110:               }
111:             : t
112:         ),
113:       };
114:     }
115:     case 'REMOVE_TOAST':
116:       if (action.toastId === undefined) {
117:         return {
118:           ...state,
119:           toasts: [],
120:         };
121:       }
122:       return {
123:         ...state,
124:         toasts: state.toasts.filter((t) => t.id !== action.toastId),
125:       };
126:   }
127: };
128: 
129: const listeners: Array<(state: State) => void> = [];
130: 
131: let memoryState: State = { toasts: [] };
132: 
133: function dispatch(action: Action) {
134:   memoryState = reducer(memoryState, action);
135:   listeners.forEach((listener) => {
136:     listener(memoryState);
137:   });
138: }
139: 
140: type Toast = Omit<ToasterToast, 'id'>;
141: 
142: function toast({ ...props }: Toast) {
143:   const id = genId();
144: 
145:   const update = (props: ToasterToast) =>
146:     dispatch({
147:       type: 'UPDATE_TOAST',
148:       toast: { ...props, id },
149:     });
150:   const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id });
151: 
152:   dispatch({
153:     type: 'ADD_TOAST',
154:     toast: {
155:       ...props,
156:       id,
157:       open: true,
158:       onOpenChange: (open) => {
159:         if (!open) dismiss();
160:       },
161:     },
162:   });
163: 
164:   return {
165:     id: id,
166:     dismiss,
167:     update,
168:   };
169: }
170: 
171: function useToast() {
172:   const [state, setState] = React.useState<State>(memoryState);
173: 
174:   React.useEffect(() => {
175:     listeners.push(setState);
176:     return () => {
177:       const index = listeners.indexOf(setState);
178:       if (index > -1) {
179:         listeners.splice(index, 1);
180:       }
181:     };
182:   }, [state]);
183: 
184:   return {
185:     ...state,
186:     toast,
187:     dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),
188:   };
189: }
190: 
191: export { useToast, toast };
```

## middleware.ts

- Characters: 961
- Tokens: 0

```typescript
 1: import { NextRequest, NextResponse } from "next/server";
 2: 
 3: // Paths that don't require authentication
 4: const publicPaths = ["/", "/login"];
 5: 
 6: export async function middleware(request: NextRequest) {
 7:   // With client-side authentication using localStorage, we don't need
 8:   // server-side middleware for authentication checks.
 9:   // The client components will handle redirects based on auth state.
10:   
11:   // Just pass through all requests
12:   return NextResponse.next();
13: }
14: 
15: // Update the matcher to exclude API routes from middleware
16: export const config = {
17:   matcher: [
18:     /*
19:      * Match all request paths except for the ones starting with:
20:      * - api (API routes)
21:      * - _next/static (static files)
22:      * - _next/image (image optimization files)
23:      * - favicon.ico (favicon file)
24:      */
25:     '/((?!api|_next/static|_next/image|favicon.ico).*)',
26:   ],
27: };
```

## netlify.toml

- Characters: 207
- Tokens: 0

```text
 1: [build]
 2:   command = "npm run build"
 3:   publish = "out"
 4: 
 5: [build.environment]
 6:   NODE_VERSION = "18"
 7:   
 8: [[redirects]]
 9:   from = "/*"
10:   to = "/index.html"
11:   status = 200
```

## next.config.js

- Characters: 381
- Tokens: 0

```javascript
 1: /** @type {import('next').NextConfig} */
 2: const nextConfig = {
 3:   // 確保沒有 output: 'export' 以允許 API 路由運行
 4:   eslint: {
 5:     ignoreDuringBuilds: true,
 6:   },
 7:   images: { unoptimized: true },
 8:   // 添加環境變量配置
 9:   env: {
10:     IS_WEBCONTAINER: true,
11:     JWT_SECRET: 'fashion-inventory-jwt-secret-key',
12:   },
13: };
14: 
15: module.exports = nextConfig;
```

## package.json

- Characters: 3002
- Tokens: 0

```json
 1: {
 2:   "name": "fashion-inventory-system",
 3:   "version": "0.1.0",
 4:   "private": true,
 5:   "scripts": {
 6:     "dev": "next dev",
 7:     "build": "next build",
 8:     "start": "next start",
 9:     "lint": "next lint",
10:     "postinstall": "prisma generate",
11:     "seed": "ts-node --compiler-options {\"module\":\"CommonJS\"} scripts/seed.ts"
12:   },
13:   "dependencies": {
14:     "@hookform/resolvers": "^3.9.0",
15:     "@next/swc-wasm-nodejs": "13.5.1",
16:     "@prisma/client": "^5.10.2",
17:     "@radix-ui/react-accordion": "^1.2.0",
18:     "@radix-ui/react-alert-dialog": "^1.1.1",
19:     "@radix-ui/react-aspect-ratio": "^1.1.0",
20:     "@radix-ui/react-avatar": "^1.1.0",
21:     "@radix-ui/react-checkbox": "^1.1.1",
22:     "@radix-ui/react-collapsible": "^1.1.0",
23:     "@radix-ui/react-context-menu": "^2.2.1",
24:     "@radix-ui/react-dialog": "^1.1.1",
25:     "@radix-ui/react-dropdown-menu": "^2.1.1",
26:     "@radix-ui/react-hover-card": "^1.1.1",
27:     "@radix-ui/react-label": "^2.1.0",
28:     "@radix-ui/react-menubar": "^1.1.1",
29:     "@radix-ui/react-navigation-menu": "^1.2.0",
30:     "@radix-ui/react-popover": "^1.1.1",
31:     "@radix-ui/react-progress": "^1.1.0",
32:     "@radix-ui/react-radio-group": "^1.2.0",
33:     "@radix-ui/react-scroll-area": "^1.1.0",
34:     "@radix-ui/react-select": "^2.1.1",
35:     "@radix-ui/react-separator": "^1.1.0",
36:     "@radix-ui/react-slider": "^1.2.0",
37:     "@radix-ui/react-slot": "^1.1.0",
38:     "@radix-ui/react-switch": "^1.1.0",
39:     "@radix-ui/react-tabs": "^1.1.0",
40:     "@radix-ui/react-toast": "^1.2.1",
41:     "@radix-ui/react-toggle": "^1.1.0",
42:     "@radix-ui/react-toggle-group": "^1.1.0",
43:     "@radix-ui/react-tooltip": "^1.1.2",
44:     "@types/node": "20.6.2",
45:     "@types/react": "18.2.22",
46:     "@types/react-dom": "18.2.7",
47:     "autoprefixer": "10.4.15",
48:     "bcryptjs": "^2.4.3",
49:     "class-variance-authority": "^0.7.0",
50:     "clsx": "^2.1.1",
51:     "cmdk": "^1.0.0",
52:     "date-fns": "^3.6.0",
53:     "embla-carousel-react": "^8.3.0",
54:     "eslint": "8.49.0",
55:     "eslint-config-next": "13.5.1",
56:     "input-otp": "^1.2.4",
57:     "jose": "^5.2.2",
58:     "lucide-react": "^0.446.0",
59:     "next": "13.5.1",
60:     "next-themes": "^0.3.0",
61:     "postcss": "8.4.30",
62:     "react": "18.2.0",
63:     "react-day-picker": "^8.10.1",
64:     "react-dom": "18.2.0",
65:     "react-hook-form": "^7.53.0",
66:     "react-resizable-panels": "^2.1.3",
67:     "recharts": "^2.12.7",
68:     "sonner": "^1.5.0",
69:     "tailwind-merge": "^2.5.2",
70:     "tailwindcss": "3.3.3",
71:     "tailwindcss-animate": "^1.0.7",
72:     "typescript": "5.2.2",
73:     "vaul": "^0.9.9",
74:     "zod": "^3.23.8"
75:   },
76:   "devDependencies": {
77:     "@types/bcryptjs": "^2.4.6",
78:     "prisma": "^5.10.2",
79:     "ts-node": "^10.9.2"
80:   },
81:   "prisma": {
82:     "schema": "prisma/schema.prisma"
83:   }
84: }
```

## postcss.config.js

- Characters: 100
- Tokens: 0

```javascript
1: module.exports = {
2:   plugins: {
3:     tailwindcss: {},
4:     autoprefixer: {},
5:   },
6: };
```

## prisma\schema.prisma

- Characters: 12103
- Tokens: 0

```text
  1: // This is your Prisma schema file,
  2: // learn more about it in the docs: https://pris.ly/d/prisma-schema
  3: 
  4: generator client {
  5:   provider = "prisma-client-js"
  6: }
  7: 
  8: datasource db {
  9:   provider = "postgresql"
 10:   url      = env("DATABASE_URL")
 11: }
 12: 
 13: enum UserRole {
 14:   ROOT
 15:   ADMIN
 16:   MANAGER
 17:   STAFF
 18: }
 19: 
 20: model User {
 21:   id             String   @id @default(uuid())
 22:   name           String
 23:   email          String   @unique
 24:   hashedPassword String
 25:   role           UserRole @default(STAFF)
 26:   createdAt      DateTime @default(now())
 27:   updatedAt      DateTime @updatedAt
 28: 
 29:   // Relations
 30:   createdProducts      Product[]        @relation("CreatedBy")
 31:   updatedProducts      Product[]        @relation("UpdatedBy")
 32:   createdSuppliers     Supplier[]       @relation("SupplierCreatedBy")
 33:   updatedSuppliers     Supplier[]       @relation("SupplierUpdatedBy")
 34:   createdWarehouses    Warehouse[]      @relation("WarehouseCreatedBy")
 35:   updatedWarehouses    Warehouse[]      @relation("WarehouseUpdatedBy")
 36:   createdPurchases     PurchaseOrder[]  @relation("PurchaseCreatedBy")
 37:   updatedPurchases     PurchaseOrder[]  @relation("PurchaseUpdatedBy")
 38:   createdTransfers     TransferOrder[]  @relation("TransferCreatedBy")
 39:   updatedTransfers     TransferOrder[]  @relation("TransferUpdatedBy")
 40:   createdSales         SalesOrder[]     @relation("SalesCreatedBy")
 41:   updatedSales         SalesOrder[]     @relation("SalesUpdatedBy")
 42:   createdInventoryAudit InventoryAudit[] @relation("AuditCreatedBy")
 43:   updatedInventoryAudit InventoryAudit[] @relation("AuditUpdatedBy")
 44: }
 45: 
 46: model Category {
 47:   id          String    @id @default(uuid())
 48:   name        String    @unique
 49:   description String?
 50:   createdAt   DateTime  @default(now())
 51:   updatedAt   DateTime  @updatedAt
 52: 
 53:   // Relations
 54:   products    Product[]
 55: }
 56: 
 57: model Product {
 58:   id              String    @id @default(uuid())
 59:   sku             String    @unique
 60:   name            String
 61:   description     String?
 62:   costPrice       Float?    // Can be null initially
 63:   sellingPrice    Float
 64:   safetyStock     Int       @default(0)
 65:   categoryId      String
 66:   createdById     String
 67:   updatedById     String
 68:   createdAt       DateTime  @default(now())
 69:   updatedAt       DateTime  @updatedAt
 70: 
 71:   // Relations
 72:   category        Category  @relation(fields: [categoryId], references: [id])
 73:   createdBy       User      @relation("CreatedBy", fields: [createdById], references: [id])
 74:   updatedBy       User      @relation("UpdatedBy", fields: [updatedById], references: [id])
 75:   inventoryItems  InventoryItem[]
 76:   purchaseItems   PurchaseItem[]
 77:   salesItems      SalesItem[]
 78:   transferItems   TransferItem[]
 79:   auditItems      AuditItem[]
 80: 
 81:   @@index([categoryId])
 82:   @@index([createdById])
 83:   @@index([updatedById])
 84: }
 85: 
 86: model Supplier {
 87:   id          String    @id @default(uuid())
 88:   name        String
 89:   contactName String?
 90:   email       String?
 91:   phone       String?
 92:   address     String?
 93:   createdById String
 94:   updatedById String
 95:   createdAt   DateTime  @default(now())
 96:   updatedAt   DateTime  @updatedAt
 97: 
 98:   // Relations
 99:   createdBy       User            @relation("SupplierCreatedBy", fields: [createdById], references: [id])
100:   updatedBy       User            @relation("SupplierUpdatedBy", fields: [updatedById], references: [id])
101:   purchaseOrders  PurchaseOrder[]
102: 
103:   @@index([createdById])
104:   @@index([updatedById])
105: }
106: 
107: model Warehouse {
108:   id          String    @id @default(uuid())
109:   name        String
110:   location    String?
111:   description String?
112:   createdById String
113:   updatedById String
114:   createdAt   DateTime  @default(now())
115:   updatedAt   DateTime  @updatedAt
116: 
117:   // Relations
118:   createdBy           User            @relation("WarehouseCreatedBy", fields: [createdById], references: [id])
119:   updatedBy           User            @relation("WarehouseUpdatedBy", fields: [updatedById], references: [id])
120:   inventoryItems      InventoryItem[]
121:   sourcedTransfers    TransferOrder[] @relation("SourceWarehouse")
122:   destinationTransfers TransferOrder[] @relation("DestinationWarehouse")
123:   salesOrders         SalesOrder[]
124:   inventoryAudits     InventoryAudit[]
125: 
126:   @@index([createdById])
127:   @@index([updatedById])
128: }
129: 
130: model InventoryItem {
131:   id          String    @id @default(uuid())
132:   productId   String
133:   warehouseId String
134:   quantity    Int
135:   createdAt   DateTime  @default(now())
136:   updatedAt   DateTime  @updatedAt
137: 
138:   // Relations
139:   product     Product   @relation(fields: [productId], references: [id])
140:   warehouse   Warehouse @relation(fields: [warehouseId], references: [id])
141: 
142:   @@unique([productId, warehouseId])
143:   @@index([productId])
144:   @@index([warehouseId])
145: }
146: 
147: enum PurchaseStatus {
148:   DRAFT
149:   ORDERED
150:   RECEIVED
151:   CANCELLED
152: }
153: 
154: model PurchaseOrder {
155:   id          String         @id @default(uuid())
156:   orderNumber String         @unique
157:   supplierId  String
158:   status      PurchaseStatus @default(DRAFT)
159:   orderDate   DateTime       @default(now())
160:   deliveryDate DateTime?
161:   notes       String?
162:   createdById String
163:   updatedById String
164:   createdAt   DateTime       @default(now())
165:   updatedAt   DateTime       @updatedAt
166: 
167:   // Relations
168:   supplier    Supplier       @relation(fields: [supplierId], references: [id])
169:   createdBy   User           @relation("PurchaseCreatedBy", fields: [createdById], references: [id])
170:   updatedBy   User           @relation("PurchaseUpdatedBy", fields: [updatedById], references: [id])
171:   items       PurchaseItem[]
172: 
173:   @@index([supplierId])
174:   @@index([createdById])
175:   @@index([updatedById])
176: }
177: 
178: model PurchaseItem {
179:   id             String        @id @default(uuid())
180:   purchaseOrderId String
181:   productId      String
182:   quantity       Int
183:   unitPrice      Float
184:   receivedQuantity Int          @default(0)
185:   createdAt      DateTime      @default(now())
186:   updatedAt      DateTime      @updatedAt
187: 
188:   // Relations
189:   purchaseOrder  PurchaseOrder @relation(fields: [purchaseOrderId], references: [id], onDelete: Cascade)
190:   product        Product       @relation(fields: [productId], references: [id])
191: 
192:   @@index([purchaseOrderId])
193:   @@index([productId])
194: }
195: 
196: enum TransferStatus {
197:   DRAFT
198:   PENDING
199:   COMPLETED
200:   CANCELLED
201: }
202: 
203: model TransferOrder {
204:   id                String         @id @default(uuid())
205:   transferNumber    String         @unique
206:   sourceWarehouseId String
207:   destWarehouseId   String
208:   status            TransferStatus @default(DRAFT)
209:   transferDate      DateTime       @default(now())
210:   notes             String?
211:   createdById       String
212:   updatedById       String
213:   createdAt         DateTime       @default(now())
214:   updatedAt         DateTime       @updatedAt
215: 
216:   // Relations
217:   sourceWarehouse   Warehouse      @relation("SourceWarehouse", fields: [sourceWarehouseId], references: [id])
218:   destinationWarehouse Warehouse   @relation("DestinationWarehouse", fields: [destWarehouseId], references: [id])
219:   createdBy         User           @relation("TransferCreatedBy", fields: [createdById], references: [id])
220:   updatedBy         User           @relation("TransferUpdatedBy", fields: [updatedById], references: [id])
221:   items             TransferItem[]
222: 
223:   @@index([sourceWarehouseId])
224:   @@index([destWarehouseId])
225:   @@index([createdById])
226:   @@index([updatedById])
227: }
228: 
229: model TransferItem {
230:   id              String        @id @default(uuid())
231:   transferOrderId String
232:   productId       String
233:   quantity        Int
234:   createdAt       DateTime      @default(now())
235:   updatedAt       DateTime      @updatedAt
236: 
237:   // Relations
238:   transferOrder   TransferOrder @relation(fields: [transferOrderId], references: [id], onDelete: Cascade)
239:   product         Product       @relation(fields: [productId], references: [id])
240: 
241:   @@index([transferOrderId])
242:   @@index([productId])
243: }
244: 
245: enum SalesStatus {
246:   DRAFT
247:   COMPLETED
248:   CANCELLED
249: }
250: 
251: model SalesOrder {
252:   id              String      @id @default(uuid())
253:   salesNumber     String      @unique
254:   warehouseId     String
255:   status          SalesStatus @default(DRAFT)
256:   salesDate       DateTime    @default(now())
257:   customerName    String?
258:   customerContact String?
259:   notes           String?
260:   totalAmount     Float
261:   createdById     String
262:   updatedById     String
263:   createdAt       DateTime    @default(now())
264:   updatedAt       DateTime    @updatedAt
265: 
266:   // Relations
267:   warehouse       Warehouse   @relation(fields: [warehouseId], references: [id])
268:   createdBy       User        @relation("SalesCreatedBy", fields: [createdById], references: [id])
269:   updatedBy       User        @relation("SalesUpdatedBy", fields: [updatedById], references: [id])
270:   items           SalesItem[]
271: 
272:   @@index([warehouseId])
273:   @@index([createdById])
274:   @@index([updatedById])
275: }
276: 
277: model SalesItem {
278:   id            String      @id @default(uuid())
279:   salesOrderId  String
280:   productId     String
281:   quantity      Int
282:   unitPrice     Float
283:   createdAt     DateTime    @default(now())
284:   updatedAt     DateTime    @updatedAt
285: 
286:   // Relations
287:   salesOrder    SalesOrder  @relation(fields: [salesOrderId], references: [id], onDelete: Cascade)
288:   product       Product     @relation(fields: [productId], references: [id])
289: 
290:   @@index([salesOrderId])
291:   @@index([productId])
292: }
293: 
294: enum AuditStatus {
295:   DRAFT
296:   IN_PROGRESS
297:   COMPLETED
298: }
299: 
300: model InventoryAudit {
301:   id            String      @id @default(uuid())
302:   auditNumber   String      @unique
303:   warehouseId   String
304:   status        AuditStatus @default(DRAFT)
305:   auditDate     DateTime    @default(now())
306:   notes         String?
307:   createdById   String
308:   updatedById   String
309:   createdAt     DateTime    @default(now())
310:   updatedAt     DateTime    @updatedAt
311: 
312:   // Relations
313:   warehouse     Warehouse   @relation(fields: [warehouseId], references: [id])
314:   createdBy     User        @relation("AuditCreatedBy", fields: [createdById], references: [id])
315:   updatedBy     User        @relation("AuditUpdatedBy", fields: [updatedById], references: [id])
316:   items         AuditItem[]
317: 
318:   @@index([warehouseId])
319:   @@index([createdById])
320:   @@index([updatedById])
321: }
322: 
323: model AuditItem {
324:   id              String        @id @default(uuid())
325:   inventoryAuditId String
326:   productId       String
327:   systemQuantity  Int
328:   actualQuantity  Int
329:   discrepancy     Int
330:   notes           String?
331:   createdAt       DateTime      @default(now())
332:   updatedAt       DateTime      @updatedAt
333: 
334:   // Relations
335:   inventoryAudit  InventoryAudit @relation(fields: [inventoryAuditId], references: [id], onDelete: Cascade)
336:   product         Product       @relation(fields: [productId], references: [id])
337: 
338:   @@index([inventoryAuditId])
339:   @@index([productId])
340: }
```

## README.md

- Characters: 3486
- Tokens: 0

````markdown
  1: # Fashion Retail Inventory Management System
  2: 
  3: A comprehensive inventory management system for fashion retail businesses, built with Next.js, Prisma, PostgreSQL, and TypeScript.
  4: 
  5: ## Features
  6: 
  7: 1. **User Management**
  8:    - Four role levels: ROOT, ADMIN, MANAGER, STAFF
  9:    - Role-based access control
 10:    - JWT authentication
 11: 
 12: 2. **Product Management**
 13:    - Product categories
 14:    - Safety stock levels
 15:    - Cost tracking
 16: 
 17: 3. **Supplier Management**
 18:    - Supplier details and contacts
 19:    - Purchase order history
 20: 
 21: 4. **Warehouse Management**
 22:    - Multiple warehouse support
 23:    - Inventory tracking by location
 24: 
 25: 5. **Purchase Management**
 26:    - Create purchase orders
 27:    - Receive inventory
 28:    - Automatic cost price updates (weighted average)
 29: 
 30: 6. **Inventory Transfer**
 31:    - Move inventory between warehouses
 32:    - Transfer tracking
 33: 
 34: 7. **Sales Management**
 35:    - Create sales orders
 36:    - Automatic inventory reduction
 37:    - Stock availability checks
 38: 
 39: 8. **Inventory Audit**
 40:    - Record physical counts
 41:    - Track discrepancies
 42:    - Adjust system quantities
 43: 
 44: 9. **Reporting**
 45:    - Sales reports
 46:    - Inventory reports
 47:    - Purchase reports
 48:    - Profit & loss analysis
 49: 
 50: ## Tech Stack
 51: 
 52: - **Frontend**: Next.js, React, TypeScript, TailwindCSS, shadcn/ui
 53: - **Backend**: Next.js API Routes
 54: - **Database**: PostgreSQL with Prisma ORM
 55: - **Authentication**: JWT
 56: - **Charts**: Recharts
 57: 
 58: ## Getting Started
 59: 
 60: ### Prerequisites
 61: 
 62: - Node.js (v16+)
 63: - PostgreSQL database
 64: 
 65: ### Installation
 66: 
 67: 1. Clone the repository
 68: 2. Install dependencies:
 69:    ```bash
 70:    npm install
 71:    ```
 72: 3. Set up environment variables:
 73:    - Copy `.env.example` to `.env`
 74:    - Update the database connection string
 75: 
 76: 4. Run database migrations:
 77:    ```bash
 78:    npx prisma migrate dev
 79:    ```
 80: 
 81: 5. Seed the database:
 82:    ```bash
 83:    npm run seed
 84:    ```
 85: 
 86: 6. Start the development server:
 87:    ```bash
 88:    npm run dev
 89:    ```
 90: 
 91: ### Default Users
 92: 
 93: After seeding, the following users are available:
 94: 
 95: - **Root Admin**: admin@example.com / password123
 96: - **Admin**: admin2@example.com / password123
 97: - **Manager**: manager@example.com / password123
 98: - **Staff**: staff@example.com / password123
 99: 
100: ## Project Structure
101: 
102: - `/app` - Next.js app router pages and API routes
103: - `/components` - Reusable React components
104: - `/lib` - Utility functions and shared code
105: - `/prisma` - Prisma schema and migrations
106: - `/scripts` - Utility scripts (e.g., database seeding)
107: 
108: ## Business Flow
109: 
110: 1. Create product data (initially without cost price)
111: 2. Create supplier data
112: 3. Create warehouse data
113: 4. Create purchase orders (select products, quantities, unit prices)
114: 5. Receive purchase orders (updates product cost prices using weighted average)
115: 6. Transfer inventory between warehouses
116: 7. Perform inventory audits to reconcile physical and system quantities
117: 8. Create sales orders (checks inventory and reduces stock)
118: 
119: ## License
120: 
121: This project is licensed under the MIT License.
````

## repomix-output.md

- Characters: 732999
- Tokens: 0

`````markdown
    1: This file is a merged representation of the entire codebase, combining all repository files into a single document.
    2: Generated by Repomix on: 2025-03-05 11:00:37
    3: 
    4: # File Summary
    5: 
    6: ## Purpose:
    7: 
    8: This file contains a packed representation of the entire repository's contents.
    9: It is designed to be easily consumable by AI systems for analysis, code review,
   10: or other automated processes.
   11: 
   12: ## File Format:
   13: 
   14: The content is organized as follows:
   15: 1. This summary section
   16: 2. Repository information
   17: 3. Repository structure
   18: 4. Multiple file entries, each consisting of:
   19:    a. A header with the file path (## File: path/to/file)
   20:    b. The full contents of the file in a code block
   21: 
   22: ## Usage Guidelines:
   23: 
   24: - This file should be treated as read-only. Any changes should be made to the
   25:   original repository files, not this packed version.
   26: - When processing this file, use the file path to distinguish
   27:   between different files in the repository.
   28: - Be aware that this file may contain sensitive information. Handle it with
   29:   the same level of security as you would the original repository.
   30: 
   31: ## Notes:
   32: 
   33: - Some files may have been excluded based on .gitignore rules and Repomix's
   34:   configuration.
   35: - Binary files are not included in this packed representation. Please refer to
   36:   the Repository Structure section for a complete list of file paths, including
   37:   binary files.
   38: 
   39: ## Additional Information:
   40: 
   41: For more information about Repomix, visit: https://github.com/andersonby/python-repomix
   42: 
   43: 
   44: # Repository Structure
   45: 
   46: ```
   47: .bolt
   48:   config.json
   49:   ignore
   50:   prompt
   51: .env.example
   52: .eslintrc.json
   53: .gitignore
   54: app
   55:   (protected)
   56:     layout.tsx
   57:   api
   58:     auth
   59:       login
   60:         route.ts
   61:       logout
   62:         route.ts
   63:       me
   64:         route.ts
   65:       register
   66:         route.ts
   67:   categories
   68:     layout.tsx
   69:     new
   70:       page.tsx
   71:     page.tsx
   72:     [id]
   73:       edit
   74:         page.tsx
   75:       page.tsx
   76:   dashboard
   77:     layout.tsx
   78:     page.tsx
   79:   globals.css
   80:   inventory-audit
   81:     layout.tsx
   82:     page.tsx
   83:     [id]
   84:       page.tsx
   85:   layout.tsx
   86:   login
   87:     page.tsx
   88:   not-found.tsx
   89:   page.tsx
   90:   products
   91:     layout.tsx
   92:     new
   93:       page.tsx
   94:     page.tsx
   95:     [id]
   96:       edit
   97:         page.tsx
   98:       page.tsx
   99:   purchases
  100:     edit
  101:       page.tsx
  102:     layout.tsx
  103:     new
  104:       page.tsx
  105:     page.tsx
  106:     [id]
  107:       edit
  108:         page.tsx
  109:       page.tsx
  110:   reports
  111:     layout.tsx
  112:     page.tsx
  113:   sales
  114:     layout.tsx
  115:     page.tsx
  116:     [id]
  117:       page.tsx
  118:   settings
  119:     layout.tsx
  120:     page.tsx
  121:   suppliers
  122:     layout.tsx
  123:     new
  124:       page.tsx
  125:     page.tsx
  126:     [id]
  127:       edit
  128:         page.tsx
  129:       page.tsx
  130:   transfers
  131:     layout.tsx
  132:     new
  133:       page.tsx
  134:     page.tsx
  135:     [id]
  136:       edit
  137:         page.tsx
  138:       page.tsx
  139:   users
  140:     layout.tsx
  141:     page.tsx
  142:   warehouses
  143:     layout.tsx
  144:     new
  145:       page.tsx
  146:     page.tsx
  147:     [id]
  148:       edit
  149:         page.tsx
  150:       page.tsx
  151: components
  152:   dashboard
  153:     charts.tsx
  154:   layout
  155:     header.tsx
  156:     sidebar.tsx
  157:   purchases
  158:     product-selector.tsx
  159:   shared
  160:     delete-button.tsx
  161:   theme-provider.tsx
  162:   transfers
  163:     product-transfer-selector.tsx
  164:   ui
  165:     accordion.tsx
  166:     alert-dialog.tsx
  167:     alert.tsx
  168:     aspect-ratio.tsx
  169:     avatar.tsx
  170:     badge.tsx
  171:     breadcrumb.tsx
  172:     button.tsx
  173:     calendar.tsx
  174:     card.tsx
  175:     carousel.tsx
  176:     chart.tsx
  177:     checkbox.tsx
  178:     collapsible.tsx
  179:     command.tsx
  180:     context-menu.tsx
  181:     dialog.tsx
  182:     drawer.tsx
  183:     dropdown-menu.tsx
  184:     form.tsx
  185:     hover-card.tsx
  186:     input-otp.tsx
  187:     input.tsx
  188:     label.tsx
  189:     menubar.tsx
  190:     navigation-menu.tsx
  191:     pagination.tsx
  192:     popover.tsx
  193:     progress.tsx
  194:     radio-group.tsx
  195:     resizable.tsx
  196:     scroll-area.tsx
  197:     select.tsx
  198:     separator.tsx
  199:     sheet.tsx
  200:     skeleton.tsx
  201:     slider.tsx
  202:     sonner.tsx
  203:     switch.tsx
  204:     table.tsx
  205:     tabs.tsx
  206:     textarea.tsx
  207:     toast.tsx
  208:     toaster.tsx
  209:     toggle-group.tsx
  210:     toggle.tsx
  211:     tooltip.tsx
  212: components.json
  213: hooks
  214:   use-auth.tsx
  215:   use-toast.ts
  216: middleware.ts
  217: netlify.toml
  218: next.config.js
  219: package.json
  220: postcss.config.js
  221: prisma
  222:   schema.prisma
  223: README.md
  224: scripts
  225:   seed.ts
  226: tailwind.config.ts
  227: tsconfig.json
  228: ```
  229: 
  230: # Repository Files
  231: 
  232: 
  233: ## .bolt\config.json
  234: 
  235: - Characters: 33
  236: - Tokens: 0
  237: 
  238: ```json
  239: {
  240:   "template": "nextjs-shadcn"
  241: }
  242: ```
  243: 
  244: ## .bolt\ignore
  245: 
  246: - Characters: 34
  247: - Tokens: 0
  248: 
  249: ```text
  250: components/ui/*
  251: hooks/use-toast.ts
  252: ```
  253: 
  254: ## .bolt\prompt
  255: 
  256: - Characters: 805
  257: - Tokens: 0
  258: 
  259: ```text
  260: For all designs I ask you to make, have them be beautiful, not cookie cutter. Make webpages that are fully featured and worthy for production.
  261: 
  262: When using client-side hooks (useState and useEffect) in a component that's being treated as a Server Component by Next.js, always add the "use client" directive at the top of the file.
  263: 
  264: Do not write code that will trigger this error: "Warning: Extra attributes from the server: %s%s""class,style"
  265: 
  266: By default, this template supports JSX syntax with Tailwind CSS classes, the shadcn/ui library, React hooks, and Lucide React for icons. Do not install other packages for UI themes, icons, etc unless absolutely necessary or I request them.
  267: 
  268: Use icons from lucide-react for logos.
  269: 
  270: Use stock photos from unsplash where appropriate, only valid URLs you know exist.
  271: ```
  272: 
  273: ## .eslintrc.json
  274: 
  275: - Characters: 39
  276: - Tokens: 0
  277: 
  278: ```json
  279: {
  280:   "extends": "next/core-web-vitals"
  281: }
  282: ```
  283: 
  284: ## .gitignore
  285: 
  286: - Characters: 367
  287: - Tokens: 0
  288: 
  289: ```text
  290: # See https://help.github.com/articles/ignoring-files/ for more about ignoring files.
  291: 
  292: # dependencies
  293: /node_modules
  294: /.pnp
  295: .pnp.js
  296: 
  297: # testing
  298: /coverage
  299: 
  300: # next.js
  301: /.next/
  302: /out/
  303: 
  304: # production
  305: /build
  306: 
  307: # misc
  308: .DS_Store
  309: *.pem
  310: 
  311: # debug
  312: npm-debug.log*
  313: yarn-debug.log*
  314: yarn-error.log*
  315: 
  316: # local env files
  317: .env*.local
  318: 
  319: # vercel
  320: .vercel
  321: 
  322: # typescript
  323: *.tsbuildinfo
  324: next-env.d.ts
  325: ```
  326: 
  327: ## app\(protected)\layout.tsx
  328: 
  329: - Characters: 2101
  330: - Tokens: 0
  331: 
  332: ```text
  333: "use client";
  334: 
  335: import { useEffect, useState } from "react";
  336: import { useRouter, usePathname } from "next/navigation";
  337: import { Sidebar } from "@/components/layout/sidebar";
  338: import { Header } from "@/components/layout/header";
  339: import { useAuth } from "@/hooks/use-auth";
  340: import { Loader2 } from "lucide-react";
  341: 
  342: export default function ProtectedLayout({
  343:   children,
  344: }: {
  345:   children: React.ReactNode;
  346: }) {
  347:   const { user } = useAuth();
  348:   const router = useRouter();
  349:   const pathname = usePathname();
  350:   const [isLoading, setIsLoading] = useState(true);
  351:   const [currentPath, setCurrentPath] = useState(pathname);
  352:   const [isTransitioning, setIsTransitioning] = useState(false);
  353:   
  354:   // Handle authentication check
  355:   useEffect(() => {
  356:     if (!user) {
  357:       router.push("/login");
  358:     } else {
  359:       // Simulate loading delay
  360:       const timer = setTimeout(() => {
  361:         setIsLoading(false);
  362:       }, 500);
  363:       
  364:       return () => clearTimeout(timer);
  365:     }
  366:   }, [user, router]);
  367:   
  368:   // Handle route transitions
  369:   useEffect(() => {
  370:     if (pathname !== currentPath) {
  371:       setIsTransitioning(true);
  372:       
  373:       // Short delay to allow transition to complete
  374:       const timer = setTimeout(() => {
  375:         setCurrentPath(pathname);
  376:         setIsTransitioning(false);
  377:       }, 300);
  378:       
  379:       return () => clearTimeout(timer);
  380:     }
  381:   }, [pathname, currentPath]);
  382:   
  383:   if (!user || isLoading) {
  384:     return (
  385:       <div className="flex min-h-screen items-center justify-center">
  386:         <div className="flex flex-col items-center space-y-4">
  387:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
  388:           <p className="text-lg font-medium">Loading...</p>
  389:         </div>
  390:       </div>
  391:     );
  392:   }
  393:   
  394:   return (
  395:     <div className="flex min-h-screen">
  396:       <div className="hidden md:block">
  397:         <Sidebar />
  398:       </div>
  399:       <div className="flex flex-col flex-1">
  400:         <Header />
  401:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
  402:           {children}
  403:         </main>
  404:       </div>
  405:     </div>
  406:   );
  407: }
  408: ```
  409: 
  410: ## app\api\auth\logout\route.ts
  411: 
  412: - Characters: 349
  413: - Tokens: 0
  414: 
  415: ```typescript
  416: import { NextResponse } from "next/server";
  417: 
  418: export async function POST() {
  419:   // With localStorage-based auth, we don't need to clear cookies on the server
  420:   // The client will handle removing the token from localStorage
  421:   return NextResponse.json({ success: true });
  422: }
  423: 
  424: // Add dynamic export to fix the error
  425: export const dynamic = 'force-dynamic';
  426: ```
  427: 
  428: ## app\api\auth\me\route.ts
  429: 
  430: - Characters: 964
  431: - Tokens: 0
  432: 
  433: ```typescript
  434: import { NextRequest, NextResponse } from "next/server";
  435: import { verifyJWT } from "@/lib/auth";
  436: 
  437: export async function GET(req: NextRequest) {
  438:   try {
  439:     // Get token from Authorization header instead of cookies
  440:     const authHeader = req.headers.get('Authorization');
  441:     
  442:     if (!authHeader || !authHeader.startsWith('Bearer ')) {
  443:       return NextResponse.json(
  444:         { error: "Unauthorized" },
  445:         { status: 401 }
  446:       );
  447:     }
  448:     
  449:     const token = authHeader.split(' ')[1];
  450:     const user = await verifyJWT(token);
  451:     
  452:     if (!user) {
  453:       return NextResponse.json(
  454:         { error: "Unauthorized" },
  455:         { status: 401 }
  456:       );
  457:     }
  458:     
  459:     return NextResponse.json({ user });
  460:   } catch (error) {
  461:     console.error("Get current user error:", error);
  462:     return NextResponse.json(
  463:       { error: "Internal server error" },
  464:       { status: 500 }
  465:     );
  466:   }
  467: }
  468: 
  469: // Add dynamic export to fix the error
  470: export const dynamic = 'force-dynamic';
  471: ```
  472: 
  473: ## app\api\auth\register\route.ts
  474: 
  475: - Characters: 2119
  476: - Tokens: 0
  477: 
  478: ```typescript
  479: import { NextRequest, NextResponse } from "next/server";
  480: import bcrypt from "bcryptjs";
  481: import { z } from "zod";
  482: import { UserRole } from "@prisma/client";
  483: 
  484: import prisma from "@/lib/prisma";
  485: import { getCurrentUser } from "@/lib/auth";
  486: 
  487: const registerSchema = z.object({
  488:   name: z.string().min(2),
  489:   email: z.string().email(),
  490:   password: z.string().min(6),
  491:   role: z.nativeEnum(UserRole).default(UserRole.STAFF),
  492: });
  493: 
  494: export async function POST(req: NextRequest) {
  495:   try {
  496:     // Only ROOT and ADMIN can create users
  497:     const currentUser = await getCurrentUser();
  498:     
  499:     if (!currentUser || (currentUser.role !== UserRole.ROOT && currentUser.role !== UserRole.ADMIN)) {
  500:       return NextResponse.json(
  501:         { error: "Unauthorized: Insufficient permissions" },
  502:         { status: 403 }
  503:       );
  504:     }
  505:     
  506:     const body = await req.json();
  507:     
  508:     // Validate request body
  509:     const result = registerSchema.safeParse(body);
  510:     if (!result.success) {
  511:       return NextResponse.json(
  512:         { error: "Invalid input", details: result.error.format() },
  513:         { status: 400 }
  514:       );
  515:     }
  516:     
  517:     const { name, email, password, role } = result.data;
  518:     
  519:     // Check if user already exists
  520:     const existingUser = await prisma.user.findUnique({
  521:       where: { email },
  522:     });
  523:     
  524:     if (existingUser) {
  525:       return NextResponse.json(
  526:         { error: "User with this email already exists" },
  527:         { status: 409 }
  528:       );
  529:     }
  530:     
  531:     // Hash password
  532:     const hashedPassword = await bcrypt.hash(password, 10);
  533:     
  534:     // Create user
  535:     const user = await prisma.user.create({
  536:       data: {
  537:         name,
  538:         email,
  539:         hashedPassword,
  540:         role,
  541:       },
  542:     });
  543:     
  544:     return NextResponse.json({
  545:       user: {
  546:         id: user.id,
  547:         name: user.name,
  548:         email: user.email,
  549:         role: user.role,
  550:       },
  551:     });
  552:   } catch (error) {
  553:     console.error("Registration error:", error);
  554:     return NextResponse.json(
  555:       { error: "Internal server error" },
  556:       { status: 500 }
  557:     );
  558:   }
  559: }
  560: 
  561: // Add dynamic export to fix the error
  562: export const dynamic = 'force-dynamic';
  563: ```
  564: 
  565: ## app\categories\layout.tsx
  566: 
  567: - Characters: 2102
  568: - Tokens: 0
  569: 
  570: ```text
  571: "use client";
  572: 
  573: import { useEffect, useState } from "react";
  574: import { useRouter, usePathname } from "next/navigation";
  575: import { Sidebar } from "@/components/layout/sidebar";
  576: import { Header } from "@/components/layout/header";
  577: import { useAuth } from "@/hooks/use-auth";
  578: import { Loader2 } from "lucide-react";
  579: 
  580: export default function CategoriesLayout({
  581:   children,
  582: }: {
  583:   children: React.ReactNode;
  584: }) {
  585:   const { user } = useAuth();
  586:   const router = useRouter();
  587:   const pathname = usePathname();
  588:   const [isLoading, setIsLoading] = useState(true);
  589:   const [currentPath, setCurrentPath] = useState(pathname);
  590:   const [isTransitioning, setIsTransitioning] = useState(false);
  591:   
  592:   // Handle authentication check
  593:   useEffect(() => {
  594:     if (!user) {
  595:       router.push("/login");
  596:     } else {
  597:       // Simulate loading delay
  598:       const timer = setTimeout(() => {
  599:         setIsLoading(false);
  600:       }, 500);
  601:       
  602:       return () => clearTimeout(timer);
  603:     }
  604:   }, [user, router]);
  605:   
  606:   // Handle route transitions
  607:   useEffect(() => {
  608:     if (pathname !== currentPath) {
  609:       setIsTransitioning(true);
  610:       
  611:       // Short delay to allow transition to complete
  612:       const timer = setTimeout(() => {
  613:         setCurrentPath(pathname);
  614:         setIsTransitioning(false);
  615:       }, 300);
  616:       
  617:       return () => clearTimeout(timer);
  618:     }
  619:   }, [pathname, currentPath]);
  620:   
  621:   if (!user || isLoading) {
  622:     return (
  623:       <div className="flex min-h-screen items-center justify-center">
  624:         <div className="flex flex-col items-center space-y-4">
  625:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
  626:           <p className="text-lg font-medium">Loading...</p>
  627:         </div>
  628:       </div>
  629:     );
  630:   }
  631:   
  632:   return (
  633:     <div className="flex min-h-screen">
  634:       <div className="hidden md:block">
  635:         <Sidebar />
  636:       </div>
  637:       <div className="flex flex-col flex-1">
  638:         <Header />
  639:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
  640:           {children}
  641:         </main>
  642:       </div>
  643:     </div>
  644:   );
  645: }
  646: ```
  647: 
  648: ## app\categories\new\page.tsx
  649: 
  650: - Characters: 7451
  651: - Tokens: 0
  652: 
  653: ```text
  654: "use client";
  655: 
  656: import { useState } from "react";
  657: import { useRouter } from "next/navigation";
  658: import { useForm } from "react-hook-form";
  659: import { zodResolver } from "@hookform/resolvers/zod";
  660: import * as z from "zod";
  661: import { ArrowLeft } from "lucide-react";
  662: import Link from "next/link";
  663: 
  664: import { Button } from "@/components/ui/button";
  665: import {
  666:   Form,
  667:   FormControl,
  668:   FormDescription,
  669:   FormField,
  670:   FormItem,
  671:   FormLabel,
  672:   FormMessage,
  673: } from "@/components/ui/form";
  674: import { Input } from "@/components/ui/input";
  675: import { Textarea } from "@/components/ui/textarea";
  676: import {
  677:   Select,
  678:   SelectContent,
  679:   SelectItem,
  680:   SelectTrigger,
  681:   SelectValue,
  682: } from "@/components/ui/select";
  683: import { useToast } from "@/hooks/use-toast";
  684: import {
  685:   Card,
  686:   CardContent,
  687:   CardDescription,
  688:   CardHeader,
  689:   CardTitle,
  690: } from "@/components/ui/card";
  691: 
  692: // Mock categories data - this would normally be in a database
  693: const mockCategories = [
  694:   {
  695:     id: "1",
  696:     name: "Shirts",
  697:     description: "All types of shirts and tops",
  698:     productCount: 45,
  699:     status: "Active",
  700:   },
  701:   {
  702:     id: "2",
  703:     name: "Pants",
  704:     description: "All types of pants and bottoms",
  705:     productCount: 32,
  706:     status: "Active",
  707:   },
  708:   {
  709:     id: "3",
  710:     name: "Dresses",
  711:     description: "All types of dresses",
  712:     productCount: 28,
  713:     status: "Active",
  714:   },
  715:   {
  716:     id: "4",
  717:     name: "Accessories",
  718:     description: "Belts, hats, and other accessories",
  719:     productCount: 56,
  720:     status: "Active",
  721:   },
  722:   {
  723:     id: "5",
  724:     name: "Shoes",
  725:     description: "All types of footwear",
  726:     productCount: 37,
  727:     status: "Active",
  728:   },
  729:   {
  730:     id: "6",
  731:     name: "Seasonal",
  732:     description: "Seasonal items and collections",
  733:     productCount: 12,
  734:     status: "Inactive",
  735:   },
  736: ];
  737: 
  738: // Create a global variable to store the updated categories if it doesn't exist
  739: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedCategories')) {
  740:   window.updatedCategories = [...mockCategories];
  741: }
  742: 
  743: const categorySchema = z.object({
  744:   name: z.string().min(2, { message: "Name must be at least 2 characters" }),
  745:   description: z.string().optional(),
  746:   status: z.enum(["Active", "Inactive"]),
  747: });
  748: 
  749: type CategoryFormValues = z.infer<typeof categorySchema>;
  750: 
  751: export default function NewCategoryPage() {
  752:   const router = useRouter();
  753:   const { toast } = useToast();
  754:   const [isLoading, setIsLoading] = useState(false);
  755: 
  756:   const form = useForm<CategoryFormValues>({
  757:     resolver: zodResolver(categorySchema),
  758:     defaultValues: {
  759:       name: "",
  760:       description: "",
  761:       status: "Active",
  762:     },
  763:   });
  764: 
  765:   async function onSubmit(data: CategoryFormValues) {
  766:     setIsLoading(true);
  767:     
  768:     try {
  769:       // In a real application, this would be an API call
  770:       // const response = await fetch("/api/categories", {
  771:       //   method: "POST",
  772:       //   headers: {
  773:       //     "Content-Type": "application/json",
  774:       //   },
  775:       //   body: JSON.stringify(data),
  776:       // });
  777:       
  778:       // if (!response.ok) {
  779:       //   throw new Error("Failed to create category");
  780:       // }
  781:       
  782:       // Simulate API call and update our mock database
  783:       await new Promise(resolve => setTimeout(resolve, 1000));
  784:       
  785:       // Create a new category with a unique ID
  786:       const newCategory = {
  787:         id: `${Date.now()}`, // Generate a unique ID
  788:         ...data,
  789:         productCount: 0, // New categories start with 0 products
  790:       };
  791:       
  792:       // Add the new category to our mock database
  793:       if (typeof window !== 'undefined') {
  794:         window.updatedCategories = [...window.updatedCategories, newCategory];
  795:       }
  796:       
  797:       toast({
  798:         title: "Category created",
  799:         description: "The category has been created successfully.",
  800:       });
  801:       
  802:       router.push("/categories");
  803:     } catch (error) {
  804:       toast({
  805:         title: "Error",
  806:         description: error instanceof Error ? error.message : "An error occurred",
  807:         variant: "destructive",
  808:       });
  809:     } finally {
  810:       setIsLoading(false);
  811:     }
  812:   }
  813: 
  814:   return (
  815:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
  816:       <div className="flex items-center gap-2">
  817:         <Button variant="ghost" size="icon" asChild>
  818:           <Link href="/categories">
  819:             <ArrowLeft className="h-4 w-4" />
  820:           </Link>
  821:         </Button>
  822:         <h1 className="text-3xl font-bold tracking-tight">Add New Category</h1>
  823:       </div>
  824:       
  825:       <Card>
  826:         <CardHeader>
  827:           <CardTitle>Category Information</CardTitle>
  828:           <CardDescription>
  829:             Enter the details for the new category
  830:           </CardDescription>
  831:         </CardHeader>
  832:         <CardContent>
  833:           <Form {...form}>
  834:             <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
  835:               <FormField
  836:                 control={form.control}
  837:                 name="name"
  838:                 render={({ field }) => (
  839:                   <FormItem>
  840:                     <FormLabel>Name</FormLabel>
  841:                     <FormControl>
  842:                       <Input placeholder="Category Name" {...field} />
  843:                     </FormControl>
  844:                     <FormMessage />
  845:                   </FormItem>
  846:                 )}
  847:               />
  848:               
  849:               <FormField
  850:                 control={form.control}
  851:                 name="description"
  852:                 render={({ field }) => (
  853:                   <FormItem>
  854:                     <FormLabel>Description</FormLabel>
  855:                     <FormControl>
  856:                       <Textarea
  857:                         placeholder="Category description..."
  858:                         {...field}
  859:                       />
  860:                     </FormControl>
  861:                     <FormDescription>
  862:                       A brief description of what products belong in this category
  863:                     </FormDescription>
  864:                     <FormMessage />
  865:                   </FormItem>
  866:                 )}
  867:               />
  868:               
  869:               <FormField
  870:                 control={form.control}
  871:                 name="status"
  872:                 render={({ field }) => (
  873:                   <FormItem>
  874:                     <FormLabel>Status</FormLabel>
  875:                     <Select
  876:                       onValueChange={field.onChange}
  877:                       defaultValue={field.value}
  878:                     >
  879:                       <FormControl>
  880:                         <SelectTrigger>
  881:                           <SelectValue placeholder="Select status" />
  882:                         </SelectTrigger>
  883:                       </FormControl>
  884:                       <SelectContent>
  885:                         <SelectItem value="Active">Active</SelectItem>
  886:                         <SelectItem value="Inactive">Inactive</SelectItem>
  887:                       </SelectContent>
  888:                     </Select>
  889:                     <FormMessage />
  890:                   </FormItem>
  891:                 )}
  892:               />
  893:               
  894:               <div className="flex justify-end space-x-2">
  895:                 <Button
  896:                   variant="outline"
  897:                   onClick={() => router.push("/categories")}
  898:                   type="button"
  899:                 >
  900:                   Cancel
  901:                 </Button>
  902:                 <Button type="submit" disabled={isLoading}>
  903:                   {isLoading ? "Creating..." : "Create Category"}
  904:                 </Button>
  905:               </div>
  906:             </form>
  907:           </Form>
  908:         </CardContent>
  909:       </Card>
  910:     </div>
  911:   );
  912: }
  913: ```
  914: 
  915: ## app\categories\page.tsx
  916: 
  917: - Characters: 6327
  918: - Tokens: 0
  919: 
  920: ```text
  921: "use client";
  922: 
  923: import Link from "next/link";
  924: import { Plus, Edit, Eye } from "lucide-react";
  925: import { Button } from "@/components/ui/button";
  926: import {
  927:   Card,
  928:   CardContent,
  929:   CardDescription,
  930:   CardHeader,
  931:   CardTitle,
  932: } from "@/components/ui/card";
  933: import {
  934:   Table,
  935:   TableBody,
  936:   TableCell,
  937:   TableHead,
  938:   TableHeader,
  939:   TableRow,
  940: } from "@/components/ui/table";
  941: import { Badge } from "@/components/ui/badge";
  942: import { useState, useEffect } from "react";
  943: import { Skeleton } from "@/components/ui/skeleton";
  944: import { DeleteButton } from "@/components/shared/delete-button";
  945: import { useToast } from "@/hooks/use-toast";
  946: 
  947: // Mock categories data - this would normally be in a database
  948: const mockCategories = [
  949:   {
  950:     id: "1",
  951:     name: "Shirts",
  952:     description: "All types of shirts and tops",
  953:     productCount: 45,
  954:     status: "Active",
  955:   },
  956:   {
  957:     id: "2",
  958:     name: "Pants",
  959:     description: "All types of pants and bottoms",
  960:     productCount: 32,
  961:     status: "Active",
  962:   },
  963:   {
  964:     id: "3",
  965:     name: "Dresses",
  966:     description: "All types of dresses",
  967:     productCount: 28,
  968:     status: "Active",
  969:   },
  970:   {
  971:     id: "4",
  972:     name: "Accessories",
  973:     description: "Belts, hats, and other accessories",
  974:     productCount: 56,
  975:     status: "Active",
  976:   },
  977:   {
  978:     id: "5",
  979:     name: "Shoes",
  980:     description: "All types of footwear",
  981:     productCount: 37,
  982:     status: "Active",
  983:   },
  984:   {
  985:     id: "6",
  986:     name: "Seasonal",
  987:     description: "Seasonal items and collections",
  988:     productCount: 12,
  989:     status: "Inactive",
  990:   },
  991: ];
  992: 
  993: // Create a global variable to store the updated categories if it doesn't exist
  994: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedCategories')) {
  995:   window.updatedCategories = [...mockCategories];
  996: }
  997: 
  998: export default function CategoriesPage() {
  999:   const [isLoading, setIsLoading] = useState(true);
 1000:   const [data, setData] = useState(mockCategories);
 1001:   const { toast } = useToast();
 1002: 
 1003:   useEffect(() => {
 1004:     // Simulate data loading and get data from our mock database
 1005:     const timer = setTimeout(() => {
 1006:       if (typeof window !== 'undefined') {
 1007:         setData(window.updatedCategories);
 1008:       }
 1009:       setIsLoading(false);
 1010:     }, 1000);
 1011:     
 1012:     return () => clearTimeout(timer);
 1013:   }, []);
 1014: 
 1015:   const handleDelete = async (id: string) => {
 1016:     // Simulate API call to delete category
 1017:     return new Promise<void>((resolve, reject) => {
 1018:       setTimeout(() => {
 1019:         const category = data.find(c => c.id === id);
 1020:         
 1021:         if (category?.status === "Active" && category.productCount > 0) {
 1022:           reject(new Error("Cannot delete a category with active products"));
 1023:         } else {
 1024:           // Update our mock database
 1025:           const updatedData = data.filter(c => c.id !== id);
 1026:           setData(updatedData);
 1027:           
 1028:           if (typeof window !== 'undefined') {
 1029:             window.updatedCategories = updatedData;
 1030:           }
 1031:           
 1032:           resolve();
 1033:         }
 1034:       }, 1000);
 1035:     });
 1036:   };
 1037: 
 1038:   return (
 1039:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 1040:       <div className="flex items-center justify-between">
 1041:         <h1 className="text-3xl font-bold tracking-tight">Product Categories</h1>
 1042:         <Button asChild>
 1043:           <Link href="/categories/new">
 1044:             <Plus className="mr-2 h-4 w-4" />
 1045:             Add Category
 1046:           </Link>
 1047:         </Button>
 1048:       </div>
 1049:       
 1050:       <Card>
 1051:         <CardHeader>
 1052:           <CardTitle>Categories</CardTitle>
 1053:           <CardDescription>
 1054:             Manage product categories and classifications
 1055:           </CardDescription>
 1056:         </CardHeader>
 1057:         <CardContent>
 1058:           {isLoading ? (
 1059:             <div className="space-y-2">
 1060:               <Skeleton className="h-10 w-full" />
 1061:               <Skeleton className="h-10 w-full" />
 1062:               <Skeleton className="h-10 w-full" />
 1063:               <Skeleton className="h-10 w-full" />
 1064:               <Skeleton className="h-10 w-full" />
 1065:             </div>
 1066:           ) : (
 1067:             <Table>
 1068:               <TableHeader>
 1069:                 <TableRow>
 1070:                   <TableHead>Name</TableHead>
 1071:                   <TableHead>Description</TableHead>
 1072:                   <TableHead className="text-right">Products</TableHead>
 1073:                   <TableHead>Status</TableHead>
 1074:                   <TableHead className="text-right">Actions</TableHead>
 1075:                 </TableRow>
 1076:               </TableHeader>
 1077:               <TableBody>
 1078:                 {data.map((category) => (
 1079:                   <TableRow key={category.id}>
 1080:                     <TableCell className="font-medium">{category.name}</TableCell>
 1081:                     <TableCell>{category.description}</TableCell>
 1082:                     <TableCell className="text-right">{category.productCount}</TableCell>
 1083:                     <TableCell>
 1084:                       {category.status === "Active" ? (
 1085:                         <Badge className="bg-emerald-500">Active</Badge>
 1086:                       ) : (
 1087:                         <Badge variant="outline">Inactive</Badge>
 1088:                       )}
 1089:                     </TableCell>
 1090:                     <TableCell className="text-right">
 1091:                       <div className="flex justify-end gap-2">
 1092:                         <Button variant="ghost" size="icon" asChild>
 1093:                           <Link href={`/categories/${category.id}`}>
 1094:                             <Eye className="h-4 w-4" />
 1095:                           </Link>
 1096:                         </Button>
 1097:                         <Button variant="ghost" size="icon" asChild>
 1098:                           <Link href={`/categories/${category.id}/edit`}>
 1099:                             <Edit className="h-4 w-4" />
 1100:                           </Link>
 1101:                         </Button>
 1102:                         <DeleteButton
 1103:                           id={category.id}
 1104:                           name={category.name}
 1105:                           onDelete={handleDelete}
 1106:                           disabled={category.status === "Active" && category.productCount > 0}
 1107:                           disabledReason="Cannot delete a category with active products"
 1108:                         />
 1109:                       </div>
 1110:                     </TableCell>
 1111:                   </TableRow>
 1112:                 ))}
 1113:               </TableBody>
 1114:             </Table>
 1115:           )}
 1116:         </CardContent>
 1117:       </Card>
 1118:     </div>
 1119:   );
 1120: }
 1121: ```
 1122: 
 1123: ## app\categories\[id]\edit\page.tsx
 1124: 
 1125: - Characters: 9498
 1126: - Tokens: 0
 1127: 
 1128: ```text
 1129: "use client";
 1130: 
 1131: import { useState, useEffect } from "react";
 1132: import { useRouter } from "next/navigation";
 1133: import { useForm } from "react-hook-form";
 1134: import { zodResolver } from "@hookform/resolvers/zod";
 1135: import * as z from "zod";
 1136: import { ArrowLeft } from "lucide-react";
 1137: import Link from "next/link";
 1138: 
 1139: import { Button } from "@/components/ui/button";
 1140: import {
 1141:   Form,
 1142:   FormControl,
 1143:   FormDescription,
 1144:   FormField,
 1145:   FormItem,
 1146:   FormLabel,
 1147:   FormMessage,
 1148: } from "@/components/ui/form";
 1149: import { Input } from "@/components/ui/input";
 1150: import { Textarea } from "@/components/ui/textarea";
 1151: import {
 1152:   Select,
 1153:   SelectContent,
 1154:   SelectItem,
 1155:   SelectTrigger,
 1156:   SelectValue,
 1157: } from "@/components/ui/select";
 1158: import { useToast } from "@/hooks/use-toast";
 1159: import {
 1160:   Card,
 1161:   CardContent,
 1162:   CardDescription,
 1163:   CardHeader,
 1164:   CardTitle,
 1165: } from "@/components/ui/card";
 1166: import { Skeleton } from "@/components/ui/skeleton";
 1167: 
 1168: // Mock categories data - this would normally be in a database
 1169: const mockCategories = [
 1170:   {
 1171:     id: "1",
 1172:     name: "Shirts",
 1173:     description: "All types of shirts and tops",
 1174:     productCount: 45,
 1175:     status: "Active",
 1176:   },
 1177:   {
 1178:     id: "2",
 1179:     name: "Pants",
 1180:     description: "All types of pants and bottoms",
 1181:     productCount: 32,
 1182:     status: "Active",
 1183:   },
 1184:   {
 1185:     id: "3",
 1186:     name: "Dresses",
 1187:     description: "All types of dresses",
 1188:     productCount: 28,
 1189:     status: "Active",
 1190:   },
 1191:   {
 1192:     id: "4",
 1193:     name: "Accessories",
 1194:     description: "Belts, hats, and other accessories",
 1195:     productCount: 56,
 1196:     status: "Active",
 1197:   },
 1198:   {
 1199:     id: "5",
 1200:     name: "Shoes",
 1201:     description: "All types of footwear",
 1202:     productCount: 37,
 1203:     status: "Active",
 1204:   },
 1205:   {
 1206:     id: "6",
 1207:     name: "Seasonal",
 1208:     description: "Seasonal items and collections",
 1209:     productCount: 12,
 1210:     status: "Inactive",
 1211:   },
 1212: ];
 1213: 
 1214: // Create a global variable to store the updated categories if it doesn't exist
 1215: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedCategories')) {
 1216:   window.updatedCategories = [...mockCategories];
 1217: }
 1218: 
 1219: const categorySchema = z.object({
 1220:   name: z.string().min(2, { message: "Name must be at least 2 characters" }),
 1221:   description: z.string().optional(),
 1222:   status: z.enum(["Active", "Inactive"]),
 1223: });
 1224: 
 1225: type CategoryFormValues = z.infer<typeof categorySchema>;
 1226: 
 1227: export default function EditCategoryPage({ params }: { params: { id: string } }) {
 1228:   const router = useRouter();
 1229:   const { toast } = useToast();
 1230:   const [isLoading, setIsLoading] = useState(false);
 1231:   const [isFetching, setIsFetching] = useState(true);
 1232:   const [category, setCategory] = useState<any | null>(null);
 1233: 
 1234:   const form = useForm<CategoryFormValues>({
 1235:     resolver: zodResolver(categorySchema),
 1236:     defaultValues: {
 1237:       name: "",
 1238:       description: "",
 1239:       status: "Active",
 1240:     },
 1241:   });
 1242: 
 1243:   useEffect(() => {
 1244:     // Fetch category data
 1245:     const fetchCategory = async () => {
 1246:       setIsFetching(true);
 1247:       try {
 1248:         // In a real app, this would be an API call
 1249:         // const response = await fetch(`/api/categories/${params.id}`);
 1250:         // const data = await response.json();
 1251:         
 1252:         // Get data from our mock database (window.updatedCategories)
 1253:         setTimeout(() => {
 1254:           const categories = typeof window !== 'undefined' ? window.updatedCategories : mockCategories;
 1255:           const foundCategory = categories.find(c => c.id === params.id);
 1256:           
 1257:           if (foundCategory) {
 1258:             setCategory(foundCategory);
 1259:             form.reset({
 1260:               name: foundCategory.name,
 1261:               description: foundCategory.description || "",
 1262:               status: foundCategory.status as "Active" | "Inactive",
 1263:             });
 1264:           }
 1265:           
 1266:           setIsFetching(false);
 1267:         }, 1000);
 1268:       } catch (error) {
 1269:         toast({
 1270:           title: "Error",
 1271:           description: "Failed to load category details",
 1272:           variant: "destructive",
 1273:         });
 1274:         setIsFetching(false);
 1275:       }
 1276:     };
 1277: 
 1278:     fetchCategory();
 1279:   }, [params.id, toast, form]);
 1280: 
 1281:   async function onSubmit(data: CategoryFormValues) {
 1282:     setIsLoading(true);
 1283:     
 1284:     try {
 1285:       // In a real application, this would be an API call
 1286:       // const response = await fetch(`/api/categories/${params.id}`, {
 1287:       //   method: "PUT",
 1288:       //   headers: {
 1289:       //     "Content-Type": "application/json",
 1290:       //   },
 1291:       //   body: JSON.stringify(data),
 1292:       // });
 1293:       
 1294:       // if (!response.ok) {
 1295:       //   throw new Error("Failed to update category");
 1296:       // }
 1297:       
 1298:       // Simulate API call and update our mock database
 1299:       await new Promise(resolve => setTimeout(resolve, 1000));
 1300:       
 1301:       // Update the category in our mock database
 1302:       if (typeof window !== 'undefined') {
 1303:         const index = window.updatedCategories.findIndex(c => c.id === params.id);
 1304:         if (index !== -1) {
 1305:           window.updatedCategories[index] = {
 1306:             ...window.updatedCategories[index],
 1307:             ...data
 1308:           };
 1309:           
 1310:           // Log the updated categories for debugging
 1311:           console.log("Updated categories:", window.updatedCategories);
 1312:         }
 1313:       }
 1314:       
 1315:       toast({
 1316:         title: "Category updated",
 1317:         description: "The category has been updated successfully.",
 1318:       });
 1319:       
 1320:       router.push(`/categories/${params.id}`);
 1321:     } catch (error) {
 1322:       toast({
 1323:         title: "Error",
 1324:         description: error instanceof Error ? error.message : "An error occurred",
 1325:         variant: "destructive",
 1326:       });
 1327:     } finally {
 1328:       setIsLoading(false);
 1329:     }
 1330:   }
 1331: 
 1332:   return (
 1333:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 1334:       <div className="flex items-center gap-2">
 1335:         <Button variant="ghost" size="icon" asChild>
 1336:           <Link href={`/categories/${params.id}`}>
 1337:             <ArrowLeft className="h-4 w-4" />
 1338:           </Link>
 1339:         </Button>
 1340:         <h1 className="text-3xl font-bold tracking-tight">
 1341:           {isFetching ? <Skeleton className="h-9 w-40" /> : `Edit ${category?.name}`}
 1342:         </h1>
 1343:       </div>
 1344:       
 1345:       <Card>
 1346:         <CardHeader>
 1347:           <CardTitle>Category Information</CardTitle>
 1348:           <CardDescription>
 1349:             Update the category details
 1350:           </CardDescription>
 1351:         </CardHeader>
 1352:         <CardContent>
 1353:           {isFetching ? (
 1354:             <div className="space-y-4">
 1355:               <Skeleton className="h-10 w-full" />
 1356:               <Skeleton className="h-10 w-full" />
 1357:               <Skeleton className="h-10 w-full" />
 1358:             </div>
 1359:           ) : (
 1360:             <Form {...form}>
 1361:               <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
 1362:                 <FormField
 1363:                   control={form.control}
 1364:                   name="name"
 1365:                   render={({ field }) => (
 1366:                     <FormItem>
 1367:                       <FormLabel>Name</FormLabel>
 1368:                       <FormControl>
 1369:                         <Input placeholder="Category Name" {...field} />
 1370:                       </FormControl>
 1371:                       <FormMessage />
 1372:                     </FormItem>
 1373:                   )}
 1374:                 />
 1375:                 
 1376:                 <FormField
 1377:                   control={form.control}
 1378:                   name="description"
 1379:                   render={({ field }) => (
 1380:                     <FormItem>
 1381:                       <FormLabel>Description</FormLabel>
 1382:                       <FormControl>
 1383:                         <Textarea
 1384:                           placeholder="Category description..."
 1385:                           {...field}
 1386:                         />
 1387:                       </FormControl>
 1388:                       <FormDescription>
 1389:                         A brief description of what products belong in this category
 1390:                       </FormDescription>
 1391:                       <FormMessage />
 1392:                     </FormItem>
 1393:                   )}
 1394:                 />
 1395:                 
 1396:                 <FormField
 1397:                   control={form.control}
 1398:                   name="status"
 1399:                   render={({ field }) => (
 1400:                     <FormItem>
 1401:                       <FormLabel>Status</FormLabel>
 1402:                       <Select
 1403:                         onValueChange={field.onChange}
 1404:                         defaultValue={field.value}
 1405:                       >
 1406:                         <FormControl>
 1407:                           <SelectTrigger>
 1408:                             <SelectValue placeholder="Select status" />
 1409:                           </SelectTrigger>
 1410:                         </FormControl>
 1411:                         <SelectContent>
 1412:                           <SelectItem value="Active">Active</SelectItem>
 1413:                           <SelectItem value="Inactive">Inactive</SelectItem>
 1414:                         </SelectContent>
 1415:                       </Select>
 1416:                       <FormMessage />
 1417:                     </FormItem>
 1418:                   )}
 1419:                 />
 1420:                 
 1421:                 <div className="flex justify-end space-x-2">
 1422:                   <Button
 1423:                     variant="outline"
 1424:                     onClick={() => router.push(`/categories/${params.id}`)}
 1425:                     type="button"
 1426:                   >
 1427:                     Cancel
 1428:                   </Button>
 1429:                   <Button type="submit" disabled={isLoading}>
 1430:                     {isLoading ? "Saving..." : "Save Changes"}
 1431:                   </Button>
 1432:                 </div>
 1433:               </form>
 1434:             </Form>
 1435:           )}
 1436:         </CardContent>
 1437:       </Card>
 1438:     </div>
 1439:   );
 1440: }
 1441: ```
 1442: 
 1443: ## app\categories\[id]\page.tsx
 1444: 
 1445: - Characters: 8398
 1446: - Tokens: 0
 1447: 
 1448: ```text
 1449: "use client";
 1450: 
 1451: import { useState, useEffect } from "react";
 1452: import { useRouter } from "next/navigation";
 1453: import Link from "next/link";
 1454: import { ArrowLeft, Edit, Package } from "lucide-react";
 1455: import { Button } from "@/components/ui/button";
 1456: import {
 1457:   Card,
 1458:   CardContent,
 1459:   CardDescription,
 1460:   CardHeader,
 1461:   CardTitle,
 1462: } from "@/components/ui/card";
 1463: import { Skeleton } from "@/components/ui/skeleton";
 1464: import { Badge } from "@/components/ui/badge";
 1465: import { DeleteButton } from "@/components/shared/delete-button";
 1466: import { useToast } from "@/hooks/use-toast";
 1467: 
 1468: // Mock categories data - this would normally be in a database
 1469: const mockCategories = [
 1470:   {
 1471:     id: "1",
 1472:     name: "Shirts",
 1473:     description: "All types of shirts and tops",
 1474:     productCount: 45,
 1475:     status: "Active",
 1476:   },
 1477:   {
 1478:     id: "2",
 1479:     name: "Pants",
 1480:     description: "All types of pants and bottoms",
 1481:     productCount: 32,
 1482:     status: "Active",
 1483:   },
 1484:   {
 1485:     id: "3",
 1486:     name: "Dresses",
 1487:     description: "All types of dresses",
 1488:     productCount: 28,
 1489:     status: "Active",
 1490:   },
 1491:   {
 1492:     id: "4",
 1493:     name: "Accessories",
 1494:     description: "Belts, hats, and other accessories",
 1495:     productCount: 56,
 1496:     status: "Active",
 1497:   },
 1498:   {
 1499:     id: "5",
 1500:     name: "Shoes",
 1501:     description: "All types of footwear",
 1502:     productCount: 37,
 1503:     status: "Active",
 1504:   },
 1505:   {
 1506:     id: "6",
 1507:     name: "Seasonal",
 1508:     description: "Seasonal items and collections",
 1509:     productCount: 12,
 1510:     status: "Inactive",
 1511:   },
 1512: ];
 1513: 
 1514: // Create a global variable to store the updated categories if it doesn't exist
 1515: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedCategories')) {
 1516:   window.updatedCategories = [...mockCategories];
 1517: }
 1518: 
 1519: interface Category {
 1520:   id: string;
 1521:   name: string;
 1522:   description: string;
 1523:   productCount: number;
 1524:   status: string;
 1525: }
 1526: 
 1527: export default function CategoryDetailsPage({ params }: { params: { id: string } }) {
 1528:   const router = useRouter();
 1529:   const { toast } = useToast();
 1530:   const [category, setCategory] = useState<Category | null>(null);
 1531:   const [isLoading, setIsLoading] = useState(true);
 1532: 
 1533:   useEffect(() => {
 1534:     // Fetch category details
 1535:     const fetchCategory = async () => {
 1536:       setIsLoading(true);
 1537:       try {
 1538:         // In a real app, this would be an API call
 1539:         // const response = await fetch(`/api/categories/${params.id}`);
 1540:         // const data = await response.json();
 1541:         
 1542:         // Get data from our mock database (window.updatedCategories)
 1543:         setTimeout(() => {
 1544:           const categories = typeof window !== 'undefined' ? window.updatedCategories : mockCategories;
 1545:           const foundCategory = categories.find(c => c.id === params.id);
 1546:           
 1547:           setCategory(foundCategory || null);
 1548:           setIsLoading(false);
 1549:         }, 1000);
 1550:       } catch (error) {
 1551:         toast({
 1552:           title: "Error",
 1553:           description: "Failed to load category details",
 1554:           variant: "destructive",
 1555:         });
 1556:         setIsLoading(false);
 1557:       }
 1558:     };
 1559: 
 1560:     fetchCategory();
 1561:   }, [params.id, toast]);
 1562: 
 1563:   const handleDelete = async (id: string) => {
 1564:     // Simulate API call to delete category
 1565:     return new Promise<void>((resolve, reject) => {
 1566:       setTimeout(() => {
 1567:         // In a real app, this would be an API call
 1568:         // const response = await fetch(`/api/categories/${id}`, { method: 'DELETE' });
 1569:         // if (!response.ok) throw new Error('Failed to delete category');
 1570:         
 1571:         if (category?.status === "Active" && category.productCount > 0) {
 1572:           reject(new Error("Cannot delete a category with active products"));
 1573:         } else {
 1574:           // Update our mock database
 1575:           if (typeof window !== 'undefined') {
 1576:             window.updatedCategories = window.updatedCategories.filter(c => c.id !== id);
 1577:           }
 1578:           
 1579:           router.push("/categories");
 1580:           resolve();
 1581:         }
 1582:       }, 1000);
 1583:     });
 1584:   };
 1585: 
 1586:   return (
 1587:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 1588:       <div className="flex items-center justify-between">
 1589:         <div className="flex items-center gap-2">
 1590:           <Button variant="ghost" size="icon" asChild>
 1591:             <Link href="/categories">
 1592:               <ArrowLeft className="h-4 w-4" />
 1593:             </Link>
 1594:           </Button>
 1595:           <h1 className="text-3xl font-bold tracking-tight">
 1596:             {isLoading ? <Skeleton className="h-9 w-40" /> : category?.name}
 1597:           </h1>
 1598:         </div>
 1599:         
 1600:         <div className="flex items-center gap-2">
 1601:           {!isLoading && category && (
 1602:             <>
 1603:               <Button variant="outline" size="sm" asChild>
 1604:                 <Link href={`/categories/${params.id}/edit`}>
 1605:                   <Edit className="mr-2 h-4 w-4" />
 1606:                   Edit
 1607:                 </Link>
 1608:               </Button>
 1609:               
 1610:               <DeleteButton
 1611:                 id={params.id}
 1612:                 name={category.name}
 1613:                 onDelete={handleDelete}
 1614:                 disabled={category.status === "Active" && category.productCount > 0}
 1615:                 disabledReason="Cannot delete a category with active products"
 1616:               />
 1617:             </>
 1618:           )}
 1619:         </div>
 1620:       </div>
 1621:       
 1622:       {isLoading ? (
 1623:         <Card>
 1624:           <CardHeader>
 1625:             <Skeleton className="h-7 w-40 mb-2" />
 1626:             <Skeleton className="h-5 w-60" />
 1627:           </CardHeader>
 1628:           <CardContent className="space-y-4">
 1629:             <Skeleton className="h-5 w-full" />
 1630:             <Skeleton className="h-5 w-3/4" />
 1631:             <Skeleton className="h-5 w-1/2" />
 1632:           </CardContent>
 1633:         </Card>
 1634:       ) : category ? (
 1635:         <>
 1636:           <Card>
 1637:             <CardHeader>
 1638:               <CardTitle className="flex items-center justify-between">
 1639:                 Category Details
 1640:                 <Badge className={category.status === "Active" ? "bg-emerald-500" : "bg-gray-500"}>
 1641:                   {category.status}
 1642:                 </Badge>
 1643:               </CardTitle>
 1644:               <CardDescription>
 1645:                 Detailed information about this category
 1646:               </CardDescription>
 1647:             </CardHeader>
 1648:             <CardContent className="space-y-4">
 1649:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 1650:                 <div>
 1651:                   <h3 className="text-sm font-medium text-muted-foreground">Name</h3>
 1652:                   <p className="text-base">{category.name}</p>
 1653:                 </div>
 1654:                 <div>
 1655:                   <h3 className="text-sm font-medium text-muted-foreground">Products</h3>
 1656:                   <p className="text-base">{category.productCount}</p>
 1657:                 </div>
 1658:               </div>
 1659:               
 1660:               <div>
 1661:                 <h3 className="text-sm font-medium text-muted-foreground">Description</h3>
 1662:                 <p className="text-base">{category.description}</p>
 1663:               </div>
 1664:             </CardContent>
 1665:           </Card>
 1666:           
 1667:           <Card>
 1668:             <CardHeader>
 1669:               <CardTitle className="flex items-center">
 1670:                 <Package className="mr-2 h-5 w-5" />
 1671:                 Products in this Category
 1672:               </CardTitle>
 1673:               <CardDescription>
 1674:                 Products that belong to the {category.name} category
 1675:               </CardDescription>
 1676:             </CardHeader>
 1677:             <CardContent>
 1678:               {category.productCount > 0 ? (
 1679:                 <div className="text-center py-8">
 1680:                   <Button asChild>
 1681:                     <Link href={`/products?category=${params.id}`}>
 1682:                       View Products
 1683:                     </Link>
 1684:                   </Button>
 1685:                 </div>
 1686:               ) : (
 1687:                 <div className="text-center py-8 text-muted-foreground">
 1688:                   No products in this category
 1689:                 </div>
 1690:               )}
 1691:             </CardContent>
 1692:           </Card>
 1693:         </>
 1694:       ) : (
 1695:         <Card>
 1696:           <CardContent className="flex flex-col items-center justify-center py-10">
 1697:             <h2 className="text-xl font-semibold mb-2">Category Not Found</h2>
 1698:             <p className="text-muted-foreground mb-4">
 1699:               The category you're looking for doesn't exist or has been removed.
 1700:             </p>
 1701:             <Button asChild>
 1702:               <Link href="/categories">Back to Categories</Link>
 1703:             </Button>
 1704:           </CardContent>
 1705:         </Card>
 1706:       )}
 1707:     </div>
 1708:   );
 1709: }
 1710: ```
 1711: 
 1712: ## app\dashboard\layout.tsx
 1713: 
 1714: - Characters: 2111
 1715: - Tokens: 0
 1716: 
 1717: ```text
 1718: "use client";
 1719: 
 1720: import { useEffect, useState } from "react";
 1721: import { useRouter, usePathname } from "next/navigation";
 1722: import { Sidebar } from "@/components/layout/sidebar";
 1723: import { Header } from "@/components/layout/header";
 1724: import { useAuth } from "@/hooks/use-auth";
 1725: import { Loader2 } from "lucide-react";
 1726: 
 1727: export default function DashboardLayout({
 1728:   children,
 1729: }: {
 1730:   children: React.ReactNode;
 1731: }) {
 1732:   const { user } = useAuth();
 1733:   const router = useRouter();
 1734:   const pathname = usePathname();
 1735:   const [isLoading, setIsLoading] = useState(true);
 1736:   const [currentPath, setCurrentPath] = useState(pathname);
 1737:   const [isTransitioning, setIsTransitioning] = useState(false);
 1738:   
 1739:   // Handle authentication check
 1740:   useEffect(() => {
 1741:     if (!user) {
 1742:       router.push("/login");
 1743:     } else {
 1744:       // Simulate loading delay
 1745:       const timer = setTimeout(() => {
 1746:         setIsLoading(false);
 1747:       }, 500);
 1748:       
 1749:       return () => clearTimeout(timer);
 1750:     }
 1751:   }, [user, router]);
 1752:   
 1753:   // Handle route transitions
 1754:   useEffect(() => {
 1755:     if (pathname !== currentPath) {
 1756:       setIsTransitioning(true);
 1757:       
 1758:       // Short delay to allow transition to complete
 1759:       const timer = setTimeout(() => {
 1760:         setCurrentPath(pathname);
 1761:         setIsTransitioning(false);
 1762:       }, 300);
 1763:       
 1764:       return () => clearTimeout(timer);
 1765:     }
 1766:   }, [pathname, currentPath]);
 1767:   
 1768:   if (!user || isLoading) {
 1769:     return (
 1770:       <div className="flex min-h-screen items-center justify-center">
 1771:         <div className="flex flex-col items-center space-y-4">
 1772:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
 1773:           <p className="text-lg font-medium">Loading dashboard...</p>
 1774:         </div>
 1775:       </div>
 1776:     );
 1777:   }
 1778:   
 1779:   return (
 1780:     <div className="flex min-h-screen">
 1781:       <div className="hidden md:block">
 1782:         <Sidebar />
 1783:       </div>
 1784:       <div className="flex flex-col flex-1">
 1785:         <Header />
 1786:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
 1787:           {children}
 1788:         </main>
 1789:       </div>
 1790:     </div>
 1791:   );
 1792: }
 1793: ```
 1794: 
 1795: ## app\dashboard\page.tsx
 1796: 
 1797: - Characters: 7573
 1798: - Tokens: 0
 1799: 
 1800: ```text
 1801: "use client";
 1802: 
 1803: import { useState, useEffect, Suspense } from "react";
 1804: import dynamic from "next/dynamic";
 1805: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
 1806: import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
 1807: import { 
 1808:   AlertCircle, 
 1809:   ArrowDown, 
 1810:   ArrowUp, 
 1811:   DollarSign, 
 1812:   Package, 
 1813:   ShoppingCart, 
 1814:   Truck 
 1815: } from "lucide-react";
 1816: import { Skeleton } from "@/components/ui/skeleton";
 1817: 
 1818: // Dynamically import chart components
 1819: const DynamicCharts = dynamic(
 1820:   () => import('@/components/dashboard/charts'),
 1821:   { 
 1822:     loading: () => <ChartSkeleton />,
 1823:     ssr: false
 1824:   }
 1825: );
 1826: 
 1827: // Sample data for demonstration
 1828: const salesData = [
 1829:   { name: "Jan", total: 1200 },
 1830:   { name: "Feb", total: 1800 },
 1831:   { name: "Mar", total: 2200 },
 1832:   { name: "Apr", total: 2600 },
 1833:   { name: "May", total: 3200 },
 1834:   { name: "Jun", total: 3800 },
 1835:   { name: "Jul", total: 4200 },
 1836: ];
 1837: 
 1838: const inventoryData = [
 1839:   { name: "Shirts", value: 400 },
 1840:   { name: "Pants", value: 300 },
 1841:   { name: "Dresses", value: 200 },
 1842:   { name: "Accessories", value: 100 },
 1843:   { name: "Shoes", value: 150 },
 1844: ];
 1845: 
 1846: function ChartSkeleton() {
 1847:   return (
 1848:     <div className="w-full space-y-2">
 1849:       <Skeleton className="h-[350px] w-full rounded-md" />
 1850:     </div>
 1851:   );
 1852: }
 1853: 
 1854: function StatCard({ title, value, icon, change, isPositive }) {
 1855:   return (
 1856:     <Card className="transition-all duration-300 hover:shadow-md">
 1857:       <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
 1858:         <CardTitle className="text-sm font-medium">{title}</CardTitle>
 1859:         {icon}
 1860:       </CardHeader>
 1861:       <CardContent>
 1862:         <div className="text-2xl font-bold">{value}</div>
 1863:         <p className="text-xs text-muted-foreground">
 1864:           <span className={`flex items-center ${isPositive ? 'text-emerald-500' : 'text-rose-500'}`}>
 1865:             {isPositive ? <ArrowUp className="mr-1 h-4 w-4" /> : <ArrowDown className="mr-1 h-4 w-4" />}
 1866:             {change}
 1867:           </span>{" "}
 1868:           from last month
 1869:         </p>
 1870:       </CardContent>
 1871:     </Card>
 1872:   );
 1873: }
 1874: 
 1875: function PurchaseItem({ number, collection, status, statusColor }) {
 1876:   return (
 1877:     <div className="flex items-center justify-between border-b pb-4">
 1878:       <div className="flex items-center space-x-3">
 1879:         <Truck className="h-5 w-5 text-muted-foreground" />
 1880:         <div>
 1881:           <p className="font-medium">{number}</p>
 1882:           <p className="text-sm text-muted-foreground">{collection}</p>
 1883:         </div>
 1884:       </div>
 1885:       <div className="flex items-center">
 1886:         <span className={`rounded-full ${statusColor} px-2 py-1 text-xs font-medium`}>
 1887:           {status}
 1888:         </span>
 1889:       </div>
 1890:     </div>
 1891:   );
 1892: }
 1893: 
 1894: export default function DashboardPage() {
 1895:   const [isLoading, setIsLoading] = useState(true);
 1896:   const [activeTab, setActiveTab] = useState("overview");
 1897:   
 1898:   // Simulate data loading
 1899:   useEffect(() => {
 1900:     const timer = setTimeout(() => {
 1901:       setIsLoading(false);
 1902:     }, 1000);
 1903:     
 1904:     return () => clearTimeout(timer);
 1905:   }, []);
 1906: 
 1907:   return (
 1908:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 1909:       <h1 className="text-3xl font-bold tracking-tight">Dashboard</h1>
 1910:       
 1911:       <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
 1912:         <Suspense fallback={<Skeleton className="h-[120px] w-full rounded-md" />}>
 1913:           <StatCard 
 1914:             title="Total Revenue" 
 1915:             value="$45,231.89" 
 1916:             icon={<DollarSign className="h-4 w-4 text-muted-foreground" />}
 1917:             change="+20.1%" 
 1918:             isPositive={true}
 1919:           />
 1920:         </Suspense>
 1921:         
 1922:         <Suspense fallback={<Skeleton className="h-[120px] w-full rounded-md" />}>
 1923:           <StatCard 
 1924:             title="Sales" 
 1925:             value="+573" 
 1926:             icon={<ShoppingCart className="h-4 w-4 text-muted-foreground" />}
 1927:             change="+12.5%" 
 1928:             isPositive={true}
 1929:           />
 1930:         </Suspense>
 1931:         
 1932:         <Suspense fallback={<Skeleton className="h-[120px] w-full rounded-md" />}>
 1933:           <StatCard 
 1934:             title="Active Products" 
 1935:             value="1,324" 
 1936:             icon={<Package className="h-4 w-4 text-muted-foreground" />}
 1937:             change="+7.2%" 
 1938:             isPositive={true}
 1939:           />
 1940:         </Suspense>
 1941:         
 1942:         <Suspense fallback={<Skeleton className="h-[120px] w-full rounded-md" />}>
 1943:           <StatCard 
 1944:             title="Low Stock Items" 
 1945:             value="24" 
 1946:             icon={<AlertCircle className="h-4 w-4 text-muted-foreground" />}
 1947:             change="+12" 
 1948:             isPositive={false}
 1949:           />
 1950:         </Suspense>
 1951:       </div>
 1952:       
 1953:       <Tabs 
 1954:         defaultValue="overview" 
 1955:         className="space-y-4"
 1956:         value={activeTab}
 1957:         onValueChange={setActiveTab}
 1958:       >
 1959:         <TabsList>
 1960:           <TabsTrigger value="overview">Overview</TabsTrigger>
 1961:           <TabsTrigger value="inventory">Inventory</TabsTrigger>
 1962:           <TabsTrigger value="purchases">Purchases</TabsTrigger>
 1963:         </TabsList>
 1964:         
 1965:         <TabsContent value="overview" className="space-y-4">
 1966:           <Card>
 1967:             <CardHeader>
 1968:               <CardTitle>Sales Overview</CardTitle>
 1969:               <CardDescription>
 1970:                 Monthly sales performance for the current year
 1971:               </CardDescription>
 1972:             </CardHeader>
 1973:             <CardContent className="pl-2">
 1974:               {activeTab === "overview" && (
 1975:                 <Suspense fallback={<ChartSkeleton />}>
 1976:                   <DynamicCharts type="line" data={salesData} />
 1977:                 </Suspense>
 1978:               )}
 1979:             </CardContent>
 1980:           </Card>
 1981:         </TabsContent>
 1982:         
 1983:         <TabsContent value="inventory" className="space-y-4">
 1984:           <Card>
 1985:             <CardHeader>
 1986:               <CardTitle>Inventory Distribution</CardTitle>
 1987:               <CardDescription>
 1988:                 Current inventory levels by product category
 1989:               </CardDescription>
 1990:             </CardHeader>
 1991:             <CardContent className="pl-2">
 1992:               {activeTab === "inventory" && (
 1993:                 <Suspense fallback={<ChartSkeleton />}>
 1994:                   <DynamicCharts type="bar" data={inventoryData} />
 1995:                 </Suspense>
 1996:               )}
 1997:             </CardContent>
 1998:           </Card>
 1999:         </TabsContent>
 2000:         
 2001:         <TabsContent value="purchases" className="space-y-4">
 2002:           <Card>
 2003:             <CardHeader>
 2004:               <CardTitle>Recent Purchase Orders</CardTitle>
 2005:               <CardDescription>
 2006:                 Latest purchase orders and their status
 2007:               </CardDescription>
 2008:             </CardHeader>
 2009:             <CardContent>
 2010:               <div className="space-y-4">
 2011:                 <PurchaseItem 
 2012:                   number="PO-2023-001" 
 2013:                   collection="Summer Collection" 
 2014:                   status="Received" 
 2015:                   statusColor="bg-emerald-100 text-emerald-800" 
 2016:                 />
 2017:                 
 2018:                 <PurchaseItem 
 2019:                   number="PO-2023-002" 
 2020:                   collection="Fall Collection" 
 2021:                   status="Ordered" 
 2022:                   statusColor="bg-blue-100 text-blue-800" 
 2023:                 />
 2024:                 
 2025:                 <PurchaseItem 
 2026:                   number="PO-2023-003" 
 2027:                   collection="Winter Collection" 
 2028:                   status="Draft" 
 2029:                   statusColor="bg-amber-100 text-amber-800" 
 2030:                 />
 2031:               </div>
 2032:             </CardContent>
 2033:           </Card>
 2034:         </TabsContent>
 2035:       </Tabs>
 2036:     </div>
 2037:   );
 2038: }
 2039: ```
 2040: 
 2041: ## app\globals.css
 2042: 
 2043: - Characters: 2484
 2044: - Tokens: 0
 2045: 
 2046: ```css
 2047: @tailwind base;
 2048: @tailwind components;
 2049: @tailwind utilities;
 2050: 
 2051: :root {
 2052:   --foreground-rgb: 0, 0, 0;
 2053:   --background-start-rgb: 214, 219, 220;
 2054:   --background-end-rgb: 255, 255, 255;
 2055: }
 2056: 
 2057: @media (prefers-color-scheme: dark) {
 2058:   :root {
 2059:     --foreground-rgb: 255, 255, 255;
 2060:     --background-start-rgb: 0, 0, 0;
 2061:     --background-end-rgb: 0, 0, 0;
 2062:   }
 2063: }
 2064: 
 2065: @layer base {
 2066:   :root {
 2067:     --background: 0 0% 100%;
 2068:     --foreground: 0 0% 3.9%;
 2069:     --card: 0 0% 100%;
 2070:     --card-foreground: 0 0% 3.9%;
 2071:     --popover: 0 0% 100%;
 2072:     --popover-foreground: 0 0% 3.9%;
 2073:     --primary: 0 0% 9%;
 2074:     --primary-foreground: 0 0% 98%;
 2075:     --secondary: 0 0% 96.1%;
 2076:     --secondary-foreground: 0 0% 9%;
 2077:     --muted: 0 0% 96.1%;
 2078:     --muted-foreground: 0 0% 45.1%;
 2079:     --accent: 0 0% 96.1%;
 2080:     --accent-foreground: 0 0% 9%;
 2081:     --destructive: 0 84.2% 60.2%;
 2082:     --destructive-foreground: 0 0% 98%;
 2083:     --border: 0 0% 89.8%;
 2084:     --input: 0 0% 89.8%;
 2085:     --ring: 0 0% 3.9%;
 2086:     --chart-1: 12 76% 61%;
 2087:     --chart-2: 173 58% 39%;
 2088:     --chart-3: 197 37% 24%;
 2089:     --chart-4: 43 74% 66%;
 2090:     --chart-5: 27 87% 67%;
 2091:     --radius: 0.5rem;
 2092:   }
 2093:   .dark {
 2094:     --background: 0 0% 3.9%;
 2095:     --foreground: 0 0% 98%;
 2096:     --card: 0 0% 3.9%;
 2097:     --card-foreground: 0 0% 98%;
 2098:     --popover: 0 0% 3.9%;
 2099:     --popover-foreground: 0 0% 98%;
 2100:     --primary: 0 0% 98%;
 2101:     --primary-foreground: 0 0% 9%;
 2102:     --secondary: 0 0% 14.9%;
 2103:     --secondary-foreground: 0 0% 98%;
 2104:     --muted: 0 0% 14.9%;
 2105:     --muted-foreground: 0 0% 63.9%;
 2106:     --accent: 0 0% 14.9%;
 2107:     --accent-foreground: 0 0% 98%;
 2108:     --destructive: 0 62.8% 30.6%;
 2109:     --destructive-foreground: 0 0% 98%;
 2110:     --border: 0 0% 14.9%;
 2111:     --input: 0 0% 14.9%;
 2112:     --ring: 0 0% 83.1%;
 2113:     --chart-1: 220 70% 50%;
 2114:     --chart-2: 160 60% 45%;
 2115:     --chart-3: 30 80% 55%;
 2116:     --chart-4: 280 65% 60%;
 2117:     --chart-5: 340 75% 55%;
 2118:   }
 2119: }
 2120: 
 2121: @layer base {
 2122:   * {
 2123:     @apply border-border;
 2124:   }
 2125:   body {
 2126:     @apply bg-background text-foreground;
 2127:   }
 2128: }
 2129: 
 2130: @layer utilities {
 2131:   .animate-in {
 2132:     animation-duration: 300ms;
 2133:     animation-timing-function: ease-out;
 2134:     animation-fill-mode: both;
 2135:   }
 2136:   
 2137:   .fade-in {
 2138:     animation-name: fade-in;
 2139:   }
 2140:   
 2141:   @keyframes fade-in {
 2142:     from {
 2143:       opacity: 0;
 2144:     }
 2145:     to {
 2146:       opacity: 1;
 2147:     }
 2148:   }
 2149:   
 2150:   .slide-in-from-bottom {
 2151:     animation-name: slide-in-from-bottom;
 2152:   }
 2153:   
 2154:   @keyframes slide-in-from-bottom {
 2155:     from {
 2156:       transform: translateY(10px);
 2157:       opacity: 0;
 2158:     }
 2159:     to {
 2160:       transform: translateY(0);
 2161:       opacity: 1;
 2162:     }
 2163:   }
 2164: }
 2165: ```
 2166: 
 2167: ## app\inventory-audit\layout.tsx
 2168: 
 2169: - Characters: 2106
 2170: - Tokens: 0
 2171: 
 2172: ```text
 2173: "use client";
 2174: 
 2175: import { useEffect, useState } from "react";
 2176: import { useRouter, usePathname } from "next/navigation";
 2177: import { Sidebar } from "@/components/layout/sidebar";
 2178: import { Header } from "@/components/layout/header";
 2179: import { useAuth } from "@/hooks/use-auth";
 2180: import { Loader2 } from "lucide-react";
 2181: 
 2182: export default function InventoryAuditLayout({
 2183:   children,
 2184: }: {
 2185:   children: React.ReactNode;
 2186: }) {
 2187:   const { user } = useAuth();
 2188:   const router = useRouter();
 2189:   const pathname = usePathname();
 2190:   const [isLoading, setIsLoading] = useState(true);
 2191:   const [currentPath, setCurrentPath] = useState(pathname);
 2192:   const [isTransitioning, setIsTransitioning] = useState(false);
 2193:   
 2194:   // Handle authentication check
 2195:   useEffect(() => {
 2196:     if (!user) {
 2197:       router.push("/login");
 2198:     } else {
 2199:       // Simulate loading delay
 2200:       const timer = setTimeout(() => {
 2201:         setIsLoading(false);
 2202:       }, 500);
 2203:       
 2204:       return () => clearTimeout(timer);
 2205:     }
 2206:   }, [user, router]);
 2207:   
 2208:   // Handle route transitions
 2209:   useEffect(() => {
 2210:     if (pathname !== currentPath) {
 2211:       setIsTransitioning(true);
 2212:       
 2213:       // Short delay to allow transition to complete
 2214:       const timer = setTimeout(() => {
 2215:         setCurrentPath(pathname);
 2216:         setIsTransitioning(false);
 2217:       }, 300);
 2218:       
 2219:       return () => clearTimeout(timer);
 2220:     }
 2221:   }, [pathname, currentPath]);
 2222:   
 2223:   if (!user || isLoading) {
 2224:     return (
 2225:       <div className="flex min-h-screen items-center justify-center">
 2226:         <div className="flex flex-col items-center space-y-4">
 2227:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
 2228:           <p className="text-lg font-medium">Loading...</p>
 2229:         </div>
 2230:       </div>
 2231:     );
 2232:   }
 2233:   
 2234:   return (
 2235:     <div className="flex min-h-screen">
 2236:       <div className="hidden md:block">
 2237:         <Sidebar />
 2238:       </div>
 2239:       <div className="flex flex-col flex-1">
 2240:         <Header />
 2241:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
 2242:           {children}
 2243:         </main>
 2244:       </div>
 2245:     </div>
 2246:   );
 2247: }
 2248: ```
 2249: 
 2250: ## app\inventory-audit\page.tsx
 2251: 
 2252: - Characters: 6513
 2253: - Tokens: 0
 2254: 
 2255: ```text
 2256: "use client";
 2257: 
 2258: import Link from "next/link";
 2259: import { Plus, Edit, Eye } from "lucide-react";
 2260: import { Button } from "@/components/ui/button";
 2261: import {
 2262:   Card,
 2263:   CardContent,
 2264:   CardDescription,
 2265:   CardHeader,
 2266:   CardTitle,
 2267: } from "@/components/ui/card";
 2268: import {
 2269:   Table,
 2270:   TableBody,
 2271:   TableCell,
 2272:   TableHead,
 2273:   TableHeader,
 2274:   TableRow,
 2275: } from "@/components/ui/table";
 2276: import { Badge } from "@/components/ui/badge";
 2277: import { format } from "date-fns";
 2278: import { useState, useEffect } from "react";
 2279: import { Skeleton } from "@/components/ui/skeleton";
 2280: import { DeleteButton } from "@/components/shared/delete-button";
 2281: import { useToast } from "@/hooks/use-toast";
 2282: 
 2283: // Sample data for demonstration
 2284: const audits = [
 2285:   {
 2286:     id: "1",
 2287:     auditNumber: "IA-2023-001",
 2288:     warehouse: "Main Store",
 2289:     status: "COMPLETED",
 2290:     auditDate: new Date("2023-05-30"),
 2291:     totalItems: 125,
 2292:     discrepancies: 3,
 2293:   },
 2294:   {
 2295:     id: "2",
 2296:     auditNumber: "IA-2023-002",
 2297:     warehouse: "Downtown Branch",
 2298:     status: "IN_PROGRESS",
 2299:     auditDate: new Date("2023-06-15"),
 2300:     totalItems: 85,
 2301:     discrepancies: 0,
 2302:   },
 2303:   {
 2304:     id: "3",
 2305:     auditNumber: "IA-2023-003",
 2306:     warehouse: "Mall Outlet",
 2307:     status: "DRAFT",
 2308:     auditDate: new Date("2023-06-20"),
 2309:     totalItems: 65,
 2310:     discrepancies: 0,
 2311:   },
 2312:   {
 2313:     id: "4",
 2314:     auditNumber: "IA-2023-004",
 2315:     warehouse: "Distribution Center",
 2316:     status: "COMPLETED",
 2317:     auditDate: new Date("2023-04-15"),
 2318:     totalItems: 250,
 2319:     discrepancies: 12,
 2320:   },
 2321: ];
 2322: 
 2323: const getStatusBadge = (status: string) => {
 2324:   switch (status) {
 2325:     case "COMPLETED":
 2326:       return <Badge className="bg-emerald-500">Completed</Badge>;
 2327:     case "IN_PROGRESS":
 2328:       return <Badge className="bg-blue-500">In Progress</Badge>;
 2329:     case "DRAFT":
 2330:       return <Badge variant="outline">Draft</Badge>;
 2331:     default:
 2332:       return <Badge variant="outline">{status}</Badge>;
 2333:   }
 2334: };
 2335: 
 2336: export default function InventoryAuditPage() {
 2337:   const [isLoading, setIsLoading] = useState(true);
 2338:   const [data, setData] = useState(audits);
 2339:   const { toast } = useToast();
 2340: 
 2341:   useEffect(() => {
 2342:     // Simulate data loading
 2343:     const timer = setTimeout(() => {
 2344:       setIsLoading(false);
 2345:     }, 1000);
 2346:     
 2347:     return () => clearTimeout(timer);
 2348:   }, []);
 2349: 
 2350:   const handleDelete = async (id: string) => {
 2351:     // Simulate API call to delete audit
 2352:     return new Promise<void>((resolve, reject) => {
 2353:       setTimeout(() => {
 2354:         const audit = data.find(a => a.id === id);
 2355:         
 2356:         if (audit?.status === "COMPLETED") {
 2357:           reject(new Error("Cannot delete a completed audit."));
 2358:         } else {
 2359:           setData(data.filter(a => a.id !== id));
 2360:           resolve();
 2361:         }
 2362:       }, 1000);
 2363:     });
 2364:   };
 2365: 
 2366:   return (
 2367:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 2368:       <div className="flex items-center justify-between">
 2369:         <h1 className="text-3xl font-bold tracking-tight">Inventory Audit</h1>
 2370:         <Button asChild>
 2371:           <Link href="/inventory-audit/new">
 2372:             <Plus className="mr-2 h-4 w-4" />
 2373:             New Audit
 2374:           </Link>
 2375:         </Button>
 2376:       </div>
 2377:       
 2378:       <Card>
 2379:         <CardHeader>
 2380:           <CardTitle>Audit History</CardTitle>
 2381:           <CardDescription>
 2382:             Track and manage inventory audits across warehouses
 2383:           </CardDescription>
 2384:         </CardHeader>
 2385:         <CardContent>
 2386:           {isLoading ? (
 2387:             <div className="space-y-2">
 2388:               <Skeleton className="h-10 w-full" />
 2389:               <Skeleton className="h-10 w-full" />
 2390:               <Skeleton className="h-10 w-full" />
 2391:               <Skeleton className="h-10 w-full" />
 2392:             </div>
 2393:           ) : (
 2394:             <Table>
 2395:               <TableHeader>
 2396:                 <TableRow>
 2397:                   <TableHead>Audit Number</TableHead>
 2398:                   <TableHead>Warehouse</TableHead>
 2399:                   <TableHead>Status</TableHead>
 2400:                   <TableHead>Date</TableHead>
 2401:                   <TableHead className="text-right">Items Counted</TableHead>
 2402:                   <TableHead className="text-right">Discrepancies</TableHead>
 2403:                   <TableHead className="text-right">Actions</TableHead>
 2404:                 </TableRow>
 2405:               </TableHeader>
 2406:               <TableBody>
 2407:                 {data.map((audit) => (
 2408:                   <TableRow key={audit.id}>
 2409:                     <TableCell className="font-medium">
 2410:                       {audit.auditNumber}
 2411:                     </TableCell>
 2412:                     <TableCell>{audit.warehouse}</TableCell>
 2413:                     <TableCell>{getStatusBadge(audit.status)}</TableCell>
 2414:                     <TableCell>
 2415:                       {format(audit.auditDate, "MMM dd, yyyy")}
 2416:                     </TableCell>
 2417:                     <TableCell className="text-right">
 2418:                       {audit.totalItems}
 2419:                     </TableCell>
 2420:                     <TableCell className="text-right">
 2421:                       {audit.status === "COMPLETED" ? (
 2422:                         <span className={audit.discrepancies > 0 ? "text-red-500 font-medium" : "text-green-500 font-medium"}>
 2423:                           {audit.discrepancies}
 2424:                         </span>
 2425:                       ) : (
 2426:                         "-"
 2427:                       )}
 2428:                     </TableCell>
 2429:                     <TableCell className="text-right">
 2430:                       <div className="flex justify-end gap-2">
 2431:                         <Button variant="ghost" size="icon" asChild>
 2432:                           <Link href={`/inventory-audit/${audit.id}`}>
 2433:                             <Eye className="h-4 w-4" />
 2434:                           </Link>
 2435:                         </Button>
 2436:                         <Button variant="ghost" size="icon" asChild>
 2437:                           <Link href={`/inventory-audit/${audit.id}/edit`}>
 2438:                             <Edit className="h-4 w-4" />
 2439:                           </Link>
 2440:                         </Button>
 2441:                         <DeleteButton
 2442:                           id={audit.id}
 2443:                           name={audit.auditNumber}
 2444:                           onDelete={handleDelete}
 2445:                           disabled={audit.status === "COMPLETED"}
 2446:                           disabledReason="Cannot delete a completed audit."
 2447:                         />
 2448:                       </div>
 2449:                     </TableCell>
 2450:                   </TableRow>
 2451:                 ))}
 2452:               </TableBody>
 2453:             </Table>
 2454:           )}
 2455:         </CardContent>
 2456:       </Card>
 2457:     </div>
 2458:   );
 2459: }
 2460: ```
 2461: 
 2462: ## app\inventory-audit\[id]\page.tsx
 2463: 
 2464: - Characters: 16237
 2465: - Tokens: 0
 2466: 
 2467: ```text
 2468: "use client";
 2469: 
 2470: import { useState, useEffect } from "react";
 2471: import { useRouter } from "next/navigation";
 2472: import Link from "next/link";
 2473: import { ArrowLeft, Edit, ClipboardCheck, AlertCircle } from "lucide-react";
 2474: import { Button } from "@/components/ui/button";
 2475: import {
 2476:   Card,
 2477:   CardContent,
 2478:   CardDescription,
 2479:   CardHeader,
 2480:   CardTitle,
 2481: } from "@/components/ui/card";
 2482: import {
 2483:   Table,
 2484:   TableBody,
 2485:   TableCell,
 2486:   TableHead,
 2487:   TableHeader,
 2488:   TableRow,
 2489: } from "@/components/ui/table";
 2490: import { Skeleton } from "@/components/ui/skeleton";
 2491: import { Badge } from "@/components/ui/badge";
 2492: import { DeleteButton } from "@/components/shared/delete-button";
 2493: import { useToast } from "@/hooks/use-toast";
 2494: import { format } from "date-fns";
 2495: 
 2496: interface InventoryAudit {
 2497:   id: string;
 2498:   auditNumber: string;
 2499:   warehouse: string;
 2500:   status: string;
 2501:   auditDate: Date;
 2502:   totalItems: number;
 2503:   discrepancies: number;
 2504:   items: AuditItem[];
 2505: }
 2506: 
 2507: interface AuditItem {
 2508:   id: string;
 2509:   productId: string;
 2510:   sku: string;
 2511:   name: string;
 2512:   systemQuantity: number;
 2513:   actualQuantity: number;
 2514:   discrepancy: number;
 2515: }
 2516: 
 2517: export default function AuditDetailsPage({ params }: { params: { id: string } }) {
 2518:   const router = useRouter();
 2519:   const { toast } = useToast();
 2520:   const [audit, setAudit] = useState<InventoryAudit | null>(null);
 2521:   const [isLoading, setIsLoading] = useState(true);
 2522: 
 2523:   useEffect(() => {
 2524:     // Simulate API call to fetch audit details
 2525:     const fetchAudit = async () => {
 2526:       setIsLoading(true);
 2527:       try {
 2528:         // In a real app, this would be an API call
 2529:         // const response = await fetch(`/api/inventory-audit/${params.id}`);
 2530:         // const data = await response.json();
 2531:         
 2532:         // Simulate API response with mock data
 2533:         setTimeout(() => {
 2534:           const mockAudits = [
 2535:             {
 2536:               id: "1",
 2537:               auditNumber: "IA-2023-001",
 2538:               warehouse: "Main Store",
 2539:               status: "COMPLETED",
 2540:               auditDate: new Date("2023-05-30"),
 2541:               totalItems: 125,
 2542:               discrepancies: 3,
 2543:               items: [
 2544:                 {
 2545:                   id: "1",
 2546:                   productId: "1",
 2547:                   sku: "SH-001",
 2548:                   name: "Cotton T-Shirt",
 2549:                   systemQuantity: 75,
 2550:                   actualQuantity: 73,
 2551:                   discrepancy: -2
 2552:                 },
 2553:                 {
 2554:                   id: "2",
 2555:                   productId: "2",
 2556:                   sku: "PA-001",
 2557:                   name: "Slim Fit Jeans",
 2558:                   systemQuantity: 45,
 2559:                   actualQuantity: 45,
 2560:                   discrepancy: 0
 2561:                 },
 2562:                 {
 2563:                   id: "3",
 2564:                   productId: "4",
 2565:                   sku: "AC-001",
 2566:                   name: "Leather Belt",
 2567:                   systemQuantity: 50,
 2568:                   actualQuantity: 49,
 2569:                   discrepancy: -1
 2570:                 }
 2571:               ]
 2572:             },
 2573:             {
 2574:               id: "2",
 2575:               auditNumber: "IA-2023-002",
 2576:               warehouse: "Downtown Branch",
 2577:               status: "IN_PROGRESS",
 2578:               auditDate: new Date("2023-06-15"),
 2579:               totalItems: 85,
 2580:               discrepancies: 0,
 2581:               items: [
 2582:                 {
 2583:                   id: "4",
 2584:                   productId: "1",
 2585:                   sku: "SH-001",
 2586:                   name: "Cotton T-Shirt",
 2587:                   systemQuantity: 50,
 2588:                   actualQuantity: 0,
 2589:                   discrepancy: 0
 2590:                 },
 2591:                 {
 2592:                   id: "5",
 2593:                   productId: "2",
 2594:                   sku: "PA-001",
 2595:                   name: "Slim Fit Jeans",
 2596:                   systemQuantity: 25,
 2597:                   actualQuantity: 0,
 2598:                   discrepancy: 0
 2599:                 },
 2600:                 {
 2601:                   id: "6",
 2602:                   productId: "3",
 2603:                   sku: "DR-001",
 2604:                   name: "Summer Dress",
 2605:                   systemQuantity: 10,
 2606:                   actualQuantity: 0,
 2607:                   discrepancy: 0
 2608:                 }
 2609:               ]
 2610:             },
 2611:             {
 2612:               id: "3",
 2613:               auditNumber: "IA-2023-003",
 2614:               warehouse: "Mall Outlet",
 2615:               status: "DRAFT",
 2616:               auditDate: new Date("2023-06-20"),
 2617:               totalItems: 65,
 2618:               discrepancies: 0,
 2619:               items: []
 2620:             },
 2621:             {
 2622:               id: "4",
 2623:               auditNumber: "IA-2023-004",
 2624:               warehouse: "Distribution Center",
 2625:               status: "COMPLETED",
 2626:               auditDate: new Date("2023-04-15"),
 2627:               totalItems: 250,
 2628:               discrepancies: 12,
 2629:               items: [
 2630:                 {
 2631:                   id: "7",
 2632:                   productId: "1",
 2633:                   sku: "SH-001",
 2634:                   name: "Cotton T-Shirt",
 2635:                   systemQuantity: 100,
 2636:                   actualQuantity: 95,
 2637:                   discrepancy: -5
 2638:                 },
 2639:                 {
 2640:                   id: "8",
 2641:                   productId: "2",
 2642:                   sku: "PA-001",
 2643:                   name: "Slim Fit Jeans",
 2644:                   systemQuantity: 75,
 2645:                   actualQuantity: 70,
 2646:                   discrepancy: -5
 2647:                 },
 2648:                 {
 2649:                   id: "9",
 2650:                   productId: "5",
 2651:                   sku: "SH-002",
 2652:                   name: "Polo Shirt",
 2653:                   systemQuantity: 75,
 2654:                   actualQuantity: 73,
 2655:                   discrepancy: -2
 2656:                 }
 2657:               ]
 2658:             }
 2659:           ];
 2660:           
 2661:           const foundAudit = mockAudits.find(a => a.id === params.id);
 2662:           setAudit(foundAudit || null);
 2663:           setIsLoading(false);
 2664:         }, 1000);
 2665:       } catch (error) {
 2666:         toast({
 2667:           title: "Error",
 2668:           description: "Failed to load audit details",
 2669:           variant: "destructive",
 2670:         });
 2671:         setIsLoading(false);
 2672:       }
 2673:     };
 2674: 
 2675:     fetchAudit();
 2676:   }, [params.id, toast]);
 2677: 
 2678:   const handleDelete = async (id: string) => {
 2679:     // Simulate API call to delete audit
 2680:     return new Promise<void>((resolve, reject) => {
 2681:       setTimeout(() => {
 2682:         // In a real app, this would be an API call
 2683:         // const response = await fetch(`/api/inventory-audit/${id}`, { method: 'DELETE' });
 2684:         // if (!response.ok) throw new Error('Failed to delete audit');
 2685:         
 2686:         if (audit?.status === "COMPLETED") {
 2687:           reject(new Error("Cannot delete a completed audit."));
 2688:         } else {
 2689:           router.push("/inventory-audit");
 2690:           resolve();
 2691:         }
 2692:       }, 1000);
 2693:     });
 2694:   };
 2695: 
 2696:   const getStatusBadge = (status: string) => {
 2697:     switch (status) {
 2698:       case "COMPLETED":
 2699:         return <Badge className="bg-emerald-500">Completed</Badge>;
 2700:       case "IN_PROGRESS":
 2701:         return <Badge className="bg-blue-500">In Progress</Badge>;
 2702:       case "DRAFT":
 2703:         return <Badge variant="outline">Draft</Badge>;
 2704:       default:
 2705:         return <Badge variant="outline">{status}</Badge>;
 2706:     }
 2707:   };
 2708: 
 2709:   const getDiscrepancyClass = (discrepancy: number) => {
 2710:     if (discrepancy === 0) return "text-emerald-500";
 2711:     if (discrepancy < 0) return "text-red-500";
 2712:     return "text-amber-500";
 2713:   };
 2714: 
 2715:   return (
 2716:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 2717:       <div className="flex items-center justify-between">
 2718:         <div className="flex items-center gap-2">
 2719:           <Button variant="ghost" size="icon" asChild>
 2720:             <Link href="/inventory-audit">
 2721:               <ArrowLeft className="h-4 w-4" />
 2722:             </Link>
 2723:           </Button>
 2724:           <h1 className="text-3xl font-bold tracking-tight">
 2725:             {isLoading ? <Skeleton className="h-9 w-40" /> : audit?.auditNumber}
 2726:           </h1>
 2727:         </div>
 2728:         
 2729:         <div className="flex items-center gap-2">
 2730:           {!isLoading && audit && (
 2731:             <>
 2732:               <Button variant="outline" size="sm" asChild>
 2733:                 <Link href={`/inventory-audit/${params.id}/edit`}>
 2734:                   <Edit className="mr-2 h-4 w-4" />
 2735:                   Edit
 2736:                 </Link>
 2737:               </Button>
 2738:               
 2739:               <DeleteButton
 2740:                 id={params.id}
 2741:                 name={audit.auditNumber}
 2742:                 onDelete={handleDelete}
 2743:                 disabled={audit.status === "COMPLETED"}
 2744:                 disabledReason="Cannot delete a completed audit."
 2745:               />
 2746:             </>
 2747:           )}
 2748:         </div>
 2749:       </div>
 2750:       
 2751:       {isLoading ? (
 2752:         <Card>
 2753:           <CardHeader>
 2754:             <Skeleton className="h-7 w-40 mb-2" />
 2755:             <Skeleton className="h-5 w-60" />
 2756:           </CardHeader>
 2757:           <CardContent className="space-y-4">
 2758:             <Skeleton className="h-5 w-full" />
 2759:             <Skeleton className="h-5 w-3/4" />
 2760:             <Skeleton className="h-5 w-1/2" />
 2761:           </CardContent>
 2762:         </Card>
 2763:       ) : audit ? (
 2764:         <>
 2765:           <Card>
 2766:             <CardHeader>
 2767:               <CardTitle className="flex items-center justify-between">
 2768:                 Audit Details
 2769:                 {getStatusBadge(audit.status)}
 2770:               </CardTitle>
 2771:               <CardDescription>
 2772:                 Detailed information about this inventory audit
 2773:               </CardDescription>
 2774:             </CardHeader>
 2775:             <CardContent className="space-y-6">
 2776:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 2777:                 <div>
 2778:                   <h3 className="text-sm font-medium text-muted-foreground">Warehouse</h3>
 2779:                   <p className="text-base">{audit.warehouse}</p>
 2780:                 </div>
 2781:                 <div>
 2782:                   <h3 className="text-sm font-medium text-muted-foreground">Audit Date</h3>
 2783:                   <p className="text-base">{format(audit.auditDate, "MMM dd, yyyy")}</p>
 2784:                 </div>
 2785:               </div>
 2786:               
 2787:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 2788:                 <div>
 2789:                   <h3 className="text-sm font-medium text-muted-foreground">Total Items</h3>
 2790:                   <p className="text-base">{audit.totalItems}</p>
 2791:                 </div>
 2792:                 <div>
 2793:                   <h3 className="text-sm font-medium text-muted-foreground">Discrepancies</h3>
 2794:                   <p className={`text-base ${audit.discrepancies > 0 ? "text-red-500 font-medium" : "text-emerald-500 font-medium"}`}>
 2795:                     {audit.discrepancies}
 2796:                   </p>
 2797:                 </div>
 2798:               </div>
 2799:               
 2800:               {audit.status === "COMPLETED" && audit.discrepancies > 0 && (
 2801:                 <div className="flex items-center p-4 bg-amber-50 border border-amber-200 rounded-md">
 2802:                   <AlertCircle className="h-5 w-5 text-amber-500 mr-2" />
 2803:                   <p className="text-sm text-amber-700">
 2804:                     This audit has {audit.discrepancies} discrepancies. Inventory adjustments may be needed.
 2805:                   </p>
 2806:                 </div>
 2807:               )}
 2808:             </CardContent>
 2809:           </Card>
 2810:           
 2811:           <Card>
 2812:             <CardHeader>
 2813:               <CardTitle className="flex items-center">
 2814:                 <ClipboardCheck className="mr-2 h-5 w-5" />
 2815:                 Audit Items
 2816:               </CardTitle>
 2817:               <CardDescription>
 2818:                 Products counted in this inventory audit
 2819:               </CardDescription>
 2820:             </CardHeader>
 2821:             <CardContent>
 2822:               {audit.items.length > 0 ? (
 2823:                 <Table>
 2824:                   <TableHeader>
 2825:                     <TableRow>
 2826:                       <TableHead>SKU</TableHead>
 2827:                       <TableHead>Product</TableHead>
 2828:                       <TableHead className="text-right">System Qty</TableHead>
 2829:                       <TableHead className="text-right">Actual Qty</TableHead>
 2830:                       <TableHead className="text-right">Discrepancy</TableHead>
 2831:                       <TableHead className="text-right">Actions</TableHead>
 2832:                     </TableRow>
 2833:                   </TableHeader>
 2834:                   <TableBody>
 2835:                     {audit.items.map((item) => (
 2836:                       <TableRow key={item.id}>
 2837:                         <TableCell className="font-medium">{item.sku}</TableCell>
 2838:                         <TableCell>{item.name}</TableCell>
 2839:                         <TableCell className="text-right">{item.systemQuantity}</TableCell>
 2840:                         <TableCell className="text-right">
 2841:                           {audit.status === "IN_PROGRESS" && item.actualQuantity === 0 ? (
 2842:                             <Badge variant="outline">Not Counted</Badge>
 2843:                           ) : (
 2844:                             item.actualQuantity
 2845:                           )}
 2846:                         </TableCell>
 2847:                         <TableCell className={`text-right ${getDiscrepancyClass(item.discrepancy)}`}>
 2848:                           {audit.status === "COMPLETED" ? item.discrepancy : "-"}
 2849:                         </TableCell>
 2850:                         <TableCell className="text-right">
 2851:                           <Button variant="ghost" size="sm" asChild>
 2852:                             <Link href={`/products/${item.productId}`}>View Product</Link>
 2853:                           </Button>
 2854:                         </TableCell>
 2855:                       </TableRow>
 2856:                     ))}
 2857:                   </TableBody>
 2858:                 </Table>
 2859:               ) : (
 2860:                 <div className="text-center py-8 text-muted-foreground">
 2861:                   {audit.status === "DRAFT" ? (
 2862:                     <div className="flex flex-col items-center">
 2863:                       <p className="mb-4">No items have been added to this audit yet.</p>
 2864:                       <Button asChild>
 2865:                         <Link href={`/inventory-audit/${params.id}/edit`}>Add Items</Link>
 2866:                       </Button>
 2867:                     </div>
 2868:                   ) : (
 2869:                     "No items in this audit"
 2870:                   )}
 2871:                 </div>
 2872:               )}
 2873:             </CardContent>
 2874:           </Card>
 2875:           
 2876:           {audit.status === "COMPLETED" && audit.discrepancies !== 0 && (
 2877:             <Card>
 2878:               <CardHeader>
 2879:                 <CardTitle>Adjustment Actions</CardTitle>
 2880:                 <CardDescription>
 2881:                   Actions taken to resolve inventory discrepancies
 2882:                 </CardDescription>
 2883:               </CardHeader>
 2884:               <CardContent>
 2885:                 <div className="space-y-4">
 2886:                   <div className="flex items-center justify-between p-3 bg-muted rounded-md">
 2887:                     <div>
 2888:                       <p className="font-medium">System Inventory Updated</p>
 2889:                       <p className="text-sm text-muted-foreground">
 2890:                         {format(new Date(audit.auditDate.getTime() + 86400000), "MMM dd, yyyy")}
 2891:                       </p>
 2892:                     </div>
 2893:                     <Badge className="bg-emerald-500">Completed</Badge>
 2894:                   </div>
 2895:                   
 2896:                   <div className="flex items-center justify-between p-3 bg-muted rounded-md">
 2897:                     <div>
 2898:                       <p className="font-medium">Investigation Report</p>
 2899:                       <p className="text-sm text-muted-foreground">
 2900:                         {format(new Date(audit.auditDate.getTime() + 172800000), "MMM dd, yyyy")}
 2901:                       </p>
 2902:                     </div>
 2903:                     <Badge className="bg-emerald-500">Completed</Badge>
 2904:                   </div>
 2905:                 </div>
 2906:               </CardContent>
 2907:             </Card>
 2908:           )}
 2909:         </>
 2910:       ) : (
 2911:         <Card>
 2912:           <CardContent className="flex flex-col items-center justify-center py-10">
 2913:             <h2 className="text-xl font-semibold mb-2">Audit Not Found</h2>
 2914:             <p className="text-muted-foreground mb-4">
 2915:               The inventory audit you're looking for doesn't exist or has been removed.
 2916:             </p>
 2917:             <Button asChild>
 2918:               <Link href="/inventory-audit">Back to Inventory Audits</Link>
 2919:             </Button>
 2920:           </CardContent>
 2921:         </Card>
 2922:       )}
 2923:     </div>
 2924:   );
 2925: }
 2926: ```
 2927: 
 2928: ## app\layout.tsx
 2929: 
 2930: - Characters: 985
 2931: - Tokens: 0
 2932: 
 2933: ```text
 2934: import './globals.css';
 2935: import type { Metadata } from 'next';
 2936: import { Inter } from 'next/font/google';
 2937: import { ThemeProvider } from '@/components/theme-provider';
 2938: import { Toaster } from '@/components/ui/toaster';
 2939: import { AuthProvider } from '@/hooks/use-auth';
 2940: 
 2941: const inter = Inter({ subsets: ['latin'] });
 2942: 
 2943: export const metadata: Metadata = {
 2944:   title: 'Fashion Inventory Management System',
 2945:   description: 'A comprehensive inventory management system for fashion retail businesses',
 2946: };
 2947: 
 2948: export default function RootLayout({
 2949:   children,
 2950: }: {
 2951:   children: React.ReactNode;
 2952: }) {
 2953:   return (
 2954:     <html lang="en" suppressHydrationWarning>
 2955:       <body className={inter.className}>
 2956:         <ThemeProvider
 2957:           attribute="class"
 2958:           defaultTheme="system"
 2959:           enableSystem
 2960:           disableTransitionOnChange
 2961:         >
 2962:           <AuthProvider>
 2963:             {children}
 2964:             <Toaster />
 2965:           </AuthProvider>
 2966:         </ThemeProvider>
 2967:       </body>
 2968:     </html>
 2969:   );
 2970: }
 2971: ```
 2972: 
 2973: ## app\not-found.tsx
 2974: 
 2975: - Characters: 1244
 2976: - Tokens: 0
 2977: 
 2978: ```text
 2979: import Link from "next/link";
 2980: import { Button } from "@/components/ui/button";
 2981: import { AlertCircle } from "lucide-react";
 2982: 
 2983: export default function NotFound() {
 2984:   return (
 2985:     <div className="flex min-h-screen flex-col items-center justify-center bg-background">
 2986:       <div className="mx-auto flex w-full max-w-md flex-col items-center justify-center space-y-6 text-center">
 2987:         <div className="flex h-20 w-20 items-center justify-center rounded-full bg-muted">
 2988:           <AlertCircle className="h-10 w-10 text-muted-foreground" />
 2989:         </div>
 2990:         <div className="space-y-2">
 2991:           <h1 className="text-4xl font-bold tracking-tighter">404</h1>
 2992:           <h2 className="text-2xl font-semibold tracking-tight">Page Not Found</h2>
 2993:           <p className="text-muted-foreground">
 2994:             The page you're looking for doesn't exist or has been moved.
 2995:           </p>
 2996:         </div>
 2997:         <div className="flex flex-col space-y-2 sm:flex-row sm:space-x-2 sm:space-y-0">
 2998:           <Button asChild>
 2999:             <Link href="/dashboard">Go to Dashboard</Link>
 3000:           </Button>
 3001:           <Button variant="outline" asChild>
 3002:             <Link href="/">Back to Home</Link>
 3003:           </Button>
 3004:         </div>
 3005:       </div>
 3006:     </div>
 3007:   );
 3008: }
 3009: ```
 3010: 
 3011: ## app\page.tsx
 3012: 
 3013: - Characters: 2954
 3014: - Tokens: 0
 3015: 
 3016: ```text
 3017: import { Button } from "@/components/ui/button";
 3018: import Link from "next/link";
 3019: import { ShoppingBag } from "lucide-react";
 3020: 
 3021: export default function Home() {
 3022:   return (
 3023:     <div className="flex min-h-screen flex-col">
 3024:       <header className="bg-primary py-6">
 3025:         <div className="container mx-auto px-4">
 3026:           <div className="flex items-center justify-between">
 3027:             <div className="flex items-center space-x-2">
 3028:               <ShoppingBag className="h-8 w-8 text-primary-foreground" />
 3029:               <h1 className="text-2xl font-bold text-primary-foreground">Fashion Inventory</h1>
 3030:             </div>
 3031:             <div>
 3032:               <Button asChild variant="secondary">
 3033:                 <Link href="/login">Login</Link>
 3034:               </Button>
 3035:             </div>
 3036:           </div>
 3037:         </div>
 3038:       </header>
 3039: 
 3040:       <main className="flex-1">
 3041:         <section className="bg-gradient-to-b from-primary/20 to-background py-20">
 3042:           <div className="container mx-auto px-4 text-center">
 3043:             <h2 className="text-4xl font-bold mb-6">Fashion Retail Inventory Management System</h2>
 3044:             <p className="text-xl mb-8 max-w-2xl mx-auto">
 3045:               A comprehensive solution for managing your fashion retail inventory, from products and suppliers to sales and reporting.
 3046:             </p>
 3047:             <Button asChild size="lg">
 3048:               <Link href="/login">Get Started</Link>
 3049:             </Button>
 3050:           </div>
 3051:         </section>
 3052: 
 3053:         <section className="py-16">
 3054:           <div className="container mx-auto px-4">
 3055:             <h3 className="text-2xl font-bold mb-8 text-center">Key Features</h3>
 3056:             <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
 3057:               <FeatureCard 
 3058:                 title="Product Management" 
 3059:                 description="Manage your products with categories, safety stock levels, and cost tracking."
 3060:               />
 3061:               <FeatureCard 
 3062:                 title="Inventory Control" 
 3063:                 description="Track inventory across multiple warehouses with transfers and auditing."
 3064:               />
 3065:               <FeatureCard 
 3066:                 title="Purchase & Sales" 
 3067:                 description="Manage the complete lifecycle from purchasing to sales with automatic cost updates."
 3068:               />
 3069:             </div>
 3070:           </div>
 3071:         </section>
 3072:       </main>
 3073: 
 3074:       <footer className="bg-muted py-8">
 3075:         <div className="container mx-auto px-4 text-center">
 3076:           <p className="text-muted-foreground">
 3077:             © {new Date().getFullYear()} Fashion Inventory Management System
 3078:           </p>
 3079:         </div>
 3080:       </footer>
 3081:     </div>
 3082:   );
 3083: }
 3084: 
 3085: function FeatureCard({ title, description }: { title: string; description: string }) {
 3086:   return (
 3087:     <div className="bg-card p-6 rounded-lg shadow-sm border">
 3088:       <h4 className="text-xl font-semibold mb-3">{title}</h4>
 3089:       <p className="text-card-foreground">{description}</p>
 3090:     </div>
 3091:   );
 3092: }
 3093: ```
 3094: 
 3095: ## app\products\layout.tsx
 3096: 
 3097: - Characters: 2100
 3098: - Tokens: 0
 3099: 
 3100: ```text
 3101: "use client";
 3102: 
 3103: import { useEffect, useState } from "react";
 3104: import { useRouter, usePathname } from "next/navigation";
 3105: import { Sidebar } from "@/components/layout/sidebar";
 3106: import { Header } from "@/components/layout/header";
 3107: import { useAuth } from "@/hooks/use-auth";
 3108: import { Loader2 } from "lucide-react";
 3109: 
 3110: export default function ProductsLayout({
 3111:   children,
 3112: }: {
 3113:   children: React.ReactNode;
 3114: }) {
 3115:   const { user } = useAuth();
 3116:   const router = useRouter();
 3117:   const pathname = usePathname();
 3118:   const [isLoading, setIsLoading] = useState(true);
 3119:   const [currentPath, setCurrentPath] = useState(pathname);
 3120:   const [isTransitioning, setIsTransitioning] = useState(false);
 3121:   
 3122:   // Handle authentication check
 3123:   useEffect(() => {
 3124:     if (!user) {
 3125:       router.push("/login");
 3126:     } else {
 3127:       // Simulate loading delay
 3128:       const timer = setTimeout(() => {
 3129:         setIsLoading(false);
 3130:       }, 500);
 3131:       
 3132:       return () => clearTimeout(timer);
 3133:     }
 3134:   }, [user, router]);
 3135:   
 3136:   // Handle route transitions
 3137:   useEffect(() => {
 3138:     if (pathname !== currentPath) {
 3139:       setIsTransitioning(true);
 3140:       
 3141:       // Short delay to allow transition to complete
 3142:       const timer = setTimeout(() => {
 3143:         setCurrentPath(pathname);
 3144:         setIsTransitioning(false);
 3145:       }, 300);
 3146:       
 3147:       return () => clearTimeout(timer);
 3148:     }
 3149:   }, [pathname, currentPath]);
 3150:   
 3151:   if (!user || isLoading) {
 3152:     return (
 3153:       <div className="flex min-h-screen items-center justify-center">
 3154:         <div className="flex flex-col items-center space-y-4">
 3155:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
 3156:           <p className="text-lg font-medium">Loading...</p>
 3157:         </div>
 3158:       </div>
 3159:     );
 3160:   }
 3161:   
 3162:   return (
 3163:     <div className="flex min-h-screen">
 3164:       <div className="hidden md:block">
 3165:         <Sidebar />
 3166:       </div>
 3167:       <div className="flex flex-col flex-1">
 3168:         <Header />
 3169:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
 3170:           {children}
 3171:         </main>
 3172:       </div>
 3173:     </div>
 3174:   );
 3175: }
 3176: ```
 3177: 
 3178: ## app\products\new\page.tsx
 3179: 
 3180: - Characters: 13714
 3181: - Tokens: 0
 3182: 
 3183: ```text
 3184: "use client";
 3185: 
 3186: import { useState, useEffect } from "react";
 3187: import { useRouter } from "next/navigation";
 3188: import { useForm } from "react-hook-form";
 3189: import { zodResolver } from "@hookform/resolvers/zod";
 3190: import * as z from "zod";
 3191: import { ArrowLeft } from "lucide-react";
 3192: import Link from "next/link";
 3193: 
 3194: import { Button } from "@/components/ui/button";
 3195: import {
 3196:   Form,
 3197:   FormControl,
 3198:   FormDescription,
 3199:   FormField,
 3200:   FormItem,
 3201:   FormLabel,
 3202:   FormMessage,
 3203: } from "@/components/ui/form";
 3204: import { Input } from "@/components/ui/input";
 3205: import { Textarea } from "@/components/ui/textarea";
 3206: import {
 3207:   Select,
 3208:   SelectContent,
 3209:   SelectItem,
 3210:   SelectTrigger,
 3211:   SelectValue,
 3212: } from "@/components/ui/select";
 3213: import { Checkbox } from "@/components/ui/checkbox";
 3214: import { useToast } from "@/hooks/use-toast";
 3215: import {
 3216:   Card,
 3217:   CardContent,
 3218:   CardDescription,
 3219:   CardHeader,
 3220:   CardTitle,
 3221: } from "@/components/ui/card";
 3222: 
 3223: // Mock products data - this would normally be in a database
 3224: const mockProducts = [
 3225:   {
 3226:     id: "1",
 3227:     sku: "SH-001",
 3228:     name: "Cotton T-Shirt",
 3229:     category: "Shirts",
 3230:     categories: ["1"],
 3231:     costPrice: 12.50,
 3232:     sellingPrice: 24.99,
 3233:     stock: 120,
 3234:     safetyStock: 20,
 3235:   },
 3236:   {
 3237:     id: "2",
 3238:     sku: "PA-001",
 3239:     name: "Slim Fit Jeans",
 3240:     category: "Pants",
 3241:     categories: ["2"],
 3242:     costPrice: 18.75,
 3243:     sellingPrice: 39.99,
 3244:     stock: 85,
 3245:     safetyStock: 15,
 3246:   },
 3247:   {
 3248:     id: "3",
 3249:     sku: "DR-001",
 3250:     name: "Summer Dress",
 3251:     category: "Dresses",
 3252:     categories: ["3"],
 3253:     costPrice: 22.00,
 3254:     sellingPrice: 49.99,
 3255:     stock: 42,
 3256:     safetyStock: 10,
 3257:   },
 3258:   {
 3259:     id: "4",
 3260:     sku: "AC-001",
 3261:     name: "Leather Belt",
 3262:     category: "Accessories",
 3263:     categories: ["4"],
 3264:     costPrice: 8.25,
 3265:     sellingPrice: 19.99,
 3266:     stock: 65,
 3267:     safetyStock: 12,
 3268:   },
 3269:   {
 3270:     id: "5",
 3271:     sku: "SH-002",
 3272:     name: "Polo Shirt",
 3273:     category: "Shirts",
 3274:     categories: ["1"],
 3275:     costPrice: 15.00,
 3276:     sellingPrice: 29.99,
 3277:     stock: 8,
 3278:     safetyStock: 15,
 3279:   },
 3280: ];
 3281: 
 3282: // Create a global variable to store the updated products if it doesn't exist
 3283: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedProducts')) {
 3284:   window.updatedProducts = [...mockProducts];
 3285: }
 3286: 
 3287: // Mock categories data - this would normally be in a database
 3288: const mockCategories = [
 3289:   {
 3290:     id: "1",
 3291:     name: "Shirts",
 3292:     description: "All types of shirts and tops",
 3293:     productCount: 45,
 3294:     status: "Active",
 3295:   },
 3296:   {
 3297:     id: "2",
 3298:     name: "Pants",
 3299:     description: "All types of pants and bottoms",
 3300:     productCount: 32,
 3301:     status: "Active",
 3302:   },
 3303:   {
 3304:     id: "3",
 3305:     name: "Dresses",
 3306:     description: "All types of dresses",
 3307:     productCount: 28,
 3308:     status: "Active",
 3309:   },
 3310:   {
 3311:     id: "4",
 3312:     name: "Accessories",
 3313:     description: "Belts, hats, and other accessories",
 3314:     productCount: 56,
 3315:     status: "Active",
 3316:   },
 3317:   {
 3318:     id: "5",
 3319:     name: "Shoes",
 3320:     description: "All types of footwear",
 3321:     productCount: 37,
 3322:     status: "Active",
 3323:   },
 3324:   {
 3325:     id: "6",
 3326:     name: "Seasonal",
 3327:     description: "Seasonal items and collections",
 3328:     productCount: 12,
 3329:     status: "Active",
 3330:   },
 3331: ];
 3332: 
 3333: // Create a global variable to store the updated categories if it doesn't exist
 3334: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedCategories')) {
 3335:   window.updatedCategories = [...mockCategories];
 3336: }
 3337: 
 3338: const productSchema = z.object({
 3339:   sku: z.string().min(3, { message: "SKU must be at least 3 characters" }),
 3340:   name: z.string().min(2, { message: "Name must be at least 2 characters" }),
 3341:   description: z.string().optional(),
 3342:   categories: z.array(z.string()).min(1, { message: "Select at least one category" }),
 3343:   sellingPrice: z.coerce
 3344:     .number()
 3345:     .positive({ message: "Selling price must be positive" }),
 3346:   safetyStock: z.coerce
 3347:     .number()
 3348:     .int()
 3349:     .nonnegative({ message: "Safety stock must be a non-negative integer" }),
 3350: });
 3351: 
 3352: type ProductFormValues = z.infer<typeof productSchema>;
 3353: 
 3354: export default function NewProductPage() {
 3355:   const router = useRouter();
 3356:   const { toast } = useToast();
 3357:   const [isLoading, setIsLoading] = useState(false);
 3358:   const [availableCategories, setAvailableCategories] = useState<{ id: string; name: string; status: string }[]>([]);
 3359: 
 3360:   // Load categories from our mock database
 3361:   useEffect(() => {
 3362:     const loadCategories = () => {
 3363:       const categories = typeof window !== 'undefined' ? window.updatedCategories : mockCategories;
 3364:       // Only show active categories
 3365:       const activeCategories = categories.filter(c => c.status === "Active").map(c => ({
 3366:         id: c.id,
 3367:         name: c.name,
 3368:         status: c.status
 3369:       }));
 3370:       setAvailableCategories(activeCategories);
 3371:     };
 3372:     
 3373:     loadCategories();
 3374:   }, []);
 3375: 
 3376:   const form = useForm<ProductFormValues>({
 3377:     resolver: zodResolver(productSchema),
 3378:     defaultValues: {
 3379:       sku: "",
 3380:       name: "",
 3381:       description: "",
 3382:       categories: [],
 3383:       sellingPrice: 0,
 3384:       safetyStock: 0,
 3385:     },
 3386:   });
 3387: 
 3388:   async function onSubmit(data: ProductFormValues) {
 3389:     setIsLoading(true);
 3390:     
 3391:     try {
 3392:       // In a real application, this would be an API call
 3393:       // const response = await fetch("/api/products", {
 3394:       //   method: "POST",
 3395:       //   headers: {
 3396:       //     "Content-Type": "application/json",
 3397:       //   },
 3398:       //   body: JSON.stringify(data),
 3399:       // });
 3400:       
 3401:       // if (!response.ok) {
 3402:       //   throw new Error("Failed to create product");
 3403:       // }
 3404:       
 3405:       // Simulate API call and update our mock database
 3406:       await new Promise(resolve => setTimeout(resolve, 1000));
 3407:       
 3408:       // Get the primary category name from the first category in the array
 3409:       const primaryCategoryId = data.categories[0];
 3410:       const primaryCategory = availableCategories.find(c => c.id === primaryCategoryId)?.name || "";
 3411:       
 3412:       // Create a new product with a unique ID
 3413:       const newProduct = {
 3414:         id: `${Date.now()}`, // Generate a unique ID
 3415:         ...data,
 3416:         category: primaryCategory, // Add the primary category name for backward compatibility
 3417:         categories: data.categories, // Store all selected categories
 3418:         costPrice: 0, // New products start with 0 cost price
 3419:         stock: 0, // New products start with 0 stock
 3420:       };
 3421:       
 3422:       // Add the new product to our mock database
 3423:       if (typeof window !== 'undefined') {
 3424:         window.updatedProducts = [...window.updatedProducts, newProduct];
 3425:       }
 3426:       
 3427:       toast({
 3428:         title: "Product created",
 3429:         description: "The product has been created successfully.",
 3430:       });
 3431:       
 3432:       router.push("/products");
 3433:     } catch (error) {
 3434:       toast({
 3435:         title: "Error",
 3436:         description: error instanceof Error ? error.message : "An error occurred",
 3437:         variant: "destructive",
 3438:       });
 3439:     } finally {
 3440:       setIsLoading(false);
 3441:     }
 3442:   }
 3443: 
 3444:   return (
 3445:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 3446:       <div className="flex items-center gap-2">
 3447:         <Button variant="ghost" size="icon" asChild>
 3448:           <Link href="/products">
 3449:             <ArrowLeft className="h-4 w-4" />
 3450:           </Link>
 3451:         </Button>
 3452:         <h1 className="text-3xl font-bold tracking-tight">Add New Product</h1>
 3453:       </div>
 3454:       
 3455:       <Card>
 3456:         <CardHeader>
 3457:           <CardTitle>Product Information</CardTitle>
 3458:           <CardDescription>
 3459:             Enter the details for the new product
 3460:           </CardDescription>
 3461:         </CardHeader>
 3462:         <CardContent>
 3463:           <Form {...form}>
 3464:             <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
 3465:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 3466:                 <FormField
 3467:                   control={form.control}
 3468:                   name="sku"
 3469:                   render={({ field }) => (
 3470:                     <FormItem>
 3471:                       <FormLabel>SKU</FormLabel>
 3472:                       <FormControl>
 3473:                         <Input placeholder="SH-001" {...field} />
 3474:                       </FormControl>
 3475:                       <FormDescription>
 3476:                         Unique identifier for the product
 3477:                       </FormDescription>
 3478:                       <FormMessage />
 3479:                     </FormItem>
 3480:                   )}
 3481:                 />
 3482:                 
 3483:                 <FormField
 3484:                   control={form.control}
 3485:                   name="name"
 3486:                   render={({ field }) => (
 3487:                     <FormItem>
 3488:                       <FormLabel>Name</FormLabel>
 3489:                       <FormControl>
 3490:                         <Input placeholder="Cotton T-Shirt" {...field} />
 3491:                       </FormControl>
 3492:                       <FormMessage />
 3493:                     </FormItem>
 3494:                   )}
 3495:                 />
 3496:               </div>
 3497:               
 3498:               <FormField
 3499:                 control={form.control}
 3500:                 name="description"
 3501:                 render={({ field }) => (
 3502:                   <FormItem>
 3503:                     <FormLabel>Description</FormLabel>
 3504:                     <FormControl>
 3505:                       <Textarea
 3506:                         placeholder="Product description..."
 3507:                         {...field}
 3508:                       />
 3509:                     </FormControl>
 3510:                     <FormMessage />
 3511:                   </FormItem>
 3512:                 )}
 3513:               />
 3514:               
 3515:               <FormField
 3516:                 control={form.control}
 3517:                 name="categories"
 3518:                 render={() => (
 3519:                   <FormItem>
 3520:                     <div className="mb-4">
 3521:                       <FormLabel className="text-base">Categories</FormLabel>
 3522:                       <FormDescription>
 3523:                         Select one or more categories for this product
 3524:                       </FormDescription>
 3525:                     </div>
 3526:                     <div className="grid grid-cols-2 md:grid-cols-3 gap-2">
 3527:                       {availableCategories.map((category) => (
 3528:                         <FormField
 3529:                           key={category.id}
 3530:                           control={form.control}
 3531:                           name="categories"
 3532:                           render={({ field }) => {
 3533:                             return (
 3534:                               <FormItem
 3535:                                 key={category.id}
 3536:                                 className="flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4"
 3537:                               >
 3538:                                 <FormControl>
 3539:                                   <Checkbox
 3540:                                     checked={field.value?.includes(category.id)}
 3541:                                     onCheckedChange={(checked) => {
 3542:                                       return checked
 3543:                                         ? field.onChange([...field.value, category.id])
 3544:                                         : field.onChange(
 3545:                                             field.value?.filter(
 3546:                                               (value) => value !== category.id
 3547:                                             )
 3548:                                           )
 3549:                                     }}
 3550:                                   />
 3551:                                 </FormControl>
 3552:                                 <FormLabel className="font-normal">
 3553:                                   {category.name}
 3554:                                 </FormLabel>
 3555:                               </FormItem>
 3556:                             )
 3557:                           }}
 3558:                         />
 3559:                       ))}
 3560:                     </div>
 3561:                     <FormMessage />
 3562:                   </FormItem>
 3563:                 )}
 3564:               />
 3565:               
 3566:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 3567:                 <FormField
 3568:                   control={form.control}
 3569:                   name="sellingPrice"
 3570:                   render={({ field }) => (
 3571:                     <FormItem>
 3572:                       <FormLabel>Selling Price</FormLabel>
 3573:                       <FormControl>
 3574:                         <Input
 3575:                           type="number"
 3576:                           step="0.01"
 3577:                           placeholder="0.00"
 3578:                           {...field}
 3579:                         />
 3580:                       </FormControl>
 3581:                       <FormMessage />
 3582:                     </FormItem>
 3583:                   )}
 3584:                 />
 3585:                 
 3586:                 <FormField
 3587:                   control={form.control}
 3588:                   name="safetyStock"
 3589:                   render={({ field }) => (
 3590:                     <FormItem>
 3591:                       <FormLabel>Safety Stock</FormLabel>
 3592:                       <FormControl>
 3593:                         <Input
 3594:                           type="number"
 3595:                           placeholder="0"
 3596:                           {...field}
 3597:                         />
 3598:                       </FormControl>
 3599:                       <FormDescription>
 3600:                         Minimum stock level before reordering
 3601:                       </FormDescription>
 3602:                       <FormMessage />
 3603:                     </FormItem>
 3604:                   )}
 3605:                 />
 3606:               </div>
 3607:               
 3608:               <div className="flex justify-end space-x-2">
 3609:                 <Button
 3610:                   variant="outline"
 3611:                   onClick={() => router.push("/products")}
 3612:                   type="button"
 3613:                 >
 3614:                   Cancel
 3615:                 </Button>
 3616:                 <Button type="submit" disabled={isLoading}>
 3617:                   {isLoading ? "Creating..." : "Create Product"}
 3618:                 </Button>
 3619:               </div>
 3620:             </form>
 3621:           </Form>
 3622:         </CardContent>
 3623:       </Card>
 3624:     </div>
 3625:   );
 3626: }
 3627: ```
 3628: 
 3629: ## app\products\page.tsx
 3630: 
 3631: - Characters: 9189
 3632: - Tokens: 0
 3633: 
 3634: ```text
 3635: "use client";
 3636: 
 3637: import Link from "next/link";
 3638: import { Plus, Edit, Eye } from "lucide-react";
 3639: import { Button } from "@/components/ui/button";
 3640: import {
 3641:   Card,
 3642:   CardContent,
 3643:   CardDescription,
 3644:   CardHeader,
 3645:   CardTitle,
 3646: } from "@/components/ui/card";
 3647: import {
 3648:   Table,
 3649:   TableBody,
 3650:   TableCell,
 3651:   TableHead,
 3652:   TableHeader,
 3653:   TableRow,
 3654: } from "@/components/ui/table";
 3655: import { Badge } from "@/components/ui/badge";
 3656: import { useState, useEffect } from "react";
 3657: import { Skeleton } from "@/components/ui/skeleton";
 3658: import { DeleteButton } from "@/components/shared/delete-button";
 3659: import { useToast } from "@/hooks/use-toast";
 3660: 
 3661: // Mock products data - this would normally be in a database
 3662: const mockProducts = [
 3663:   {
 3664:     id: "1",
 3665:     sku: "SH-001",
 3666:     name: "Cotton T-Shirt",
 3667:     category: "Shirts",
 3668:     categories: ["1"],
 3669:     costPrice: 12.50,
 3670:     sellingPrice: 24.99,
 3671:     stock: 120,
 3672:     safetyStock: 20,
 3673:   },
 3674:   {
 3675:     id: "2",
 3676:     sku: "PA-001",
 3677:     name: "Slim Fit Jeans",
 3678:     category: "Pants",
 3679:     categories: ["2"],
 3680:     costPrice: 18.75,
 3681:     sellingPrice: 39.99,
 3682:     stock: 85,
 3683:     safetyStock: 15,
 3684:   },
 3685:   {
 3686:     id: "3",
 3687:     sku: "DR-001",
 3688:     name: "Summer Dress",
 3689:     category: "Dresses",
 3690:     categories: ["3"],
 3691:     costPrice: 22.00,
 3692:     sellingPrice: 49.99,
 3693:     stock: 42,
 3694:     safetyStock: 10,
 3695:   },
 3696:   {
 3697:     id: "4",
 3698:     sku: "AC-001",
 3699:     name: "Leather Belt",
 3700:     category: "Accessories",
 3701:     categories: ["4"],
 3702:     costPrice: 8.25,
 3703:     sellingPrice: 19.99,
 3704:     stock: 65,
 3705:     safetyStock: 12,
 3706:   },
 3707:   {
 3708:     id: "5",
 3709:     sku: "SH-002",
 3710:     name: "Polo Shirt",
 3711:     category: "Shirts",
 3712:     categories: ["1"],
 3713:     costPrice: 15.00,
 3714:     sellingPrice: 29.99,
 3715:     stock: 8,
 3716:     safetyStock: 15,
 3717:   },
 3718: ];
 3719: 
 3720: // Create a global variable to store the updated products if it doesn't exist
 3721: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedProducts')) {
 3722:   window.updatedProducts = [...mockProducts];
 3723: }
 3724: 
 3725: // Mock categories data - this would normally be in a database
 3726: const mockCategories = [
 3727:   {
 3728:     id: "1",
 3729:     name: "Shirts",
 3730:     description: "All types of shirts and tops",
 3731:     productCount: 45,
 3732:     status: "Active",
 3733:   },
 3734:   {
 3735:     id: "2",
 3736:     name: "Pants",
 3737:     description: "All types of pants and bottoms",
 3738:     productCount: 32,
 3739:     status: "Active",
 3740:   },
 3741:   {
 3742:     id: "3",
 3743:     name: "Dresses",
 3744:     description: "All types of dresses",
 3745:     productCount: 28,
 3746:     status: "Active",
 3747:   },
 3748:   {
 3749:     id: "4",
 3750:     name: "Accessories",
 3751:     description: "Belts, hats, and other accessories",
 3752:     productCount: 56,
 3753:     status: "Active",
 3754:   },
 3755:   {
 3756:     id: "5",
 3757:     name: "Shoes",
 3758:     description: "All types of footwear",
 3759:     productCount: 37,
 3760:     status: "Active",
 3761:   },
 3762:   {
 3763:     id: "6",
 3764:     name: "Seasonal",
 3765:     description: "Seasonal items and collections",
 3766:     productCount: 12,
 3767:     status: "Active",
 3768:   },
 3769: ];
 3770: 
 3771: // Create a global variable to store the updated categories if it doesn't exist
 3772: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedCategories')) {
 3773:   window.updatedCategories = [...mockCategories];
 3774: }
 3775: 
 3776: export default function ProductsPage() {
 3777:   const [isLoading, setIsLoading] = useState(true);
 3778:   const [data, setData] = useState(mockProducts);
 3779:   const [categories, setCategories] = useState<Record<string, string>>({});
 3780:   const { toast } = useToast();
 3781: 
 3782:   useEffect(() => {
 3783:     // Simulate data loading and get data from our mock database
 3784:     const timer = setTimeout(() => {
 3785:       if (typeof window !== 'undefined') {
 3786:         setData(window.updatedProducts);
 3787:         
 3788:         // Create a map of category IDs to names
 3789:         const categoryMap: Record<string, string> = {};
 3790:         const categoriesData = window.updatedCategories || mockCategories;
 3791:         categoriesData.forEach(category => {
 3792:           categoryMap[category.id] = category.name;
 3793:         });
 3794:         setCategories(categoryMap);
 3795:       }
 3796:       setIsLoading(false);
 3797:     }, 1000);
 3798:     
 3799:     return () => clearTimeout(timer);
 3800:   }, []);
 3801: 
 3802:   const handleDelete = async (id: string) => {
 3803:     // Simulate API call to delete product
 3804:     return new Promise<void>((resolve, reject) => {
 3805:       setTimeout(() => {
 3806:         // Update our mock database
 3807:         const updatedData = data.filter(product => product.id !== id);
 3808:         setData(updatedData);
 3809:         
 3810:         if (typeof window !== 'undefined') {
 3811:           window.updatedProducts = updatedData;
 3812:         }
 3813:         
 3814:         resolve();
 3815:       }, 1000);
 3816:     });
 3817:   };
 3818: 
 3819:   // Function to get category names from category IDs
 3820:   const getCategoryNames = (categoryIds: string[] | undefined) => {
 3821:     if (!categoryIds || categoryIds.length === 0) return "Uncategorized";
 3822:     
 3823:     return categoryIds.map(id => categories[id] || "Unknown").join(", ");
 3824:   };
 3825: 
 3826:   return (
 3827:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 3828:       <div className="flex items-center justify-between">
 3829:         <h1 className="text-3xl font-bold tracking-tight">Products</h1>
 3830:         <Button asChild>
 3831:           <Link href="/products/new">
 3832:             <Plus className="mr-2 h-4 w-4" />
 3833:             Add Product
 3834:           </Link>
 3835:         </Button>
 3836:       </div>
 3837:       
 3838:       <Card>
 3839:         <CardHeader>
 3840:           <CardTitle>Product Inventory</CardTitle>
 3841:           <CardDescription>
 3842:             Manage your product catalog and inventory levels
 3843:           </CardDescription>
 3844:         </CardHeader>
 3845:         <CardContent>
 3846:           {isLoading ? (
 3847:             <div className="space-y-2">
 3848:               <Skeleton className="h-10 w-full" />
 3849:               <Skeleton className="h-10 w-full" />
 3850:               <Skeleton className="h-10 w-full" />
 3851:               <Skeleton className="h-10 w-full" />
 3852:               <Skeleton className="h-10 w-full" />
 3853:             </div>
 3854:           ) : (
 3855:             <Table>
 3856:               <TableHeader>
 3857:                 <TableRow>
 3858:                   <TableHead>SKU</TableHead>
 3859:                   <TableHead>Name</TableHead>
 3860:                   <TableHead>Categories</TableHead>
 3861:                   <TableHead className="text-right">Cost Price</TableHead>
 3862:                   <TableHead className="text-right">Selling Price</TableHead>
 3863:                   <TableHead className="text-right">Stock</TableHead>
 3864:                   <TableHead>Status</TableHead>
 3865:                   <TableHead className="text-right">Actions</TableHead>
 3866:                 </TableRow>
 3867:               </TableHeader>
 3868:               <TableBody>
 3869:                 {data.map((product) => (
 3870:                   <TableRow key={product.id}>
 3871:                     <TableCell className="font-medium">{product.sku}</TableCell>
 3872:                     <TableCell>{product.name}</TableCell>
 3873:                     <TableCell>
 3874:                       <div className="flex flex-wrap gap-1">
 3875:                         {product.categories && product.categories.length > 0 ? (
 3876:                           product.categories.slice(0, 2).map((categoryId, index) => (
 3877:                             <Badge key={index} variant="outline" className="mr-1">
 3878:                               {categories[categoryId] || "Unknown"}
 3879:                             </Badge>
 3880:                           ))
 3881:                         ) : (
 3882:                           <Badge variant="outline">Uncategorized</Badge>
 3883:                         )}
 3884:                         {product.categories && product.categories.length > 2 && (
 3885:                           <Badge variant="outline">+{product.categories.length - 2}</Badge>
 3886:                         )}
 3887:                       </div>
 3888:                     </TableCell>
 3889:                     <TableCell className="text-right">
 3890:                       ${product.costPrice.toFixed(2)}
 3891:                     </TableCell>
 3892:                     <TableCell className="text-right">
 3893:                       ${product.sellingPrice.toFixed(2)}
 3894:                     </TableCell>
 3895:                     <TableCell className="text-right">{product.stock}</TableCell>
 3896:                     <TableCell>
 3897:                       {product.stock <= product.safetyStock ? (
 3898:                         <Badge variant="destructive">Low Stock</Badge>
 3899:                       ) : (
 3900:                         <Badge variant="outline">In Stock</Badge>
 3901:                       )}
 3902:                     </TableCell>
 3903:                     <TableCell className="text-right">
 3904:                       <div className="flex justify-end gap-2">
 3905:                         <Button variant="ghost" size="icon" asChild>
 3906:                           <Link href={`/products/${product.id}`}>
 3907:                             <Eye className="h-4 w-4" />
 3908:                           </Link>
 3909:                         </Button>
 3910:                         <Button variant="ghost" size="icon" asChild>
 3911:                           <Link href={`/products/${product.id}/edit`}>
 3912:                             <Edit className="h-4 w-4" />
 3913:                           </Link>
 3914:                         </Button>
 3915:                         <DeleteButton
 3916:                           id={product.id}
 3917:                           name={product.name}
 3918:                           onDelete={handleDelete}
 3919:                         />
 3920:                       </div>
 3921:                     </TableCell>
 3922:                   </TableRow>
 3923:                 ))}
 3924:               </TableBody>
 3925:             </Table>
 3926:           )}
 3927:         </CardContent>
 3928:       </Card>
 3929:     </div>
 3930:   );
 3931: }
 3932: ```
 3933: 
 3934: ## app\products\[id]\edit\page.tsx
 3935: 
 3936: - Characters: 16580
 3937: - Tokens: 0
 3938: 
 3939: ```text
 3940: "use client";
 3941: 
 3942: import { useState, useEffect } from "react";
 3943: import { useRouter } from "next/navigation";
 3944: import { useForm } from "react-hook-form";
 3945: import { zodResolver } from "@hookform/resolvers/zod";
 3946: import * as z from "zod";
 3947: import { ArrowLeft } from "lucide-react";
 3948: import Link from "next/link";
 3949: 
 3950: import { Button } from "@/components/ui/button";
 3951: import {
 3952:   Form,
 3953:   FormControl,
 3954:   FormDescription,
 3955:   FormField,
 3956:   FormItem,
 3957:   FormLabel,
 3958:   FormMessage,
 3959: } from "@/components/ui/form";
 3960: import { Input } from "@/components/ui/input";
 3961: import { Textarea } from "@/components/ui/textarea";
 3962: import { Checkbox } from "@/components/ui/checkbox";
 3963: import { useToast } from "@/hooks/use-toast";
 3964: import {
 3965:   Card,
 3966:   CardContent,
 3967:   CardDescription,
 3968:   CardHeader,
 3969:   CardTitle,
 3970: } from "@/components/ui/card";
 3971: import { Skeleton } from "@/components/ui/skeleton";
 3972: 
 3973: // Mock products data - this would normally be in a database
 3974: const mockProducts = [
 3975:   {
 3976:     id: "1",
 3977:     sku: "SH-001",
 3978:     name: "Cotton T-Shirt",
 3979:     description: "Comfortable cotton t-shirt for everyday wear",
 3980:     category: "Shirts",
 3981:     categories: ["1"],
 3982:     costPrice: 12.50,
 3983:     sellingPrice: 24.99,
 3984:     stock: 120,
 3985:     safetyStock: 20,
 3986:   },
 3987:   {
 3988:     id: "2",
 3989:     sku: "PA-001",
 3990:     name: "Slim Fit Jeans",
 3991:     description: "Stylish slim fit jeans for a modern look",
 3992:     category: "Pants",
 3993:     categories: ["2"],
 3994:     costPrice: 18.75,
 3995:     sellingPrice: 39.99,
 3996:     stock: 85,
 3997:     safetyStock: 15,
 3998:   },
 3999:   {
 4000:     id: "3",
 4001:     sku: "DR-001",
 4002:     name: "Summer Dress",
 4003:     description: "Light and airy dress for summer days",
 4004:     category: "Dresses",
 4005:     categories: ["3"],
 4006:     costPrice: 22.00,
 4007:     sellingPrice: 49.99,
 4008:     stock: 42,
 4009:     safetyStock: 10,
 4010:   },
 4011:   {
 4012:     id: "4",
 4013:     sku: "AC-001",
 4014:     name: "Leather Belt",
 4015:     description: "Classic leather belt with metal buckle",
 4016:     category: "Accessories",
 4017:     categories: ["4"],
 4018:     costPrice: 8.25,
 4019:     sellingPrice: 19.99,
 4020:     stock: 65,
 4021:     safetyStock: 12,
 4022:   },
 4023:   {
 4024:     id: "5",
 4025:     sku: "SH-002",
 4026:     name: "Polo Shirt",
 4027:     description: "Classic polo shirt with embroidered logo",
 4028:     category: "Shirts",
 4029:     categories: ["1"],
 4030:     costPrice: 15.00,
 4031:     sellingPrice: 29.99,
 4032:     stock: 8,
 4033:     safetyStock: 15,
 4034:   },
 4035: ];
 4036: 
 4037: // Create a global variable to store the updated products if it doesn't exist
 4038: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedProducts')) {
 4039:   window.updatedProducts = [...mockProducts];
 4040: }
 4041: 
 4042: // Mock categories data - this would normally be in a database
 4043: const mockCategories = [
 4044:   {
 4045:     id: "1",
 4046:     name: "Shirts",
 4047:     description: "All types of shirts and tops",
 4048:     productCount: 45,
 4049:     status: "Active",
 4050:   },
 4051:   {
 4052:     id: "2",
 4053:     name: "Pants",
 4054:     description: "All types of pants and bottoms",
 4055:     productCount: 32,
 4056:     status: "Active",
 4057:   },
 4058:   {
 4059:     id: "3",
 4060:     name: "Dresses",
 4061:     description: "All types of dresses",
 4062:     productCount: 28,
 4063:     status: "Active",
 4064:   },
 4065:   {
 4066:     id: "4",
 4067:     name: "Accessories",
 4068:     description: "Belts, hats, and other accessories",
 4069:     productCount: 56,
 4070:     status: "Active",
 4071:   },
 4072:   {
 4073:     id: "5",
 4074:     name: "Shoes",
 4075:     description: "All types of footwear",
 4076:     productCount: 37,
 4077:     status: "Active",
 4078:   },
 4079:   {
 4080:     id: "6",
 4081:     name: "Seasonal",
 4082:     description: "Seasonal items and collections",
 4083:     productCount: 12,
 4084:     status: "Active",
 4085:   },
 4086: ];
 4087: 
 4088: // Create a global variable to store the updated categories if it doesn't exist
 4089: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedCategories')) {
 4090:   window.updatedCategories = [...mockCategories];
 4091: }
 4092: 
 4093: const productSchema = z.object({
 4094:   sku: z.string().min(3, { message: "SKU must be at least 3 characters" }),
 4095:   name: z.string().min(2, { message: "Name must be at least 2 characters" }),
 4096:   description: z.string().optional(),
 4097:   categories: z.array(z.string()).min(1, { message: "Select at least one category" }),
 4098:   sellingPrice: z.coerce
 4099:     .number()
 4100:     .positive({ message: "Selling price must be positive" }),
 4101:   safetyStock: z.coerce
 4102:     .number()
 4103:     .int()
 4104:     .nonnegative({ message: "Safety stock must be a non-negative integer" }),
 4105: });
 4106: 
 4107: type ProductFormValues = z.infer<typeof productSchema>;
 4108: 
 4109: export default function EditProductPage({ params }: { params: { id: string } }) {
 4110:   const router = useRouter();
 4111:   const { toast } = useToast();
 4112:   const [isLoading, setIsLoading] = useState(false);
 4113:   const [isFetching, setIsFetching] = useState(true);
 4114:   const [product, setProduct] = useState<any | null>(null);
 4115:   const [availableCategories, setAvailableCategories] = useState<{ id: string; name: string; status: string }[]>([]);
 4116: 
 4117:   // Load categories from our mock database
 4118:   useEffect(() => {
 4119:     const loadCategories = () => {
 4120:       const categories = typeof window !== 'undefined' ? window.updatedCategories : mockCategories;
 4121:       // Only show active categories
 4122:       const activeCategories = categories.filter(c => c.status === "Active").map(c => ({
 4123:         id: c.id,
 4124:         name: c.name,
 4125:         status: c.status
 4126:       }));
 4127:       setAvailableCategories(activeCategories);
 4128:     };
 4129:     
 4130:     loadCategories();
 4131:   }, []);
 4132: 
 4133:   const form = useForm<ProductFormValues>({
 4134:     resolver: zodResolver(productSchema),
 4135:     defaultValues: {
 4136:       sku: "",
 4137:       name: "",
 4138:       description: "",
 4139:       categories: [],
 4140:       sellingPrice: 0,
 4141:       safetyStock: 0,
 4142:     },
 4143:   });
 4144: 
 4145:   useEffect(() => {
 4146:     // Fetch product data
 4147:     const fetchProduct = async () => {
 4148:       setIsFetching(true);
 4149:       try {
 4150:         // In a real app, this would be an API call
 4151:         // const response = await fetch(`/api/products/${params.id}`);
 4152:         // const data = await response.json();
 4153:         
 4154:         // Get data from our mock database (window.updatedProducts)
 4155:         setTimeout(() => {
 4156:           const products = typeof window !== 'undefined' ? window.updatedProducts : mockProducts;
 4157:           const foundProduct = products.find(p => p.id === params.id);
 4158:           
 4159:           if (foundProduct) {
 4160:             // Ensure the product has a categories array
 4161:             if (!foundProduct.categories) {
 4162:               // If no categories array exists, create one with the categoryId
 4163:               foundProduct.categories = foundProduct.categoryId ? [foundProduct.categoryId] : [];
 4164:             }
 4165:             
 4166:             setProduct(foundProduct);
 4167:             form.reset({
 4168:               sku: foundProduct.sku,
 4169:               name: foundProduct.name,
 4170:               description: foundProduct.description || "",
 4171:               categories: foundProduct.categories || [],
 4172:               sellingPrice: foundProduct.sellingPrice,
 4173:               safetyStock: foundProduct.safetyStock,
 4174:             });
 4175:           }
 4176:           
 4177:           setIsFetching(false);
 4178:         }, 1000);
 4179:       } catch (error) {
 4180:         toast({
 4181:           title: "Error",
 4182:           description: "Failed to load product details",
 4183:           variant: "destructive",
 4184:         });
 4185:         setIsFetching(false);
 4186:       }
 4187:     };
 4188: 
 4189:     fetchProduct();
 4190:   }, [params.id, toast, form]);
 4191: 
 4192:   async function onSubmit(data: ProductFormValues) {
 4193:     setIsLoading(true);
 4194:     
 4195:     try {
 4196:       // In a real application, this would be an API call
 4197:       // const response = await fetch(`/api/products/${params.id}`, {
 4198:       //   method: "PUT",
 4199:       //   headers: {
 4200:       //     "Content-Type": "application/json",
 4201:       //   },
 4202:       //   body: JSON.stringify(data),
 4203:       // });
 4204:       
 4205:       // if (!response.ok) {
 4206:       //   throw new Error("Failed to update product");
 4207:       // }
 4208:       
 4209:       // Simulate API call and update our mock database
 4210:       await new Promise(resolve => setTimeout(resolve, 1000));
 4211:       
 4212:       // Get the primary category name from the first category in the array
 4213:       const primaryCategoryId = data.categories[0];
 4214:       const primaryCategory = availableCategories.find(c => c.id === primaryCategoryId)?.name || "";
 4215:       
 4216:       // Update the product in our mock database
 4217:       if (typeof window !== 'undefined') {
 4218:         const index = window.updatedProducts.findIndex(p => p.id === params.id);
 4219:         if (index !== -1) {
 4220:           window.updatedProducts[index] = {
 4221:             ...window.updatedProducts[index],
 4222:             ...data,
 4223:             category: primaryCategory, // Update the primary category name for backward compatibility
 4224:             categories: data.categories, // Store all selected categories
 4225:           };
 4226:           
 4227:           // Log the updated products for debugging
 4228:           console.log("Updated products:", window.updatedProducts);
 4229:         }
 4230:       }
 4231:       
 4232:       toast({
 4233:         title: "Product updated",
 4234:         description: "The product has been updated successfully.",
 4235:       });
 4236:       
 4237:       router.push(`/products/${params.id}`);
 4238:     } catch (error) {
 4239:       toast({
 4240:         title: "Error",
 4241:         description: error instanceof Error ? error.message : "An error occurred",
 4242:         variant: "destructive",
 4243:       });
 4244:     } finally {
 4245:       setIsLoading(false);
 4246:     }
 4247:   }
 4248: 
 4249:   return (
 4250:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 4251:       <div className="flex items-center gap-2">
 4252:         <Button variant="ghost" size="icon" asChild>
 4253:           <Link href={`/products/${params.id}`}>
 4254:             <ArrowLeft className="h-4 w-4" />
 4255:           </Link>
 4256:         </Button>
 4257:         <h1 className="text-3xl font-bold tracking-tight">
 4258:           {isFetching ? <Skeleton className="h-9 w-40" /> : `Edit ${product?.name}`}
 4259:         </h1>
 4260:       </div>
 4261:       
 4262:       <Card>
 4263:         <CardHeader>
 4264:           <CardTitle>Product Information</CardTitle>
 4265:           <CardDescription>
 4266:             Update the product details
 4267:           </CardDescription>
 4268:         </CardHeader>
 4269:         <CardContent>
 4270:           {isFetching ? (
 4271:             <div className="space-y-4">
 4272:               <Skeleton className="h-10 w-full" />
 4273:               <Skeleton className="h-10 w-full" />
 4274:               <Skeleton className="h-10 w-full" />
 4275:               <Skeleton className="h-10 w-full" />
 4276:               <Skeleton className="h-10 w-full" />
 4277:             </div>
 4278:           ) : (
 4279:             <Form {...form}>
 4280:               <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
 4281:                 <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 4282:                   <FormField
 4283:                     control={form.control}
 4284:                     name="sku"
 4285:                     render={({ field }) => (
 4286:                       <FormItem>
 4287:                         <FormLabel>SKU</FormLabel>
 4288:                         <FormControl>
 4289:                           <Input placeholder="SH-001" {...field} />
 4290:                         </FormControl>
 4291:                         <FormDescription>
 4292:                           Unique identifier for the product
 4293:                         </FormDescription>
 4294:                         <FormMessage />
 4295:                       </FormItem>
 4296:                     )}
 4297:                   />
 4298:                   
 4299:                   <FormField
 4300:                     control={form.control}
 4301:                     name="name"
 4302:                     render={({ field }) => (
 4303:                       <FormItem>
 4304:                         <FormLabel>Name</FormLabel>
 4305:                         <FormControl>
 4306:                           <Input placeholder="Cotton T-Shirt" {...field} />
 4307:                         </FormControl>
 4308:                         <FormMessage />
 4309:                       </FormItem>
 4310:                     )}
 4311:                   />
 4312:                 </div>
 4313:                 
 4314:                 <FormField
 4315:                   control={form.control}
 4316:                   name="description"
 4317:                   render={({ field }) => (
 4318:                     <FormItem>
 4319:                       <FormLabel>Description</FormLabel>
 4320:                       <FormControl>
 4321:                         <Textarea
 4322:                           placeholder="Product description..."
 4323:                           {...field}
 4324:                         />
 4325:                       </FormControl>
 4326:                       <FormMessage />
 4327:                     </FormItem>
 4328:                   )}
 4329:                 />
 4330:                 
 4331:                 <FormField
 4332:                   control={form.control}
 4333:                   name="categories"
 4334:                   render={() => (
 4335:                     <FormItem>
 4336:                       <div className="mb-4">
 4337:                         <FormLabel className="text-base">Categories</FormLabel>
 4338:                         <FormDescription>
 4339:                           Select one or more categories for this product
 4340:                         </FormDescription>
 4341:                       </div>
 4342:                       <div className="grid grid-cols-2 md:grid-cols-3 gap-2">
 4343:                         {availableCategories.map((category) => (
 4344:                           <FormField
 4345:                             key={category.id}
 4346:                             control={form.control}
 4347:                             name="categories"
 4348:                             render={({ field }) => {
 4349:                               return (
 4350:                                 <FormItem
 4351:                                   key={category.id}
 4352:                                   className="flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4"
 4353:                                 >
 4354:                                   <FormControl>
 4355:                                     <Checkbox
 4356:                                       checked={field.value?.includes(category.id)}
 4357:                                       onCheckedChange={(checked) => {
 4358:                                         return checked
 4359:                                           ? field.onChange([...field.value, category.id])
 4360:                                           : field.onChange(
 4361:                                               field.value?.filter(
 4362:                                                 (value) => value !== category.id
 4363:                                               )
 4364:                                             )
 4365:                                       }}
 4366:                                     />
 4367:                                   </FormControl>
 4368:                                   <FormLabel className="font-normal">
 4369:                                     {category.name}
 4370:                                   </FormLabel>
 4371:                                 </FormItem>
 4372:                               )
 4373:                             }}
 4374:                           />
 4375:                         ))}
 4376:                       </div>
 4377:                       <FormMessage />
 4378:                     </FormItem>
 4379:                   )}
 4380:                 />
 4381:                 
 4382:                 <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 4383:                   <FormField
 4384:                     control={form.control}
 4385:                     name="sellingPrice"
 4386:                     render={({ field }) => (
 4387:                       <FormItem>
 4388:                         <FormLabel>Selling Price</FormLabel>
 4389:                         <FormControl>
 4390:                           <Input
 4391:                             type="number"
 4392:                             step="0.01"
 4393:                             placeholder="0.00"
 4394:                             {...field}
 4395:                           />
 4396:                         </FormControl>
 4397:                         <FormMessage />
 4398:                       </FormItem>
 4399:                     )}
 4400:                   />
 4401:                   
 4402:                   <FormField
 4403:                     control={form.control}
 4404:                     name="safetyStock"
 4405:                     render={({ field }) => (
 4406:                       <FormItem>
 4407:                         <FormLabel>Safety Stock</FormLabel>
 4408:                         <FormControl>
 4409:                           <Input
 4410:                             type="number"
 4411:                             placeholder="0"
 4412:                             {...field}
 4413:                           />
 4414:                         </FormControl>
 4415:                         <FormDescription>
 4416:                           Minimum stock level before reordering
 4417:                         </FormDescription>
 4418:                         <FormMessage />
 4419:                       </FormItem>
 4420:                     )}
 4421:                   />
 4422:                 </div>
 4423:                 
 4424:                 <div className="flex justify-end space-x-2">
 4425:                   <Button
 4426:                     variant="outline"
 4427:                     onClick={() => router.push(`/products/${params.id}`)}
 4428:                     type="button"
 4429:                   >
 4430:                     Cancel
 4431:                   </Button>
 4432:                   <Button type="submit" disabled={isLoading}>
 4433:                     {isLoading ? "Saving..." : "Save Changes"}
 4434:                   </Button>
 4435:                 </div>
 4436:               </form>
 4437:             </Form>
 4438:           )}
 4439:         </CardContent>
 4440:       </Card>
 4441:     </div>
 4442:   );
 4443: }
 4444: ```
 4445: 
 4446: ## app\products\[id]\page.tsx
 4447: 
 4448: - Characters: 13924
 4449: - Tokens: 0
 4450: 
 4451: ```text
 4452: "use client";
 4453: 
 4454: import { useState, useEffect } from "react";
 4455: import { useRouter } from "next/navigation";
 4456: import Link from "next/link";
 4457: import { ArrowLeft, Edit, Package, Tag } from "lucide-react";
 4458: import { Button } from "@/components/ui/button";
 4459: import {
 4460:   Card,
 4461:   CardContent,
 4462:   CardDescription,
 4463:   CardHeader,
 4464:   CardTitle,
 4465: } from "@/components/ui/card";
 4466: import { Skeleton } from "@/components/ui/skeleton";
 4467: import { Badge } from "@/components/ui/badge";
 4468: import { DeleteButton } from "@/components/shared/delete-button";
 4469: import { useToast } from "@/hooks/use-toast";
 4470: 
 4471: // Mock products data - this would normally be in a database
 4472: const mockProducts = [
 4473:   {
 4474:     id: "1",
 4475:     sku: "SH-001",
 4476:     name: "Cotton T-Shirt",
 4477:     description: "Comfortable cotton t-shirt for everyday wear",
 4478:     category: "Shirts",
 4479:     categories: ["1"],
 4480:     costPrice: 12.50,
 4481:     sellingPrice: 24.99,
 4482:     stock: 120,
 4483:     safetyStock: 20,
 4484:   },
 4485:   {
 4486:     id: "2",
 4487:     sku: "PA-001",
 4488:     name: "Slim Fit Jeans",
 4489:     description: "Stylish slim fit jeans for a modern look",
 4490:     category: "Pants",
 4491:     categories: ["2"],
 4492:     costPrice: 18.75,
 4493:     sellingPrice: 39.99,
 4494:     stock: 85,
 4495:     safetyStock: 15,
 4496:   },
 4497:   {
 4498:     id: "3",
 4499:     sku: "DR-001",
 4500:     name: "Summer Dress",
 4501:     description: "Light and airy dress for summer days",
 4502:     category: "Dresses",
 4503:     categories: ["3"],
 4504:     costPrice: 22.00,
 4505:     sellingPrice: 49.99,
 4506:     stock: 42,
 4507:     safetyStock: 10,
 4508:   },
 4509:   {
 4510:     id: "4",
 4511:     sku: "AC-001",
 4512:     name: "Leather Belt",
 4513:     description: "Classic leather belt with metal buckle",
 4514:     category: "Accessories",
 4515:     categories: ["4"],
 4516:     costPrice: 8.25,
 4517:     sellingPrice: 19.99,
 4518:     stock: 65,
 4519:     safetyStock: 12,
 4520:   },
 4521:   {
 4522:     id: "5",
 4523:     sku: "SH-002",
 4524:     name: "Polo Shirt",
 4525:     description: "Classic polo shirt with embroidered logo",
 4526:     category: "Shirts",
 4527:     categories: ["1"],
 4528:     costPrice: 15.00,
 4529:     sellingPrice: 29.99,
 4530:     stock: 8,
 4531:     safetyStock: 15,
 4532:   },
 4533: ];
 4534: 
 4535: // Create a global variable to store the updated products if it doesn't exist
 4536: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedProducts')) {
 4537:   window.updatedProducts = [...mockProducts];
 4538: }
 4539: 
 4540: // Mock categories data - this would normally be in a database
 4541: const mockCategories = [
 4542:   {
 4543:     id: "1",
 4544:     name: "Shirts",
 4545:     description: "All types of shirts and tops",
 4546:     productCount: 45,
 4547:     status: "Active",
 4548:   },
 4549:   {
 4550:     id: "2",
 4551:     name: "Pants",
 4552:     description: "All types of pants and bottoms",
 4553:     productCount: 32,
 4554:     status: "Active",
 4555:   },
 4556:   {
 4557:     id: "3",
 4558:     name: "Dresses",
 4559:     description: "All types of dresses",
 4560:     productCount: 28,
 4561:     status: "Active",
 4562:   },
 4563:   {
 4564:     id: "4",
 4565:     name: "Accessories",
 4566:     description: "Belts, hats, and other accessories",
 4567:     productCount: 56,
 4568:     status: "Active",
 4569:   },
 4570:   {
 4571:     id: "5",
 4572:     name: "Shoes",
 4573:     description: "All types of footwear",
 4574:     productCount: 37,
 4575:     status: "Active",
 4576:   },
 4577:   {
 4578:     id: "6",
 4579:     name: "Seasonal",
 4580:     description: "Seasonal items and collections",
 4581:     productCount: 12,
 4582:     status: "Active",
 4583:   },
 4584: ];
 4585: 
 4586: // Create a global variable to store the updated categories if it doesn't exist
 4587: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedCategories')) {
 4588:   window.updatedCategories = [...mockCategories];
 4589: }
 4590: 
 4591: interface Product {
 4592:   id: string;
 4593:   sku: string;
 4594:   name: string;
 4595:   description: string;
 4596:   category: string;
 4597:   categories: string[];
 4598:   costPrice: number;
 4599:   sellingPrice: number;
 4600:   stock: number;
 4601:   safetyStock: number;
 4602: }
 4603: 
 4604: export default function ProductDetailsPage({ params }: { params: { id: string } }) {
 4605:   const router = useRouter();
 4606:   const { toast } = useToast();
 4607:   const [product, setProduct] = useState<Product | null>(null);
 4608:   const [isLoading, setIsLoading] = useState(true);
 4609:   const [productCategories, setProductCategories] = useState<string[]>([]);
 4610: 
 4611:   useEffect(() => {
 4612:     // Fetch product details
 4613:     const fetchProduct = async () => {
 4614:       setIsLoading(true);
 4615:       try {
 4616:         // Get data from our mock database (window.updatedProducts)
 4617:         setTimeout(() => {
 4618:           const products = typeof window !== 'undefined' ? window.updatedProducts : mockProducts;
 4619:           const foundProduct = products.find(p => p.id === params.id);
 4620:           
 4621:           if (foundProduct) {
 4622:             // Ensure the product has a categories array
 4623:             if (!foundProduct.categories) {
 4624:               // If no categories array exists, create one with the categoryId
 4625:               foundProduct.categories = foundProduct.categoryId ? [foundProduct.categoryId] : [];
 4626:             }
 4627:             
 4628:             setProduct(foundProduct);
 4629:             
 4630:             // Get category names from category IDs
 4631:             const categories = typeof window !== 'undefined' ? window.updatedCategories : mockCategories;
 4632:             const categoryNames = foundProduct.categories.map(categoryId => {
 4633:               const category = categories.find(c => c.id === categoryId);
 4634:               return category ? category.name : "Unknown";
 4635:             });
 4636:             
 4637:             setProductCategories(categoryNames);
 4638:           }
 4639:           
 4640:           setIsLoading(false);
 4641:         }, 1000);
 4642:       } catch (error) {
 4643:         toast({
 4644:           title: "Error",
 4645:           description: "Failed to load product details",
 4646:           variant: "destructive",
 4647:         });
 4648:         setIsLoading(false);
 4649:       }
 4650:     };
 4651: 
 4652:     fetchProduct();
 4653:   }, [params.id, toast]);
 4654: 
 4655:   const handleDelete = async (id: string) => {
 4656:     // Simulate API call to delete product
 4657:     return new Promise<void>((resolve, reject) => {
 4658:       setTimeout(() => {
 4659:         // Update our mock database
 4660:         if (typeof window !== 'undefined') {
 4661:           window.updatedProducts = window.updatedProducts.filter(p => p.id !== id);
 4662:         }
 4663:         
 4664:         router.push("/products");
 4665:         resolve();
 4666:       }, 1000);
 4667:     });
 4668:   };
 4669: 
 4670:   const getStockStatus = (stock: number, safetyStock: number) => {
 4671:     if (stock <= 0) {
 4672:       return { label: "Out of Stock", color: "bg-red-500" };
 4673:     } else if (stock <= safetyStock) {
 4674:       return { label: "Low Stock", color: "bg-amber-500" };
 4675:     } else {
 4676:       return { label: "In Stock", color: "bg-emerald-500" };
 4677:     }
 4678:   };
 4679: 
 4680:   return (
 4681:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 4682:       <div className="flex items-center justify-between">
 4683:         <div className="flex items-center gap-2">
 4684:           <Button variant="ghost" size="icon" asChild>
 4685:             <Link href="/products">
 4686:               <ArrowLeft className="h-4 w-4" />
 4687:             </Link>
 4688:           </Button>
 4689:           <h1 className="text-3xl font-bold tracking-tight">
 4690:             {isLoading ? <Skeleton className="h-9 w-40" /> : product?.name}
 4691:           </h1>
 4692:         </div>
 4693:         
 4694:         <div className="flex items-center gap-2">
 4695:           {!isLoading && product && (
 4696:             <>
 4697:               <Button variant="outline" size="sm" asChild>
 4698:                 <Link href={`/products/${params.id}/edit`}>
 4699:                   <Edit className="mr-2 h-4 w-4" />
 4700:                   Edit
 4701:                 </Link>
 4702:               </Button>
 4703:               
 4704:               <DeleteButton
 4705:                 id={params.id}
 4706:                 name={product.name}
 4707:                 onDelete={handleDelete}
 4708:               />
 4709:             </>
 4710:           )}
 4711:         </div>
 4712:       </div>
 4713:       
 4714:       {isLoading ? (
 4715:         <Card>
 4716:           <CardHeader>
 4717:             <Skeleton className="h-7 w-40 mb-2" />
 4718:             <Skeleton className="h-5 w-60" />
 4719:           </CardHeader>
 4720:           <CardContent className="space-y-4">
 4721:             <Skeleton className="h-5 w-full" />
 4722:             <Skeleton className="h-5 w-3/4" />
 4723:             <Skeleton className="h-5 w-1/2" />
 4724:           </CardContent>
 4725:         </Card>
 4726:       ) : product ? (
 4727:         <>
 4728:           <Card>
 4729:             <CardHeader>
 4730:               <CardTitle className="flex items-center justify-between">
 4731:                 Product Details
 4732:                 {product && (
 4733:                   <Badge className={getStockStatus(product.stock, product.safetyStock).color}>
 4734:                     {getStockStatus(product.stock, product.safetyStock).label}
 4735:                   </Badge>
 4736:                 )}
 4737:               </CardTitle>
 4738:               <CardDescription>
 4739:                 Detailed information about this product
 4740:               </CardDescription>
 4741:             </CardHeader>
 4742:             <CardContent className="space-y-6">
 4743:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 4744:                 <div>
 4745:                   <h3 className="text-sm font-medium text-muted-foreground">SKU</h3>
 4746:                   <p className="text-base">{product.sku}</p>
 4747:                 </div>
 4748:                 <div>
 4749:                   <h3 className="text-sm font-medium text-muted-foreground">Categories</h3>
 4750:                   <div className="flex flex-wrap gap-1 mt-1">
 4751:                     {productCategories.map((category, index) => (
 4752:                       <Badge key={index} variant="outline" className="mr-1">
 4753:                         {category}
 4754:                       </Badge>
 4755:                     ))}
 4756:                   </div>
 4757:                 </div>
 4758:               </div>
 4759:               
 4760:               <div>
 4761:                 <h3 className="text-sm font-medium text-muted-foreground">Description</h3>
 4762:                 <p className="text-base">{product.description}</p>
 4763:               </div>
 4764:               
 4765:               <div className="grid grid-cols-1 gap-4 md:grid-cols-4">
 4766:                 <div>
 4767:                   <h3 className="text-sm font-medium text-muted-foreground">Cost Price</h3>
 4768:                   <p className="text-base">${product.costPrice.toFixed(2)}</p>
 4769:                 </div>
 4770:                 <div>
 4771:                   <h3 className="text-sm font-medium text-muted-foreground">Selling Price</h3>
 4772:                   <p className="text-base">${product.sellingPrice.toFixed(2)}</p>
 4773:                 </div>
 4774:                 <div>
 4775:                   <h3 className="text-sm font-medium text-muted-foreground">Current Stock</h3>
 4776:                   <p className="text-base">{product.stock}</p>
 4777:                 </div>
 4778:                 <div>
 4779:                   <h3 className="text-sm font-medium text-muted-foreground">Safety Stock</h3>
 4780:                   <p className="text-base">{product.safetyStock}</p>
 4781:                 </div>
 4782:               </div>
 4783:               
 4784:               <div>
 4785:                 <h3 className="text-sm font-medium text-muted-foreground">Profit Margin</h3>
 4786:                 <p className="text-base">
 4787:                   {product.costPrice > 0 
 4788:                     ? `${(((product.sellingPrice - product.costPrice) / product.sellingPrice) * 100).toFixed(2)}%` 
 4789:                     : "N/A"}
 4790:                 </p>
 4791:               </div>
 4792:             </CardContent>
 4793:           </Card>
 4794:           
 4795:           <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 4796:             <Card>
 4797:               <CardHeader>
 4798:                 <CardTitle className="flex items-center">
 4799:                   <Package className="mr-2 h-5 w-5" />
 4800:                   Inventory
 4801:                 </CardTitle>
 4802:                 <CardDescription>
 4803:                   Current inventory levels across warehouses
 4804:                 </CardDescription>
 4805:               </CardHeader>
 4806:               <CardContent>
 4807:                 <div className="space-y-2">
 4808:                   <div className="flex justify-between items-center py-2 border-b">
 4809:                     <span>Main Store</span>
 4810:                     <span className="font-medium">{Math.floor(product.stock * 0.7)}</span>
 4811:                   </div>
 4812:                   <div className="flex justify-between items-center py-2 border-b">
 4813:                     <span>Downtown Branch</span>
 4814:                     <span className="font-medium">{Math.floor(product.stock * 0.3)}</span>
 4815:                   </div>
 4816:                   <div className="flex justify-between items-center py-2">
 4817:                     <span className="font-semibold">Total</span>
 4818:                     <span className="font-semibold">{product.stock}</span>
 4819:                   </div>
 4820:                 </div>
 4821:               </CardContent>
 4822:             </Card>
 4823:             
 4824:             <Card>
 4825:               <CardHeader>
 4826:                 <CardTitle className="flex items-center">
 4827:                   <Tag className="mr-2 h-5 w-5" />
 4828:                   Pricing History
 4829:                 </CardTitle>
 4830:                 <CardDescription>
 4831:                   Recent price changes for this product
 4832:                 </CardDescription>
 4833:               </CardHeader>
 4834:               <CardContent>
 4835:                 <div className="space-y-2">
 4836:                   <div className="flex justify-between items-center py-2 border-b">
 4837:                     <div>
 4838:                       <p className="font-medium">Initial Price</p>
 4839:                       <p className="text-sm text-muted-foreground">May 15, 2023</p>
 4840:                     </div>
 4841:                     <span className="font-medium">${(product.sellingPrice - 2).toFixed(2)}</span>
 4842:                   </div>
 4843:                   <div className="flex justify-between items-center py-2">
 4844:                     <div>
 4845:                       <p className="font-medium">Current Price</p>
 4846:                       <p className="text-sm text-muted-foreground">Jun 10, 2023</p>
 4847:                     </div>
 4848:                     <span className="font-medium">${product.sellingPrice.toFixed(2)}</span>
 4849:                   </div>
 4850:                 </div>
 4851:               </CardContent>
 4852:             </Card>
 4853:           </div>
 4854:         </>
 4855:       ) : (
 4856:         <Card>
 4857:           <CardContent className="flex flex-col items-center justify-center py-10">
 4858:             <h2 className="text-xl font-semibold mb-2">Product Not Found</h2>
 4859:             <p className="text-muted-foreground mb-4">
 4860:               The product you're looking for doesn't exist or has been removed.
 4861:             </p>
 4862:             <Button asChild>
 4863:               <Link href="/products">Back to Products</Link>
 4864:             </Button>
 4865:           </CardContent>
 4866:         </Card>
 4867:       )}
 4868:     </div>
 4869:   );
 4870: }
 4871: ```
 4872: 
 4873: ## app\purchases\edit\page.tsx
 4874: 
 4875: - Characters: 12344
 4876: - Tokens: 0
 4877: 
 4878: ```text
 4879: "use client";
 4880: 
 4881: import { useState, useEffect } from "react";
 4882: import { useRouter } from "next/navigation";
 4883: import { useForm } from "react-hook-form";
 4884: import { zodResolver } from "@hookform/resolvers/zod";
 4885: import * as z from "zod";
 4886: import { ArrowLeft } from "lucide-react";
 4887: import Link from "next/link";
 4888: 
 4889: import { Button } from "@/components/ui/button";
 4890: import {
 4891:   Form,
 4892:   FormControl,
 4893:   FormDescription,
 4894:   FormField,
 4895:   FormItem,
 4896:   FormLabel,
 4897:   FormMessage,
 4898: } from "@/components/ui/form";
 4899: import { Input } from "@/components/ui/input";
 4900: import { Textarea } from "@/components/ui/textarea";
 4901: import {
 4902:   Select,
 4903:   SelectContent,
 4904:   SelectItem,
 4905:   SelectTrigger,
 4906:   SelectValue,
 4907: } from "@/components/ui/select";
 4908: import { useToast } from "@/hooks/use-toast";
 4909: import {
 4910:   Card,
 4911:   CardContent,
 4912:   CardDescription,
 4913:   CardHeader,
 4914:   CardTitle,
 4915: } from "@/components/ui/card";
 4916: import { Skeleton } from "@/components/ui/skeleton";
 4917: 
 4918: // Mock purchase orders data
 4919: const mockPurchases = [
 4920:   {
 4921:     id: "1",
 4922:     orderNumber: "PO-2023-001",
 4923:     supplier: "Fashion Wholesale Co.",
 4924:     supplierId: "1",
 4925:     status: "RECEIVED",
 4926:     orderDate: new Date("2023-05-15"),
 4927:     deliveryDate: new Date("2023-05-25"),
 4928:     notes: "Summer collection order",
 4929:     totalItems: 120,
 4930:     totalAmount: 1850.75,
 4931:     items: [
 4932:       {
 4933:         id: "1",
 4934:         productId: "1",
 4935:         sku: "SH-001",
 4936:         name: "Cotton T-Shirt",
 4937:         quantity: 80,
 4938:         unitPrice: 12.50,
 4939:         receivedQuantity: 80
 4940:       },
 4941:       {
 4942:         id: "2",
 4943:         productId: "5",
 4944:         sku: "SH-002",
 4945:         name: "Polo Shirt",
 4946:         quantity: 40,
 4947:         unitPrice: 15.00,
 4948:         receivedQuantity: 40
 4949:       }
 4950:     ]
 4951:   },
 4952:   {
 4953:     id: "2",
 4954:     orderNumber: "PO-2023-002",
 4955:     supplier: "Textile Suppliers Inc.",
 4956:     supplierId: "2",
 4957:     status: "ORDERED",
 4958:     orderDate: new Date("2023-06-02"),
 4959:     deliveryDate: new Date("2023-06-12"),
 4960:     notes: "Fall collection pre-order",
 4961:     totalItems: 85,
 4962:     totalAmount: 1245.50,
 4963:     items: [
 4964:       {
 4965:         id: "3",
 4966:         productId: "2",
 4967:         sku: "PA-001",
 4968:         name: "Slim Fit Jeans",
 4969:         quantity: 50,
 4970:         unitPrice: 18.75,
 4971:         receivedQuantity: 0
 4972:       },
 4973:       {
 4974:         id: "4",
 4975:         productId: "3",
 4976:         sku: "DR-001",
 4977:         name: "Summer Dress",
 4978:         quantity: 35,
 4979:         unitPrice: 22.00,
 4980:         receivedQuantity: 0
 4981:       }
 4982:     ]
 4983:   },
 4984:   {
 4985:     id: "3",
 4986:     orderNumber: "PO-2023-003",
 4987:     supplier: "Apparel Manufacturing Ltd.",
 4988:     supplierId: "3",
 4989:     status: "DRAFT",
 4990:     orderDate: new Date("2023-06-10"),
 4991:     deliveryDate: null,
 4992:     notes: "Winter collection planning",
 4993:     totalItems: 200,
 4994:     totalAmount: 3200.00,
 4995:     items: [
 4996:       {
 4997:         id: "5",
 4998:         productId: "1",
 4999:         sku: "SH-001",
 5000:         name: "Cotton T-Shirt",
 5001:         quantity: 100,
 5002:         unitPrice: 12.00,
 5003:         receivedQuantity: 0
 5004:       },
 5005:       {
 5006:         id: "6",
 5007:         productId: "2",
 5008:         sku: "PA-001",
 5009:         name: "Slim Fit Jeans",
 5010:         quantity: 100,
 5011:         unitPrice: 20.00,
 5012:         receivedQuantity: 0
 5013:       }
 5014:     ]
 5015:   },
 5016:   {
 5017:     id: "4",
 5018:     orderNumber: "PO-2023-004",
 5019:     supplier: "Fashion Wholesale Co.",
 5020:     supplierId: "1",
 5021:     status: "CANCELLED",
 5022:     orderDate: new Date("2023-05-20"),
 5023:     deliveryDate: null,
 5024:     notes: "Cancelled due to pricing issues",
 5025:     totalItems: 50,
 5026:     totalAmount: 750.25,
 5027:     items: [
 5028:       {
 5029:         id: "7",
 5030:         productId: "4",
 5031:         sku: "AC-001",
 5032:         name: "Leather Belt",
 5033:         quantity: 50,
 5034:         unitPrice: 15.00,
 5035:         receivedQuantity: 0
 5036:       }
 5037:     ]
 5038:   },
 5039: ];
 5040: 
 5041: // Create a global variable to store the updated purchases if it doesn't exist
 5042: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedPurchases')) {
 5043:   window.updatedPurchases = [...mockPurchases];
 5044: }
 5045: 
 5046: // Mock suppliers data
 5047: const suppliers = [
 5048:   { id: "1", name: "Fashion Wholesale Co." },
 5049:   { id: "2", name: "Textile Suppliers Inc." },
 5050:   { id: "3", name: "Apparel Manufacturing Ltd." },
 5051:   { id: "4", name: "Fabric Importers Co." },
 5052:   { id: "5", name: "Accessory Distributors" },
 5053: ];
 5054: 
 5055: const purchaseSchema = z.object({
 5056:   supplierId: z.string({ required_error: "Please select a supplier" }),
 5057:   status: z.enum(["DRAFT", "ORDERED", "RECEIVED", "CANCELLED"]),
 5058:   deliveryDate: z.date().optional().nullable(),
 5059:   notes: z.string().optional(),
 5060: });
 5061: 
 5062: type PurchaseFormValues = z.infer<typeof purchaseSchema>;
 5063: 
 5064: export default function EditPurchasePage({ params }: { params: { id: string } }) {
 5065:   const router = useRouter();
 5066:   const { toast } = useToast();
 5067:   const [isLoading, setIsLoading] = useState(false);
 5068:   const [isFetching, setIsFetching] = useState(true);
 5069:   const [purchase, setPurchase] = useState<any | null>(null);
 5070: 
 5071:   const form = useForm<PurchaseFormValues>({
 5072:     resolver: zodResolver(purchaseSchema),
 5073:     defaultValues: {
 5074:       supplierId: "",
 5075:       status: "DRAFT",
 5076:       deliveryDate: null,
 5077:       notes: "",
 5078:     },
 5079:   });
 5080: 
 5081:   useEffect(() => {
 5082:     // Fetch purchase data
 5083:     const fetchPurchase = async () => {
 5084:       setIsFetching(true);
 5085:       try {
 5086:         // In a real app, this would be an API call
 5087:         // const response = await fetch(`/api/purchases/${params.id}`);
 5088:         // const data = await response.json();
 5089:         
 5090:         // Get data from our mock database
 5091:         setTimeout(() => {
 5092:           const purchases = typeof window !== 'undefined' ? window.updatedPurchases : mockPurchases;
 5093:           const foundPurchase = purchases.find(p => p.id === params.id);
 5094:           
 5095:           if (foundPurchase) {
 5096:             setPurchase(foundPurchase);
 5097:             form.reset({
 5098:               supplierId: foundPurchase.supplierId,
 5099:               status: foundPurchase.status as any,
 5100:               deliveryDate: foundPurchase.deliveryDate,
 5101:               notes: foundPurchase.notes || "",
 5102:             });
 5103:           }
 5104:           
 5105:           setIsFetching(false);
 5106:         }, 1000);
 5107:       } catch (error) {
 5108:         toast({
 5109:           title: "Error",
 5110:           description: "Failed to load purchase order details",
 5111:           variant: "destructive",
 5112:         });
 5113:         setIsFetching(false);
 5114:       }
 5115:     };
 5116: 
 5117:     fetchPurchase();
 5118:   }, [params.id, toast, form]);
 5119: 
 5120:   async function onSubmit(data: PurchaseFormValues) {
 5121:     setIsLoading(true);
 5122:     
 5123:     try {
 5124:       // In a real application, this would be an API call
 5125:       // const response = await fetch(`/api/purchases/${params.id}`, {
 5126:       //   method: "PUT",
 5127:       //   headers: {
 5128:       //     "Content-Type": "application/json",
 5129:       //   },
 5130:       //   body: JSON.stringify(data),
 5131:       // });
 5132:       
 5133:       // if (!response.ok) {
 5134:       //   throw new Error("Failed to update purchase order");
 5135:       // }
 5136:       
 5137:       // Simulate API call and update our mock database
 5138:       await new Promise(resolve => setTimeout(resolve, 1000));
 5139:       
 5140:       // Get the supplier name from the supplierId
 5141:       const supplier = suppliers.find(s => s.id === data.supplierId)?.name || "";
 5142:       
 5143:       // Update the purchase in our mock database
 5144:       if (typeof window !== 'undefined') {
 5145:         const index = window.updatedPurchases.findIndex(p => p.id === params.id);
 5146:         if (index !== -1) {
 5147:           window.updatedPurchases[index] = {
 5148:             ...window.updatedPurchases[index],
 5149:             ...data,
 5150:             supplier, // Add the supplier name
 5151:           };
 5152:         }
 5153:       }
 5154:       
 5155:       toast({
 5156:         title: "Purchase order updated",
 5157:         description: "The purchase order has been updated successfully.",
 5158:       });
 5159:       
 5160:       router.push(`/purchases/${params.id}`);
 5161:     } catch (error) {
 5162:       toast({
 5163:         title: "Error",
 5164:         description: error instanceof Error ? error.message : "An error occurred",
 5165:         variant: "destructive",
 5166:       });
 5167:     } finally {
 5168:       setIsLoading(false);
 5169:     }
 5170:   }
 5171: 
 5172:   return (
 5173:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 5174:       <div className="flex items-center gap-2">
 5175:         <Button variant="ghost" size="icon" asChild>
 5176:           <Link href={`/purchases/${params.id}`}>
 5177:             <ArrowLeft className="h-4 w-4" />
 5178:           </Link>
 5179:         </Button>
 5180:         <h1 className="text-3xl font-bold tracking-tight">
 5181:           {isFetching ? <Skeleton className="h-9 w-40" /> : `Edit ${purchase?.orderNumber}`}
 5182:         </h1>
 5183:       </div>
 5184:       
 5185:       <Card>
 5186:         <CardHeader>
 5187:           <CardTitle>Purchase Order Information</CardTitle>
 5188:           <CardDescription>
 5189:             Update the purchase order details
 5190:           </CardDescription>
 5191:         </CardHeader>
 5192:         <CardContent>
 5193:           {isFetching ? (
 5194:             <div className="space-y-4">
 5195:               <Skeleton className="h-10 w-full" />
 5196:               <Skeleton className="h-10 w-full" />
 5197:               <Skeleton className="h-10 w-full" />
 5198:               <Skeleton className="h-10 w-full" />
 5199:             </div>
 5200:           ) : (
 5201:             <Form {...form}>
 5202:               <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
 5203:                 <FormField
 5204:                   control={form.control}
 5205:                   name="supplierId"
 5206:                   render={({ field }) => (
 5207:                     <FormItem>
 5208:                       <FormLabel>Supplier</FormLabel>
 5209:                       <Select
 5210:                         onValueChange={field.onChange}
 5211:                         defaultValue={field.value}
 5212:                       >
 5213:                         <FormControl>
 5214:                           <SelectTrigger>
 5215:                             <SelectValue placeholder="Select a supplier" />
 5216:                           </SelectTrigger>
 5217:                         </FormControl>
 5218:                         <SelectContent>
 5219:                           {suppliers.map((supplier) => (
 5220:                             <SelectItem key={supplier.id} value={supplier.id}>
 5221:                               {supplier.name}
 5222:                             </SelectItem>
 5223:                           ))}
 5224:                         </SelectContent>
 5225:                       </Select>
 5226:                       <FormMessage />
 5227:                     </FormItem>
 5228:                   )}
 5229:                 />
 5230:                 
 5231:                 <FormField
 5232:                   control={form.control}
 5233:                   name="status"
 5234:                   render={({ field }) => (
 5235:                     <FormItem>
 5236:                       <FormLabel>Status</FormLabel>
 5237:                       <Select
 5238:                         onValueChange={field.onChange}
 5239:                         defaultValue={field.value}
 5240:                       >
 5241:                         <FormControl>
 5242:                           <SelectTrigger>
 5243:                             <SelectValue placeholder="Select status" />
 5244:                           </SelectTrigger>
 5245:                         </FormControl>
 5246:                         <SelectContent>
 5247:                           <SelectItem value="DRAFT">Draft</SelectItem>
 5248:                           <SelectItem value="ORDERED">Ordered</SelectItem>
 5249:                           <SelectItem value="RECEIVED">Received</SelectItem>
 5250:                           <SelectItem value="CANCELLED">Cancelled</SelectItem>
 5251:                         </SelectContent>
 5252:                       </Select>
 5253:                       <FormMessage />
 5254:                     </FormItem>
 5255:                   )}
 5256:                 />
 5257:                 
 5258:                 <FormField
 5259:                   control={form.control}
 5260:                   name="notes"
 5261:                   render={({ field }) => (
 5262:                     <FormItem>
 5263:                       <FormLabel>Notes</FormLabel>
 5264:                       <FormControl>
 5265:                         <Textarea
 5266:                           placeholder="Purchase order notes..."
 5267:                           {...field}
 5268:                         />
 5269:                       </FormControl>
 5270:                       <FormMessage />
 5271:                     </FormItem>
 5272:                   )}
 5273:                 />
 5274:                 
 5275:                 <div className="flex justify-end space-x-2">
 5276:                   <Button
 5277:                     variant="outline"
 5278:                     onClick={() => router.push(`/purchases/${params.id}`)}
 5279:                     type="button"
 5280:                   >
 5281:                     Cancel
 5282:                   </Button>
 5283:                   <Button type="submit" disabled={isLoading}>
 5284:                     {isLoading ? "Saving..." : "Save Changes"}
 5285:                   </Button>
 5286:                 </div>
 5287:               </form>
 5288:             </Form>
 5289:           )}
 5290:         </CardContent>
 5291:       </Card>
 5292:     </div>
 5293:   );
 5294: }
 5295: ```
 5296: 
 5297: ## app\purchases\layout.tsx
 5298: 
 5299: - Characters: 2101
 5300: - Tokens: 0
 5301: 
 5302: ```text
 5303: "use client";
 5304: 
 5305: import { useEffect, useState } from "react";
 5306: import { useRouter, usePathname } from "next/navigation";
 5307: import { Sidebar } from "@/components/layout/sidebar";
 5308: import { Header } from "@/components/layout/header";
 5309: import { useAuth } from "@/hooks/use-auth";
 5310: import { Loader2 } from "lucide-react";
 5311: 
 5312: export default function PurchasesLayout({
 5313:   children,
 5314: }: {
 5315:   children: React.ReactNode;
 5316: }) {
 5317:   const { user } = useAuth();
 5318:   const router = useRouter();
 5319:   const pathname = usePathname();
 5320:   const [isLoading, setIsLoading] = useState(true);
 5321:   const [currentPath, setCurrentPath] = useState(pathname);
 5322:   const [isTransitioning, setIsTransitioning] = useState(false);
 5323:   
 5324:   // Handle authentication check
 5325:   useEffect(() => {
 5326:     if (!user) {
 5327:       router.push("/login");
 5328:     } else {
 5329:       // Simulate loading delay
 5330:       const timer = setTimeout(() => {
 5331:         setIsLoading(false);
 5332:       }, 500);
 5333:       
 5334:       return () => clearTimeout(timer);
 5335:     }
 5336:   }, [user, router]);
 5337:   
 5338:   // Handle route transitions
 5339:   useEffect(() => {
 5340:     if (pathname !== currentPath) {
 5341:       setIsTransitioning(true);
 5342:       
 5343:       // Short delay to allow transition to complete
 5344:       const timer = setTimeout(() => {
 5345:         setCurrentPath(pathname);
 5346:         setIsTransitioning(false);
 5347:       }, 300);
 5348:       
 5349:       return () => clearTimeout(timer);
 5350:     }
 5351:   }, [pathname, currentPath]);
 5352:   
 5353:   if (!user || isLoading) {
 5354:     return (
 5355:       <div className="flex min-h-screen items-center justify-center">
 5356:         <div className="flex flex-col items-center space-y-4">
 5357:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
 5358:           <p className="text-lg font-medium">Loading...</p>
 5359:         </div>
 5360:       </div>
 5361:     );
 5362:   }
 5363:   
 5364:   return (
 5365:     <div className="flex min-h-screen">
 5366:       <div className="hidden md:block">
 5367:         <Sidebar />
 5368:       </div>
 5369:       <div className="flex flex-col flex-1">
 5370:         <Header />
 5371:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
 5372:           {children}
 5373:         </main>
 5374:       </div>
 5375:     </div>
 5376:   );
 5377: }
 5378: ```
 5379: 
 5380: ## app\purchases\new\page.tsx
 5381: 
 5382: - Characters: 14096
 5383: - Tokens: 0
 5384: 
 5385: ```text
 5386: "use client";
 5387: 
 5388: import { useState, useEffect } from "react";
 5389: import { useRouter } from "next/navigation";
 5390: import { useForm } from "react-hook-form";
 5391: import { zodResolver } from "@hookform/resolvers/zod";
 5392: import * as z from "zod";
 5393: import { ArrowLeft, Package } from "lucide-react";
 5394: import Link from "next/link";
 5395: 
 5396: import { Button } from "@/components/ui/button";
 5397: import {
 5398:   Form,
 5399:   FormControl,
 5400:   FormDescription,
 5401:   FormField,
 5402:   FormItem,
 5403:   FormLabel,
 5404:   FormMessage,
 5405: } from "@/components/ui/form";
 5406: import { Input } from "@/components/ui/input";
 5407: import { Textarea } from "@/components/ui/textarea";
 5408: import {
 5409:   Select,
 5410:   SelectContent,
 5411:   SelectItem,
 5412:   SelectTrigger,
 5413:   SelectValue,
 5414: } from "@/components/ui/select";
 5415: import { useToast } from "@/hooks/use-toast";
 5416: import {
 5417:   Card,
 5418:   CardContent,
 5419:   CardDescription,
 5420:   CardHeader,
 5421:   CardTitle,
 5422:   CardFooter,
 5423: } from "@/components/ui/card";
 5424: import { ProductSelector } from "@/components/purchases/product-selector";
 5425: 
 5426: // Mock purchase orders data
 5427: const mockPurchases = [
 5428:   {
 5429:     id: "1",
 5430:     orderNumber: "PO-2023-001",
 5431:     supplier: "Fashion Wholesale Co.",
 5432:     supplierId: "1",
 5433:     status: "RECEIVED",
 5434:     orderDate: new Date("2023-05-15"),
 5435:     deliveryDate: new Date("2023-05-25"),
 5436:     notes: "Summer collection order",
 5437:     totalItems: 120,
 5438:     totalAmount: 1850.75,
 5439:     items: []
 5440:   },
 5441:   {
 5442:     id: "2",
 5443:     orderNumber: "PO-2023-002",
 5444:     supplier: "Textile Suppliers Inc.",
 5445:     supplierId: "2",
 5446:     status: "ORDERED",
 5447:     orderDate: new Date("2023-06-02"),
 5448:     deliveryDate: new Date("2023-06-12"),
 5449:     notes: "Fall collection pre-order",
 5450:     totalItems: 85,
 5451:     totalAmount: 1245.50,
 5452:     items: []
 5453:   },
 5454:   {
 5455:     id: "3",
 5456:     orderNumber: "PO-2023-003",
 5457:     supplier: "Apparel Manufacturing Ltd.",
 5458:     supplierId: "3",
 5459:     status: "DRAFT",
 5460:     orderDate: new Date("2023-06-10"),
 5461:     deliveryDate: null,
 5462:     notes: "Winter collection planning",
 5463:     totalItems: 200,
 5464:     totalAmount: 3200.00,
 5465:     items: []
 5466:   },
 5467:   {
 5468:     id: "4",
 5469:     orderNumber: "PO-2023-004",
 5470:     supplier: "Fashion Wholesale Co.",
 5471:     supplierId: "1",
 5472:     status: "CANCELLED",
 5473:     orderDate: new Date("2023-05-20"),
 5474:     deliveryDate: null,
 5475:     notes: "Cancelled due to pricing issues",
 5476:     totalItems: 50,
 5477:     totalAmount: 750.25,
 5478:     items: []
 5479:   },
 5480: ];
 5481: 
 5482: // Create a global variable to store the updated purchases if it doesn't exist
 5483: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedPurchases')) {
 5484:   window.updatedPurchases = [...mockPurchases];
 5485: }
 5486: 
 5487: // Mock suppliers data - this would normally be in a database
 5488: const mockSuppliers = [
 5489:   {
 5490:     id: "1",
 5491:     name: "Fashion Wholesale Co.",
 5492:     contactName: "John Smith",
 5493:     email: "john@fashionwholesale.com",
 5494:     phone: "555-123-4567",
 5495:     address: "123 Supplier St, Supplier City",
 5496:     status: "Active",
 5497:   },
 5498:   {
 5499:     id: "2",
 5500:     name: "Textile Suppliers Inc.",
 5501:     contactName: "Jane Doe",
 5502:     email: "jane@textilesuppliers.com",
 5503:     phone: "555-987-6543",
 5504:     address: "456 Textile Ave, Fabric City",
 5505:     status: "Active",
 5506:   },
 5507:   {
 5508:     id: "3",
 5509:     name: "Apparel Manufacturing Ltd.",
 5510:     contactName: "Robert Johnson",
 5511:     email: "robert@apparelmanufacturing.com",
 5512:     phone: "555-456-7890",
 5513:     address: "789 Apparel Blvd, Manufacturing Town",
 5514:     status: "Inactive",
 5515:   },
 5516:   {
 5517:     id: "4",
 5518:     name: "Fabric Importers Co.",
 5519:     contactName: "Emily Chen",
 5520:     email: "emily@fabricimporters.com",
 5521:     phone: "555-234-5678",
 5522:     address: "321 Import Road, Port City",
 5523:     status: "Active",
 5524:   },
 5525:   {
 5526:     id: "5",
 5527:     name: "Accessory Distributors",
 5528:     contactName: "Michael Brown",
 5529:     email: "michael@accessorydist.com",
 5530:     phone: "555-876-5432",
 5531:     address: "654 Accessory Lane, Fashion District",
 5532:     status: "Active",
 5533:   },
 5534: ];
 5535: 
 5536: // Create a global variable to store the updated suppliers if it doesn't exist
 5537: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedSuppliers')) {
 5538:   window.updatedSuppliers = [...mockSuppliers];
 5539: }
 5540: 
 5541: const purchaseSchema = z.object({
 5542:   supplierId: z.string({ required_error: "Please select a supplier" }),
 5543:   notes: z.string().optional(),
 5544: });
 5545: 
 5546: type PurchaseFormValues = z.infer<typeof purchaseSchema>;
 5547: 
 5548: export default function NewPurchasePage() {
 5549:   const router = useRouter();
 5550:   const { toast } = useToast();
 5551:   const [isLoading, setIsLoading] = useState(false);
 5552:   const [items, setItems] = useState<any[]>([]);
 5553:   const [purchaseId, setPurchaseId] = useState<string | null>(null);
 5554:   const [suppliers, setSuppliers] = useState<any[]>([]);
 5555: 
 5556:   // Load suppliers from our mock database
 5557:   useEffect(() => {
 5558:     const loadSuppliers = () => {
 5559:       // Always fetch the latest suppliers data
 5560:       const suppliersData = typeof window !== 'undefined' ? window.updatedSuppliers : mockSuppliers;
 5561:       setSuppliers(suppliersData);
 5562:     };
 5563:     
 5564:     loadSuppliers();
 5565:     
 5566:     // Set up an interval to refresh suppliers data every few seconds
 5567:     const refreshInterval = setInterval(loadSuppliers, 5000);
 5568:     
 5569:     return () => clearInterval(refreshInterval);
 5570:   }, []);
 5571: 
 5572:   const form = useForm<PurchaseFormValues>({
 5573:     resolver: zodResolver(purchaseSchema),
 5574:     defaultValues: {
 5575:       supplierId: "",
 5576:       notes: "",
 5577:     },
 5578:   });
 5579: 
 5580:   const handleProductsSelected = (newItems: any[]) => {
 5581:     // Merge with existing items, avoiding duplicates by product ID
 5582:     const existingProductIds = new Set(items.map(item => item.productId));
 5583:     const filteredNewItems = newItems.filter(item => !existingProductIds.has(item.productId));
 5584:     
 5585:     setItems([...items, ...filteredNewItems]);
 5586:   };
 5587: 
 5588:   async function onSubmit(data: PurchaseFormValues) {
 5589:     setIsLoading(true);
 5590:     
 5591:     try {
 5592:       // In a real application, this would be an API call
 5593:       // const response = await fetch("/api/purchases", {
 5594:       //   method: "POST",
 5595:       //   headers: {
 5596:       //     "Content-Type": "application/json",
 5597:       //   },
 5598:       //   body: JSON.stringify(data),
 5599:       // });
 5600:       
 5601:       // if (!response.ok) {
 5602:       //   throw new Error("Failed to create purchase order");
 5603:       // }
 5604:       
 5605:       // Simulate API call and update our mock database
 5606:       await new Promise(resolve => setTimeout(resolve, 1000));
 5607:       
 5608:       // Get the supplier name from the supplierId
 5609:       const supplier = suppliers.find(s => s.id === data.supplierId)?.name || "";
 5610:       
 5611:       // Calculate total items and amount
 5612:       const totalItems = items.reduce((sum, item) => sum + item.quantity, 0);
 5613:       const totalAmount = items.reduce((sum, item) => sum + (item.quantity * item.unitPrice), 0);
 5614:       
 5615:       // Create a new purchase order with a unique ID
 5616:       const id = `${Date.now()}`;
 5617:       const newPurchase = {
 5618:         id,
 5619:         orderNumber: `PO-${new Date().getFullYear()}-${String(window.updatedPurchases?.length + 1 || 1).padStart(3, '0')}`,
 5620:         supplier,
 5621:         supplierId: data.supplierId,
 5622:         status: "DRAFT",
 5623:         orderDate: new Date(),
 5624:         deliveryDate: null,
 5625:         notes: data.notes || "",
 5626:         totalItems,
 5627:         totalAmount,
 5628:         items
 5629:       };
 5630:       
 5631:       // Add the new purchase to our mock database
 5632:       if (typeof window !== 'undefined') {
 5633:         window.updatedPurchases = [...(window.updatedPurchases || []), newPurchase];
 5634:       }
 5635:       
 5636:       setPurchaseId(id);
 5637:       
 5638:       toast({
 5639:         title: "Purchase order created",
 5640:         description: "The purchase order has been created successfully.",
 5641:       });
 5642:       
 5643:       if (items.length === 0) {
 5644:         router.push("/purchases");
 5645:       } else {
 5646:         router.push(`/purchases/${id}`);
 5647:       }
 5648:     } catch (error) {
 5649:       toast({
 5650:         title: "Error",
 5651:         description: error instanceof Error ? error.message : "An error occurred",
 5652:         variant: "destructive",
 5653:       });
 5654:       setIsLoading(false);
 5655:     }
 5656:   }
 5657: 
 5658:   return (
 5659:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 5660:       <div className="flex items-center gap-2">
 5661:         <Button variant="ghost" size="icon" asChild>
 5662:           <Link href="/purchases">
 5663:             <ArrowLeft className="h-4 w-4" />
 5664:           </Link>
 5665:         </Button>
 5666:         <h1 className="text-3xl font-bold tracking-tight">New Purchase Order</h1>
 5667:       </div>
 5668:       
 5669:       <Card>
 5670:         <CardHeader>
 5671:           <CardTitle>Purchase Order Information</CardTitle>
 5672:           <CardDescription>
 5673:             Enter the details for the new purchase order
 5674:           </CardDescription>
 5675:         </CardHeader>
 5676:         <CardContent>
 5677:           <Form {...form}>
 5678:             <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
 5679:               <FormField
 5680:                 control={form.control}
 5681:                 name="supplierId"
 5682:                 render={({ field }) => (
 5683:                   <FormItem>
 5684:                     <FormLabel>Supplier</FormLabel>
 5685:                     <Select
 5686:                       onValueChange={field.onChange}
 5687:                       defaultValue={field.value}
 5688:                     >
 5689:                       <FormControl>
 5690:                         <SelectTrigger>
 5691:                           <SelectValue placeholder="Select a supplier" />
 5692:                         </SelectTrigger>
 5693:                       </FormControl>
 5694:                       <SelectContent>
 5695:                         {suppliers.map((supplier) => (
 5696:                           <SelectItem key={supplier.id} value={supplier.id}>
 5697:                             {supplier.name}
 5698:                           </SelectItem>
 5699:                         ))}
 5700:                       </SelectContent>
 5701:                     </Select>
 5702:                     <FormDescription>
 5703:                       Select the supplier for this purchase order
 5704:                     </FormDescription>
 5705:                     <FormMessage />
 5706:                   </FormItem>
 5707:                 )}
 5708:               />
 5709:               
 5710:               <FormField
 5711:                 control={form.control}
 5712:                 name="notes"
 5713:                 render={({ field }) => (
 5714:                   <FormItem>
 5715:                     <FormLabel>Notes</FormLabel>
 5716:                     <FormControl>
 5717:                       <Textarea
 5718:                         placeholder="Purchase order notes..."
 5719:                         {...field}
 5720:                       />
 5721:                     </FormControl>
 5722:                     <FormDescription>
 5723:                       Any additional information about this purchase order
 5724:                     </FormDescription>
 5725:                     <FormMessage />
 5726:                   </FormItem>
 5727:                 )}
 5728:               />
 5729:               
 5730:               <div className="flex justify-end space-x-2">
 5731:                 <Button
 5732:                   variant="outline"
 5733:                   onClick={() => router.push("/purchases")}
 5734:                   type="button"
 5735:                 >
 5736:                   Cancel
 5737:                 </Button>
 5738:                 <Button type="submit" disabled={isLoading || !!purchaseId}>
 5739:                   {isLoading ? "Creating..." : "Create Purchase Order"}
 5740:                 </Button>
 5741:               </div>
 5742:             </form>
 5743:           </Form>
 5744:         </CardContent>
 5745:       </Card>
 5746:       
 5747:       {purchaseId && (
 5748:         <Card>
 5749:           <CardHeader>
 5750:             <CardTitle className="flex items-center">
 5751:               <Package className="mr-2 h-5 w-5" />
 5752:               Add Products to Purchase Order
 5753:             </CardTitle>
 5754:             <CardDescription>
 5755:               Select products to add to this purchase order
 5756:             </CardDescription>
 5757:           </CardHeader>
 5758:           <CardContent>
 5759:             {items.length > 0 ? (
 5760:               <div className="space-y-4">
 5761:                 <Table>
 5762:                   <TableHeader>
 5763:                     <TableRow>
 5764:                       <TableHead>SKU</TableHead>
 5765:                       <TableHead>Product</TableHead>
 5766:                       <TableHead className="text-right">Quantity</TableHead>
 5767:                       <TableHead className="text-right">Unit Price</TableHead>
 5768:                       <TableHead className="text-right">Total</TableHead>
 5769:                     </TableRow>
 5770:                   </TableHeader>
 5771:                   <TableBody>
 5772:                     {items.map((item) => (
 5773:                       <TableRow key={item.id}>
 5774:                         <TableCell className="font-medium">{item.sku}</TableCell>
 5775:                         <TableCell>{item.name}</TableCell>
 5776:                         <TableCell className="text-right">{item.quantity}</TableCell>
 5777:                         <TableCell className="text-right">${item.unitPrice.toFixed(2)}</TableCell>
 5778:                         <TableCell className="text-right">${(item.quantity * item.unitPrice).toFixed(2)}</TableCell>
 5779:                       </TableRow>
 5780:                     ))}
 5781:                     <TableRow>
 5782:                       <TableCell colSpan={4} className="text-right font-bold">
 5783:                         Total
 5784:                       </TableCell>
 5785:                       <TableCell className="text-right font-bold">
 5786:                         ${items.reduce((sum, item) => sum + (item.quantity * item.unitPrice), 0).toFixed(2)}
 5787:                       </TableCell>
 5788:                     </TableRow>
 5789:                   </TableBody>
 5790:                 </Table>
 5791:                 
 5792:                 <div className="flex justify-center">
 5793:                   <ProductSelector 
 5794:                     onProductsSelected={handleProductsSelected}
 5795:                     existingItems={items}
 5796:                   />
 5797:                 </div>
 5798:               </div>
 5799:             ) : (
 5800:               <div className="text-center py-8">
 5801:                 <p className="text-muted-foreground mb-4">No products have been added to this purchase order yet.</p>
 5802:                 <ProductSelector onProductsSelected={handleProductsSelected} />
 5803:               </div>
 5804:             )}
 5805:           </CardContent>
 5806:           <CardFooter className="flex justify-end">
 5807:             <Button 
 5808:               onClick={() => router.push(`/purchases/${purchaseId}`)}
 5809:               disabled={isLoading}
 5810:             >
 5811:               {items.length > 0 ? "Continue to Purchase Order" : "Skip for Now"}
 5812:             </Button>
 5813:           </CardFooter>
 5814:         </Card>
 5815:       )}
 5816:     </div>
 5817:   );
 5818: }
 5819: 
 5820: // Import Table components
 5821: import {
 5822:   Table,
 5823:   TableBody,
 5824:   TableCell,
 5825:   TableHead,
 5826:   TableHeader,
 5827:   TableRow,
 5828: } from "@/components/ui/table";
 5829: ```
 5830: 
 5831: ## app\purchases\page.tsx
 5832: 
 5833: - Characters: 7472
 5834: - Tokens: 0
 5835: 
 5836: ```text
 5837: "use client";
 5838: 
 5839: import Link from "next/link";
 5840: import { Plus, Edit, Eye } from "lucide-react";
 5841: import { Button } from "@/components/ui/button";
 5842: import {
 5843:   Card,
 5844:   CardContent,
 5845:   CardDescription,
 5846:   CardHeader,
 5847:   CardTitle,
 5848: } from "@/components/ui/card";
 5849: import {
 5850:   Table,
 5851:   TableBody,
 5852:   TableCell,
 5853:   TableHead,
 5854:   TableHeader,
 5855:   TableRow,
 5856: } from "@/components/ui/table";
 5857: import { Badge } from "@/components/ui/badge";
 5858: import { format } from "date-fns";
 5859: import { useState, useEffect } from "react";
 5860: import { Skeleton } from "@/components/ui/skeleton";
 5861: import { DeleteButton } from "@/components/shared/delete-button";
 5862: import { useToast } from "@/hooks/use-toast";
 5863: 
 5864: // Mock purchase orders data
 5865: const mockPurchases = [
 5866:   {
 5867:     id: "1",
 5868:     orderNumber: "PO-2023-001",
 5869:     supplier: "Fashion Wholesale Co.",
 5870:     status: "RECEIVED",
 5871:     orderDate: new Date("2023-05-15"),
 5872:     deliveryDate: new Date("2023-05-25"),
 5873:     totalItems: 120,
 5874:     totalAmount: 1850.75,
 5875:   },
 5876:   {
 5877:     id: "2",
 5878:     orderNumber: "PO-2023-002",
 5879:     supplier: "Textile Suppliers Inc.",
 5880:     status: "ORDERED",
 5881:     orderDate: new Date("2023-06-02"),
 5882:     deliveryDate: new Date("2023-06-12"),
 5883:     totalItems: 85,
 5884:     totalAmount: 1245.50,
 5885:   },
 5886:   {
 5887:     id: "3",
 5888:     orderNumber: "PO-2023-003",
 5889:     supplier: "Apparel Manufacturing Ltd.",
 5890:     status: "DRAFT",
 5891:     orderDate: new Date("2023-06-10"),
 5892:     deliveryDate: null,
 5893:     totalItems: 200,
 5894:     totalAmount: 3200.00,
 5895:   },
 5896:   {
 5897:     id: "4",
 5898:     orderNumber: "PO-2023-004",
 5899:     supplier: "Fashion Wholesale Co.",
 5900:     status: "CANCELLED",
 5901:     orderDate: new Date("2023-05-20"),
 5902:     deliveryDate: null,
 5903:     totalItems: 50,
 5904:     totalAmount: 750.25,
 5905:   },
 5906: ];
 5907: 
 5908: // Create a global variable to store the updated purchases if it doesn't exist
 5909: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedPurchases')) {
 5910:   window.updatedPurchases = [...mockPurchases];
 5911: }
 5912: 
 5913: const getStatusBadge = (status: string) => {
 5914:   switch (status) {
 5915:     case "RECEIVED":
 5916:       return <Badge className="bg-emerald-500">Received</Badge>;
 5917:     case "ORDERED":
 5918:       return <Badge className="bg-blue-500">Ordered</Badge>;
 5919:     case "DRAFT":
 5920:       return <Badge variant="outline">Draft</Badge>;
 5921:     case "CANCELLED":
 5922:       return <Badge variant="destructive">Cancelled</Badge>;
 5923:     default:
 5924:       return <Badge variant="outline">{status}</Badge>;
 5925:   }
 5926: };
 5927: 
 5928: export default function PurchasesPage() {
 5929:   const [isLoading, setIsLoading] = useState(true);
 5930:   const [data, setData] = useState(mockPurchases);
 5931:   const { toast } = useToast();
 5932: 
 5933:   useEffect(() => {
 5934:     // Simulate data loading and get data from our mock database
 5935:     const timer = setTimeout(() => {
 5936:       if (typeof window !== 'undefined') {
 5937:         setData(window.updatedPurchases);
 5938:       }
 5939:       setIsLoading(false);
 5940:     }, 1000);
 5941:     
 5942:     return () => clearTimeout(timer);
 5943:   }, []);
 5944: 
 5945:   const handleDelete = async (id: string) => {
 5946:     // Simulate API call to delete purchase order
 5947:     return new Promise<void>((resolve, reject) => {
 5948:       setTimeout(() => {
 5949:         const purchase = data.find(p => p.id === id);
 5950:         
 5951:         if (purchase?.status === "RECEIVED" || purchase?.status === "ORDERED") {
 5952:           reject(new Error("Cannot delete a purchase order that has been ordered or received."));
 5953:         } else {
 5954:           // Update our mock database
 5955:           const updatedData = data.filter(p => p.id !== id);
 5956:           setData(updatedData);
 5957:           
 5958:           if (typeof window !== 'undefined') {
 5959:             window.updatedPurchases = updatedData;
 5960:           }
 5961:           
 5962:           resolve();
 5963:         }
 5964:       }, 1000);
 5965:     });
 5966:   };
 5967: 
 5968:   return (
 5969:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 5970:       <div className="flex items-center justify-between">
 5971:         <h1 className="text-3xl font-bold tracking-tight">Purchase Orders</h1>
 5972:         <Button asChild>
 5973:           <Link href="/purchases/new">
 5974:             <Plus className="mr-2 h-4 w-4" />
 5975:             New Purchase Order
 5976:           </Link>
 5977:         </Button>
 5978:       </div>
 5979:       
 5980:       <Card>
 5981:         <CardHeader>
 5982:           <CardTitle>Purchase Orders</CardTitle>
 5983:           <CardDescription>
 5984:             Manage your purchase orders and track deliveries
 5985:           </CardDescription>
 5986:         </CardHeader>
 5987:         <CardContent>
 5988:           {isLoading ? (
 5989:             <div className="space-y-2">
 5990:               <Skeleton className="h-10 w-full" />
 5991:               <Skeleton className="h-10 w-full" />
 5992:               <Skeleton className="h-10 w-full" />
 5993:               <Skeleton className="h-10 w-full" />
 5994:             </div>
 5995:           ) : (
 5996:             <Table>
 5997:               <TableHeader>
 5998:                 <TableRow>
 5999:                   <TableHead>Order Number</TableHead>
 6000:                   <TableHead>Supplier</TableHead>
 6001:                   <TableHead>Status</TableHead>
 6002:                   <TableHead>Order Date</TableHead>
 6003:                   <TableHead>Delivery Date</TableHead>
 6004:                   <TableHead className="text-right">Total Items</TableHead>
 6005:                   <TableHead className="text-right">Total Amount</TableHead>
 6006:                   <TableHead className="text-right">Actions</TableHead>
 6007:                 </TableRow>
 6008:               </TableHeader>
 6009:               <TableBody>
 6010:                 {data.map((purchase) => (
 6011:                   <TableRow key={purchase.id}>
 6012:                     <TableCell className="font-medium">
 6013:                       {purchase.orderNumber}
 6014:                     </TableCell>
 6015:                     <TableCell>{purchase.supplier}</TableCell>
 6016:                     <TableCell>{getStatusBadge(purchase.status)}</TableCell>
 6017:                     <TableCell>
 6018:                       {format(purchase.orderDate, "MMM dd, yyyy")}
 6019:                     </TableCell>
 6020:                     <TableCell>
 6021:                       {purchase.deliveryDate
 6022:                         ? format(purchase.deliveryDate, "MMM dd, yyyy")
 6023:                         : "-"}
 6024:                     </TableCell>
 6025:                     <TableCell className="text-right">
 6026:                       {purchase.totalItems}
 6027:                     </TableCell>
 6028:                     <TableCell className="text-right">
 6029:                       ${purchase.totalAmount.toFixed(2)}
 6030:                     </TableCell>
 6031:                     <TableCell className="text-right">
 6032:                       <div className="flex justify-end gap-2">
 6033:                         <Button variant="ghost" size="icon" asChild>
 6034:                           <Link href={`/purchases/${purchase.id}`}>
 6035:                             <Eye className="h-4 w-4" />
 6036:                           </Link>
 6037:                         </Button>
 6038:                         <Button variant="ghost" size="icon" asChild>
 6039:                           <Link href={`/purchases/${purchase.id}/edit`}>
 6040:                             <Edit className="h-4 w-4" />
 6041:                           </Link>
 6042:                         </Button>
 6043:                         <DeleteButton
 6044:                           id={purchase.id}
 6045:                           name={purchase.orderNumber}
 6046:                           onDelete={handleDelete}
 6047:                           disabled={purchase.status === "RECEIVED" || purchase.status === "ORDERED"}
 6048:                           disabledReason="Cannot delete a purchase order that has been ordered or received."
 6049:                         />
 6050:                       </div>
 6051:                     </TableCell>
 6052:                   </TableRow>
 6053:                 ))}
 6054:               </TableBody>
 6055:             </Table>
 6056:           )}
 6057:         </CardContent>
 6058:       </Card>
 6059:     </div>
 6060:   );
 6061: }
 6062: ```
 6063: 
 6064: ## app\purchases\[id]\edit\page.tsx
 6065: 
 6066: - Characters: 14036
 6067: - Tokens: 0
 6068: 
 6069: ```text
 6070: "use client";
 6071: 
 6072: import { useState, useEffect } from "react";
 6073: import { useRouter } from "next/navigation";
 6074: import { useForm } from "react-hook-form";
 6075: import { zodResolver } from "@hookform/resolvers/zod";
 6076: import * as z from "zod";
 6077: import { ArrowLeft } from "lucide-react";
 6078: import Link from "next/link";
 6079: 
 6080: import { Button } from "@/components/ui/button";
 6081: import {
 6082:   Form,
 6083:   FormControl,
 6084:   FormDescription,
 6085:   FormField,
 6086:   FormItem,
 6087:   FormLabel,
 6088:   FormMessage,
 6089: } from "@/components/ui/form";
 6090: import { Input } from "@/components/ui/input";
 6091: import { Textarea } from "@/components/ui/textarea";
 6092: import {
 6093:   Select,
 6094:   SelectContent,
 6095:   SelectItem,
 6096:   SelectTrigger,
 6097:   SelectValue,
 6098: } from "@/components/ui/select";
 6099: import { useToast } from "@/hooks/use-toast";
 6100: import {
 6101:   Card,
 6102:   CardContent,
 6103:   CardDescription,
 6104:   CardHeader,
 6105:   CardTitle,
 6106: } from "@/components/ui/card";
 6107: import { Skeleton } from "@/components/ui/skeleton";
 6108: 
 6109: // Mock purchase orders data
 6110: const mockPurchases = [
 6111:   {
 6112:     id: "1",
 6113:     orderNumber: "PO-2023-001",
 6114:     supplier: "Fashion Wholesale Co.",
 6115:     supplierId: "1",
 6116:     status: "RECEIVED",
 6117:     orderDate: new Date("2023-05-15"),
 6118:     deliveryDate: new Date("2023-05-25"),
 6119:     notes: "Summer collection order",
 6120:     totalItems: 120,
 6121:     totalAmount: 1850.75,
 6122:     items: [
 6123:       {
 6124:         id: "1",
 6125:         productId: "1",
 6126:         sku: "SH-001",
 6127:         name: "Cotton T-Shirt",
 6128:         quantity: 80,
 6129:         unitPrice: 12.50,
 6130:         receivedQuantity: 80
 6131:       },
 6132:       {
 6133:         id: "2",
 6134:         productId: "5",
 6135:         sku: "SH-002",
 6136:         name: "Polo Shirt",
 6137:         quantity: 40,
 6138:         unitPrice: 15.00,
 6139:         receivedQuantity: 40
 6140:       }
 6141:     ]
 6142:   },
 6143:   {
 6144:     id: "2",
 6145:     orderNumber: "PO-2023-002",
 6146:     supplier: "Textile Suppliers Inc.",
 6147:     supplierId: "2",
 6148:     status: "ORDERED",
 6149:     orderDate: new Date("2023-06-02"),
 6150:     deliveryDate: new Date("2023-06-12"),
 6151:     notes: "Fall collection pre-order",
 6152:     totalItems: 85,
 6153:     totalAmount: 1245.50,
 6154:     items: [
 6155:       {
 6156:         id: "3",
 6157:         productId: "2",
 6158:         sku: "PA-001",
 6159:         name: "Slim Fit Jeans",
 6160:         quantity: 50,
 6161:         unitPrice: 18.75,
 6162:         receivedQuantity: 0
 6163:       },
 6164:       {
 6165:         id: "4",
 6166:         productId: "3",
 6167:         sku: "DR-001",
 6168:         name: "Summer Dress",
 6169:         quantity: 35,
 6170:         unitPrice: 22.00,
 6171:         receivedQuantity: 0
 6172:       }
 6173:     ]
 6174:   },
 6175:   {
 6176:     id: "3",
 6177:     orderNumber: "PO-2023-003",
 6178:     supplier: "Apparel Manufacturing Ltd.",
 6179:     supplierId: "3",
 6180:     status: "DRAFT",
 6181:     orderDate: new Date("2023-06-10"),
 6182:     deliveryDate: null,
 6183:     notes: "Winter collection planning",
 6184:     totalItems: 200,
 6185:     totalAmount: 3200.00,
 6186:     items: [
 6187:       {
 6188:         id: "5",
 6189:         productId: "1",
 6190:         sku: "SH-001",
 6191:         name: "Cotton T-Shirt",
 6192:         quantity: 100,
 6193:         unitPrice: 12.00,
 6194:         receivedQuantity: 0
 6195:       },
 6196:       {
 6197:         id: "6",
 6198:         productId: "2",
 6199:         sku: "PA-001",
 6200:         name: "Slim Fit Jeans",
 6201:         quantity: 100,
 6202:         unitPrice: 20.00,
 6203:         receivedQuantity: 0
 6204:       }
 6205:     ]
 6206:   },
 6207:   {
 6208:     id: "4",
 6209:     orderNumber: "PO-2023-004",
 6210:     supplier: "Fashion Wholesale Co.",
 6211:     supplierId: "1",
 6212:     status: "CANCELLED",
 6213:     orderDate: new Date("2023-05-20"),
 6214:     deliveryDate: null,
 6215:     notes: "Cancelled due to pricing issues",
 6216:     totalItems: 50,
 6217:     totalAmount: 750.25,
 6218:     items: [
 6219:       {
 6220:         id: "7",
 6221:         productId: "4",
 6222:         sku: "AC-001",
 6223:         name: "Leather Belt",
 6224:         quantity: 50,
 6225:         unitPrice: 15.00,
 6226:         receivedQuantity: 0
 6227:       }
 6228:     ]
 6229:   },
 6230: ];
 6231: 
 6232: // Create a global variable to store the updated purchases if it doesn't exist
 6233: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedPurchases')) {
 6234:   window.updatedPurchases = [...mockPurchases];
 6235: }
 6236: 
 6237: // Mock suppliers data
 6238: const mockSuppliers = [
 6239:   { id: "1", name: "Fashion Wholesale Co." },
 6240:   { id: "2", name: "Textile Suppliers Inc." },
 6241:   { id: "3", name: "Apparel Manufacturing Ltd." },
 6242:   { id: "4", name: "Fabric Importers Co." },
 6243:   { id: "5", name: "Accessory Distributors" },
 6244: ];
 6245: 
 6246: // Create a global variable to store the updated suppliers if it doesn't exist
 6247: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedSuppliers')) {
 6248:   window.updatedSuppliers = [...mockSuppliers];
 6249: }
 6250: 
 6251: const purchaseSchema = z.object({
 6252:   supplierId: z.string({ required_error: "Please select a supplier" }),
 6253:   status: z.enum(["DRAFT", "ORDERED", "RECEIVED", "CANCELLED"]),
 6254:   deliveryDate: z.date().optional().nullable(),
 6255:   notes: z.string().optional(),
 6256: });
 6257: 
 6258: type PurchaseFormValues = z.infer<typeof purchaseSchema>;
 6259: 
 6260: export default function EditPurchasePage({ params }: { params: { id: string } }) {
 6261:   const router = useRouter();
 6262:   const { toast } = useToast();
 6263:   const [isLoading, setIsLoading] = useState(false);
 6264:   const [isFetching, setIsFetching] = useState(true);
 6265:   const [purchase, setPurchase] = useState<any | null>(null);
 6266:   const [suppliers, setSuppliers] = useState<any[]>([]);
 6267: 
 6268:   // Load suppliers from our mock database
 6269:   useEffect(() => {
 6270:     const loadSuppliers = () => {
 6271:       // Always fetch the latest suppliers data
 6272:       const suppliersData = typeof window !== 'undefined' && window.updatedSuppliers 
 6273:         ? window.updatedSuppliers 
 6274:         : mockSuppliers;
 6275:       setSuppliers(suppliersData);
 6276:     };
 6277:     
 6278:     loadSuppliers();
 6279:     
 6280:     // Set up an interval to refresh suppliers data every 5 seconds
 6281:     const intervalId = setInterval(loadSuppliers, 5000);
 6282:     
 6283:     // Clean up the interval when the component unmounts
 6284:     return () => clearInterval(intervalId);
 6285:   }, []);
 6286: 
 6287:   const form = useForm<PurchaseFormValues>({
 6288:     resolver: zodResolver(purchaseSchema),
 6289:     defaultValues: {
 6290:       supplierId: "",
 6291:       status: "DRAFT",
 6292:       deliveryDate: null,
 6293:       notes: "",
 6294:     },
 6295:   });
 6296: 
 6297:   useEffect(() => {
 6298:     // Fetch purchase data
 6299:     const fetchPurchase = async () => {
 6300:       setIsFetching(true);
 6301:       try {
 6302:         // In a real app, this would be an API call
 6303:         // const response = await fetch(`/api/purchases/${params.id}`);
 6304:         // const data = await response.json();
 6305:         
 6306:         // Get data from our mock database
 6307:         setTimeout(() => {
 6308:           const purchases = typeof window !== 'undefined' ? window.updatedPurchases : mockPurchases;
 6309:           const foundPurchase = purchases.find(p => p.id === params.id);
 6310:           
 6311:           if (foundPurchase) {
 6312:             setPurchase(foundPurchase);
 6313:             form.reset({
 6314:               supplierId: foundPurchase.supplierId,
 6315:               status: foundPurchase.status as any,
 6316:               deliveryDate: foundPurchase.deliveryDate,
 6317:               notes: foundPurchase.notes || "",
 6318:             });
 6319:           }
 6320:           
 6321:           setIsFetching(false);
 6322:         }, 1000);
 6323:       } catch (error) {
 6324:         toast({
 6325:           title: "Error",
 6326:           description: "Failed to load purchase order details",
 6327:           variant: "destructive",
 6328:         });
 6329:         setIsFetching(false);
 6330:       }
 6331:     };
 6332: 
 6333:     fetchPurchase();
 6334:   }, [params.id, toast, form]);
 6335: 
 6336:   const refreshSuppliers = () => {
 6337:     // Force refresh suppliers data
 6338:     const suppliersData = typeof window !== 'undefined' && window.updatedSuppliers 
 6339:       ? window.updatedSuppliers 
 6340:       : mockSuppliers;
 6341:     setSuppliers(suppliersData);
 6342:     
 6343:     toast({
 6344:       title: "Suppliers refreshed",
 6345:       description: "The suppliers list has been refreshed.",
 6346:     });
 6347:   };
 6348: 
 6349:   async function onSubmit(data: PurchaseFormValues) {
 6350:     setIsLoading(true);
 6351:     
 6352:     try {
 6353:       // In a real application, this would be an API call
 6354:       // const response = await fetch(`/api/purchases/${params.id}`, {
 6355:       //   method: "PUT",
 6356:       //   headers: {
 6357:       //     "Content-Type": "application/json",
 6358:       //   },
 6359:       //   body: JSON.stringify(data),
 6360:       // });
 6361:       
 6362:       // if (!response.ok) {
 6363:       //   throw new Error("Failed to update purchase order");
 6364:       // }
 6365:       
 6366:       // Simulate API call and update our mock database
 6367:       await new Promise(resolve => setTimeout(resolve, 1000));
 6368:       
 6369:       // Get the supplier name from the supplierId
 6370:       const supplier = suppliers.find(s => s.id === data.supplierId)?.name || "";
 6371:       
 6372:       // Update the purchase in our mock database
 6373:       if (typeof window !== 'undefined') {
 6374:         const index = window.updatedPurchases.findIndex(p => p.id === params.id);
 6375:         if (index !== -1) {
 6376:           window.updatedPurchases[index] = {
 6377:             ...window.updatedPurchases[index],
 6378:             ...data,
 6379:             supplier, // Add the supplier name
 6380:           };
 6381:         }
 6382:       }
 6383:       
 6384:       toast({
 6385:         title: "Purchase order updated",
 6386:         description: "The purchase order has been updated successfully.",
 6387:       });
 6388:       
 6389:       router.push(`/purchases/${params.id}`);
 6390:     } catch (error) {
 6391:       toast({
 6392:         title: "Error",
 6393:         description: error instanceof Error ? error.message : "An error occurred",
 6394:         variant: "destructive",
 6395:       });
 6396:     } finally {
 6397:       setIsLoading(false);
 6398:     }
 6399:   }
 6400: 
 6401:   return (
 6402:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 6403:       <div className="flex items-center gap-2">
 6404:         <Button variant="ghost" size="icon" asChild>
 6405:           <Link href={`/purchases/${params.id}`}>
 6406:             <ArrowLeft className="h-4 w-4" />
 6407:           </Link>
 6408:         </Button>
 6409:         <h1 className="text-3xl font-bold tracking-tight">
 6410:           {isFetching ? <Skeleton className="h-9 w-40" /> : `Edit ${purchase?.orderNumber}`}
 6411:         </h1>
 6412:       </div>
 6413:       
 6414:       <Card>
 6415:         <CardHeader>
 6416:           <CardTitle>Purchase Order Information</CardTitle>
 6417:           <CardDescription>
 6418:             Update the purchase order details
 6419:           </CardDescription>
 6420:         </CardHeader>
 6421:         <CardContent>
 6422:           {isFetching ? (
 6423:             <div className="space-y-4">
 6424:               <Skeleton className="h-10 w-full" />
 6425:               <Skeleton className="h-10 w-full" />
 6426:               <Skeleton className="h-10 w-full" />
 6427:               <Skeleton className="h-10 w-full" />
 6428:             </div>
 6429:           ) : (
 6430:             <Form {...form}>
 6431:               <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
 6432:                 <div className="flex items-center justify-between">
 6433:                   <FormField
 6434:                     control={form.control}
 6435:                     name="supplierId"
 6436:                     render={({ field }) => (
 6437:                       <FormItem className="flex-1 mr-4">
 6438:                         <FormLabel>Supplier</FormLabel>
 6439:                         <Select
 6440:                           onValueChange={field.onChange}
 6441:                           defaultValue={field.value}
 6442:                         >
 6443:                           <FormControl>
 6444:                             <SelectTrigger>
 6445:                               <SelectValue placeholder="Select a supplier" />
 6446:                             </SelectTrigger>
 6447:                           </FormControl>
 6448:                           <SelectContent>
 6449:                             {suppliers.map((supplier) => (
 6450:                               <SelectItem key={supplier.id} value={supplier.id}>
 6451:                                 {supplier.name}
 6452:                               </SelectItem>
 6453:                             ))}
 6454:                           </SelectContent>
 6455:                         </Select>
 6456:                         <FormMessage />
 6457:                       </FormItem>
 6458:                     )}
 6459:                   />
 6460:                   <Button 
 6461:                     type="button" 
 6462:                     variant="outline" 
 6463:                     onClick={refreshSuppliers}
 6464:                     className="mt-8"
 6465:                   >
 6466:                     Refresh Suppliers
 6467:                   </Button>
 6468:                 </div>
 6469:                 
 6470:                 <FormField
 6471:                   control={form.control}
 6472:                   name="status"
 6473:                   render={({ field }) => (
 6474:                     <FormItem>
 6475:                       <FormLabel>Status</FormLabel>
 6476:                       <Select
 6477:                         onValueChange={field.onChange}
 6478:                         defaultValue={field.value}
 6479:                       >
 6480:                         <FormControl>
 6481:                           <SelectTrigger>
 6482:                             <SelectValue placeholder="Select status" />
 6483:                           </SelectTrigger>
 6484:                         </FormControl>
 6485:                         <SelectContent>
 6486:                           <SelectItem value="DRAFT">Draft</SelectItem>
 6487:                           <SelectItem value="ORDERED">Ordered</SelectItem>
 6488:                           <SelectItem value="RECEIVED">Received</SelectItem>
 6489:                           <SelectItem value="CANCELLED">Cancelled</SelectItem>
 6490:                         </SelectContent>
 6491:                       </Select>
 6492:                       <FormMessage />
 6493:                     </FormItem>
 6494:                   )}
 6495:                 />
 6496:                 
 6497:                 <FormField
 6498:                   control={form.control}
 6499:                   name="notes"
 6500:                   render={({ field }) => (
 6501:                     <FormItem>
 6502:                       <FormLabel>Notes</FormLabel>
 6503:                       <FormControl>
 6504:                         <Textarea
 6505:                           placeholder="Purchase order notes..."
 6506:                           {...field}
 6507:                         />
 6508:                       </FormControl>
 6509:                       <FormMessage />
 6510:                     </FormItem>
 6511:                   )}
 6512:                 />
 6513:                 
 6514:                 <div className="flex justify-end space-x-2">
 6515:                   <Button
 6516:                     variant="outline"
 6517:                     onClick={() => router.push(`/purchases/${params.id}`)}
 6518:                     type="button"
 6519:                   >
 6520:                     Cancel
 6521:                   </Button>
 6522:                   <Button type="submit" disabled={isLoading}>
 6523:                     {isLoading ? "Saving..." : "Save Changes"}
 6524:                   </Button>
 6525:                 </div>
 6526:               </form>
 6527:             </Form>
 6528:           )}
 6529:         </CardContent>
 6530:       </Card>
 6531:     </div>
 6532:   );
 6533: }
 6534: ```
 6535: 
 6536: ## app\purchases\[id]\page.tsx
 6537: 
 6538: - Characters: 25263
 6539: - Tokens: 0
 6540: 
 6541: ```text
 6542: "use client";
 6543: 
 6544: import { useState, useEffect } from "react";
 6545: import { useRouter } from "next/navigation";
 6546: import Link from "next/link";
 6547: import { ArrowLeft, Edit, Package, Calendar, Truck, ArrowRightLeft } from "lucide-react";
 6548: import { Button } from "@/components/ui/button";
 6549: import {
 6550:   Card,
 6551:   CardContent,
 6552:   CardDescription,
 6553:   CardHeader,
 6554:   CardTitle,
 6555:   CardFooter,
 6556: } from "@/components/ui/card";
 6557: import {
 6558:   Table,
 6559:   TableBody,
 6560:   TableCell,
 6561:   TableHead,
 6562:   TableHeader,
 6563:   TableRow,
 6564: } from "@/components/ui/table";
 6565: import { Skeleton } from "@/components/ui/skeleton";
 6566: import { Badge } from "@/components/ui/badge";
 6567: import { DeleteButton } from "@/components/shared/delete-button";
 6568: import { useToast } from "@/hooks/use-toast";
 6569: import { format } from "date-fns";
 6570: import { ProductSelector } from "@/components/purchases/product-selector";
 6571: import { Input } from "@/components/ui/input";
 6572: import {
 6573:   AlertDialog,
 6574:   AlertDialogAction,
 6575:   AlertDialogCancel,
 6576:   AlertDialogContent,
 6577:   AlertDialogDescription,
 6578:   AlertDialogFooter,
 6579:   AlertDialogHeader,
 6580:   AlertDialogTitle,
 6581:   AlertDialogTrigger,
 6582: } from "@/components/ui/alert-dialog";
 6583: 
 6584: interface TransferOrder {
 6585:   id: string;
 6586:   transferNumber: string;
 6587:   sourceWarehouse: string;
 6588:   sourceWarehouseId: string;
 6589:   destWarehouse: string;
 6590:   destWarehouseId: string;
 6591:   status: string;
 6592:   transferDate: Date;
 6593:   totalItems: number;
 6594:   items: TransferItem[];
 6595:   notes?: string;
 6596: }
 6597: 
 6598: interface TransferItem {
 6599:   id: string;
 6600:   productId: string;
 6601:   sku: string;
 6602:   name: string;
 6603:   quantity: number;
 6604: }
 6605: 
 6606: interface PurchaseOrder {
 6607:   id: string;
 6608:   orderNumber: string;
 6609:   supplier: string;
 6610:   supplierId: string;
 6611:   status: string;
 6612:   orderDate: Date;
 6613:   deliveryDate: Date | null;
 6614:   notes?: string;
 6615:   totalItems: number;
 6616:   totalAmount: number;
 6617:   items: PurchaseItem[];
 6618: }
 6619: 
 6620: interface PurchaseItem {
 6621:   id: string;
 6622:   productId: string;
 6623:   sku: string;
 6624:   name: string;
 6625:   quantity: number;
 6626:   unitPrice: number;
 6627:   receivedQuantity: number;
 6628: }
 6629: 
 6630: // Mock purchase orders data
 6631: const mockPurchases = [
 6632:   {
 6633:     id: "1",
 6634:     orderNumber: "PO-2023-001",
 6635:     supplier: "Fashion Wholesale Co.",
 6636:     supplierId: "1",
 6637:     status: "RECEIVED",
 6638:     orderDate: new Date("2023-05-15"),
 6639:     deliveryDate: new Date("2023-05-25"),
 6640:     notes: "Summer collection order",
 6641:     totalItems: 120,
 6642:     totalAmount: 1850.75,
 6643:     items: [
 6644:       {
 6645:         id: "1",
 6646:         productId: "1",
 6647:         sku: "SH-001",
 6648:         name: "Cotton T-Shirt",
 6649:         quantity: 80,
 6650:         unitPrice: 12.50,
 6651:         receivedQuantity: 80
 6652:       },
 6653:       {
 6654:         id: "2",
 6655:         productId: "5",
 6656:         sku: "SH-002",
 6657:         name: "Polo Shirt",
 6658:         quantity: 40,
 6659:         unitPrice: 15.00,
 6660:         receivedQuantity: 40
 6661:       }
 6662:     ]
 6663:   },
 6664:   {
 6665:     id: "2",
 6666:     orderNumber: "PO-2023-002",
 6667:     supplier: "Textile Suppliers Inc.",
 6668:     supplierId: "2",
 6669:     status: "ORDERED",
 6670:     orderDate: new Date("2023-06-02"),
 6671:     deliveryDate: new Date("2023-06-12"),
 6672:     notes: "Fall collection pre-order",
 6673:     totalItems: 85,
 6674:     totalAmount: 1245.50,
 6675:     items: [
 6676:       {
 6677:         id: "3",
 6678:         productId: "2",
 6679:         sku: "PA-001",
 6680:         name: "Slim Fit Jeans",
 6681:         quantity: 50,
 6682:         unitPrice: 18.75,
 6683:         receivedQuantity: 0
 6684:       },
 6685:       {
 6686:         id: "4",
 6687:         productId: "3",
 6688:         sku: "DR-001",
 6689:         name: "Summer Dress",
 6690:         quantity: 35,
 6691:         unitPrice: 22.00,
 6692:         receivedQuantity: 0
 6693:       }
 6694:     ]
 6695:   },
 6696:   {
 6697:     id: "3",
 6698:     orderNumber: "PO-2023-003",
 6699:     supplier: "Apparel Manufacturing Ltd.",
 6700:     supplierId: "3",
 6701:     status: "DRAFT",
 6702:     orderDate: new Date("2023-06-10"),
 6703:     deliveryDate: null,
 6704:     notes: "Winter collection planning",
 6705:     totalItems: 200,
 6706:     totalAmount: 3200.00,
 6707:     items: [
 6708:       {
 6709:         id: "5",
 6710:         productId: "1",
 6711:         sku: "SH-001",
 6712:         name: "Cotton T-Shirt",
 6713:         quantity: 100,
 6714:         unitPrice: 12.00,
 6715:         receivedQuantity: 0
 6716:       },
 6717:       {
 6718:         id: "6",
 6719:         productId: "2",
 6720:         sku: "PA-001",
 6721:         name: "Slim Fit Jeans",
 6722:         quantity: 100,
 6723:         unitPrice: 20.00,
 6724:         receivedQuantity: 0
 6725:       }
 6726:     ]
 6727:   },
 6728:   {
 6729:     id: "4",
 6730:     orderNumber: "PO-2023-004",
 6731:     supplier: "Fashion Wholesale Co.",
 6732:     supplierId: "1",
 6733:     status: "CANCELLED",
 6734:     orderDate: new Date("2023-05-20"),
 6735:     deliveryDate: null,
 6736:     notes: "Cancelled due to pricing issues",
 6737:     totalItems: 50,
 6738:     totalAmount: 750.25,
 6739:     items: [
 6740:       {
 6741:         id: "7",
 6742:         productId: "4",
 6743:         sku: "AC-001",
 6744:         name: "Leather Belt",
 6745:         quantity: 50,
 6746:         unitPrice: 15.00,
 6747:         receivedQuantity: 0
 6748:       }
 6749:     ]
 6750:   },
 6751: ];
 6752: 
 6753: // Create a global variable to store the updated purchases if it doesn't exist
 6754: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedPurchases')) {
 6755:   window.updatedPurchases = [...mockPurchases];
 6756: }
 6757: 
 6758: export default function PurchaseDetailsPage({ params }: { params: { id: string } }) {
 6759:   const router = useRouter();
 6760:   const { toast } = useToast();
 6761:   const [purchase, setPurchase] = useState<PurchaseOrder | null>(null);
 6762:   const [isLoading, setIsLoading] = useState(true);
 6763:   const [items, setItems] = useState<PurchaseItem[]>([]);
 6764:   const [receivedQuantities, setReceivedQuantities] = useState<Record<string, number>>({});
 6765:   const [isEditable, setIsEditable] = useState(false);
 6766: 
 6767:   useEffect(() => {
 6768:     // Fetch purchase order details
 6769:     const fetchPurchase = async () => {
 6770:       setIsLoading(true);
 6771:       try {
 6772:         // Get data from our mock database
 6773:         setTimeout(() => {
 6774:           const purchases = typeof window !== 'undefined' ? window.updatedPurchases : mockPurchases;
 6775:           const foundPurchase = purchases.find(p => p.id === params.id);
 6776:           
 6777:           if (foundPurchase) {
 6778:             setPurchase(foundPurchase);
 6779:             setItems(foundPurchase.items || []);
 6780:             
 6781:             // Initialize received quantities
 6782:             const quantities: Record<string, number> = {};
 6783:             if (Array.isArray(foundPurchase.items)) {
 6784:               foundPurchase.items.forEach(item => {
 6785:                 quantities[item.id] = item.receivedQuantity;
 6786:               });
 6787:             }
 6788:             setReceivedQuantities(quantities);
 6789:             
 6790:             // Determine if the purchase order is editable
 6791:             setIsEditable(foundPurchase.status === "DRAFT");
 6792:           } else {
 6793:             // Set empty arrays if purchase not found to avoid undefined errors
 6794:             setItems([]);
 6795:           }
 6796:           
 6797:           setIsLoading(false);
 6798:         }, 1000);
 6799:       } catch (error) {
 6800:         console.error("Error fetching purchase details:", error);
 6801:         toast({
 6802:           title: "Error",
 6803:           description: "Failed to load purchase order details",
 6804:           variant: "destructive",
 6805:         });
 6806:         setIsLoading(false);
 6807:         // Initialize empty arrays on error to avoid undefined errors
 6808:         setItems([]);
 6809:       }
 6810:     };
 6811: 
 6812:     fetchPurchase();
 6813:   }, [params.id, toast]);
 6814: 
 6815:   const handleDelete = async (id: string) => {
 6816:     // Simulate API call to delete purchase order
 6817:     return new Promise<void>((resolve, reject) => {
 6818:       setTimeout(() => {
 6819:         // In a real app, this would be an API call
 6820:         // const response = await fetch(`/api/purchases/${id}`, { method: 'DELETE' });
 6821:         // if (!response.ok) throw new Error('Failed to delete purchase order');
 6822:         
 6823:         if (purchase?.status === "RECEIVED" || purchase?.status === "ORDERED") {
 6824:           reject(new Error("Cannot delete a purchase order that has been ordered or received."));
 6825:         } else {
 6826:           // Update our mock database
 6827:           if (typeof window !== 'undefined') {
 6828:             window.updatedPurchases = window.updatedPurchases.filter(p => p.id !== id);
 6829:           }
 6830:           
 6831:           router.push("/purchases");
 6832:           resolve();
 6833:         }
 6834:       }, 1000);
 6835:     });
 6836:   };
 6837: 
 6838:   const handleProductsSelected = (newItems: PurchaseItem[]) => {
 6839:     // Merge with existing items, avoiding duplicates by product ID
 6840:     const existingProductIds = new Set(items.map(item => item.productId));
 6841:     const filteredNewItems = newItems.filter(item => !existingProductIds.has(item.productId));
 6842:     
 6843:     const updatedItems = [...items, ...filteredNewItems];
 6844:     setItems(updatedItems);
 6845:     
 6846:     // Update the purchase order in our mock database
 6847:     updatePurchaseOrder(updatedItems);
 6848:   };
 6849: 
 6850:   const handleRemoveItem = (itemId: string) => {
 6851:     const updatedItems = items.filter(item => item.id !== itemId);
 6852:     setItems(updatedItems);
 6853:     
 6854:     // Update the purchase order in our mock database
 6855:     updatePurchaseOrder(updatedItems);
 6856:   };
 6857: 
 6858:   const handleQuantityChange = (itemId: string, quantity: number) => {
 6859:     if (quantity < 1) quantity = 1;
 6860:     
 6861:     const updatedItems = items.map(item => 
 6862:       item.id === itemId ? { ...item, quantity } : item
 6863:     );
 6864:     
 6865:     setItems(updatedItems);
 6866:     
 6867:     // Update the purchase order in our mock database
 6868:     updatePurchaseOrder(updatedItems);
 6869:   };
 6870: 
 6871:   const handlePriceChange = (itemId: string, unitPrice: number) => {
 6872:     if (unitPrice < 0) unitPrice = 0;
 6873:     
 6874:     const updatedItems = items.map(item => 
 6875:       item.id === itemId ? { ...item, unitPrice } : item
 6876:     );
 6877:     
 6878:     setItems(updatedItems);
 6879:     
 6880:     // Update the purchase order in our mock database
 6881:     updatePurchaseOrder(updatedItems);
 6882:   };
 6883: 
 6884:   const handleReceivedQuantityChange = (itemId: string, receivedQuantity: number) => {
 6885:     if (receivedQuantity < 0) receivedQuantity = 0;
 6886:     
 6887:     const item = items.find(i => i.id === itemId);
 6888:     if (item && receivedQuantity > item.quantity) {
 6889:       receivedQuantity = item.quantity;
 6890:     }
 6891:     
 6892:     setReceivedQuantities(prev => ({
 6893:       ...prev,
 6894:       [itemId]: receivedQuantity
 6895:     }));
 6896:   };
 6897: 
 6898:   const handleReceiveItems = () => {
 6899:     // Update the received quantities for all items
 6900:     const updatedItems = items.map(item => ({
 6901:       ...item,
 6902:       receivedQuantity: receivedQuantities[item.id] || item.receivedQuantity
 6903:     }));
 6904:     
 6905:     // Check if all items have been received
 6906:     const allReceived = updatedItems.every(item => item.receivedQuantity === item.quantity);
 6907:     
 6908:     // Update the purchase order status if all items have been received
 6909:     const updatedStatus = allReceived ? "RECEIVED" : "ORDERED";
 6910:     
 6911:     // Update the purchase order in our mock database
 6912:     updatePurchaseOrder(updatedItems, updatedStatus);
 6913:     
 6914:     toast({
 6915:       title: "Items received",
 6916:       description: "The received quantities have been updated successfully.",
 6917:     });
 6918:   };
 6919: 
 6920:   const updatePurchaseOrder = (updatedItems: PurchaseItem[], status?: string) => {
 6921:     if (!purchase) return;
 6922:     
 6923:     // Calculate total items and amount
 6924:     const totalItems = updatedItems.reduce((sum, item) => sum + item.quantity, 0);
 6925:     const totalAmount = updatedItems.reduce((sum, item) => sum + (item.quantity * item.unitPrice), 0);
 6926:     
 6927:     // Create the updated purchase order
 6928:     const updatedPurchase = {
 6929:       ...purchase,
 6930:       items: updatedItems,
 6931:       totalItems,
 6932:       totalAmount,
 6933:       status: status || purchase.status
 6934:     };
 6935:     
 6936:     // Update the state
 6937:     setPurchase(updatedPurchase);
 6938:     setItems(updatedItems);
 6939:     
 6940:     // Update our mock database
 6941:     if (typeof window !== 'undefined') {
 6942:       const index = window.updatedPurchases.findIndex(p => p.id === purchase.id);
 6943:       if (index !== -1) {
 6944:         window.updatedPurchases[index] = updatedPurchase;
 6945:       }
 6946:     }
 6947:   };
 6948: 
 6949:   const getStatusBadge = (status: string) => {
 6950:     switch (status) {
 6951:       case "RECEIVED":
 6952:         return <Badge className="bg-emerald-500">Received</Badge>;
 6953:       case "ORDERED":
 6954:         return <Badge className="bg-blue-500">Ordered</Badge>;
 6955:       case "DRAFT":
 6956:         return <Badge variant="outline">Draft</Badge>;
 6957:       case "CANCELLED":
 6958:         return <Badge variant="destructive">Cancelled</Badge>;
 6959:       default:
 6960:         return <Badge variant="outline">{status}</Badge>;
 6961:     }
 6962:   };
 6963: 
 6964:   // Safely check if purchase can be completed
 6965:   const canCreateTransfer = purchase?.status === "RECEIVED" && 
 6966:     Array.isArray(items) && 
 6967:     items.length > 0 && 
 6968:     items.some(item => item?.receivedQuantity > 0);
 6969: 
 6970:   return (
 6971:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 6972:       <div className="flex items-center justify-between">
 6973:         <div className="flex items-center gap-2">
 6974:           <Button variant="ghost" size="icon" asChild>
 6975:             <Link href="/purchases">
 6976:               <ArrowLeft className="h-4 w-4" />
 6977:             </Link>
 6978:           </Button>
 6979:           <h1 className="text-3xl font-bold tracking-tight">
 6980:             {isLoading ? <Skeleton className="h-9 w-40" /> : purchase?.orderNumber}
 6981:           </h1>
 6982:         </div>
 6983:         
 6984:         <div className="flex items-center gap-2">
 6985:           {!isLoading && purchase && (
 6986:             <>
 6987:               <Button variant="outline" size="sm" asChild>
 6988:                 <Link href={`/purchases/${params.id}/edit`}>
 6989:                   <Edit className="mr-2 h-4 w-4" />
 6990:                   Edit
 6991:                 </Link>
 6992:               </Button>
 6993:               
 6994:               <DeleteButton
 6995:                 id={params.id}
 6996:                 name={purchase.orderNumber}
 6997:                 onDelete={handleDelete}
 6998:                 disabled={purchase.status === "RECEIVED" || purchase.status === "ORDERED"}
 6999:                 disabledReason="Cannot delete a purchase order that has been ordered or received."
 7000:               />
 7001:             </>
 7002:           )}
 7003:         </div>
 7004:       </div>
 7005:       
 7006:       {isLoading ? (
 7007:         <Card>
 7008:           <CardHeader>
 7009:             <Skeleton className="h-7 w-40 mb-2" />
 7010:             <Skeleton className="h-5 w-60" />
 7011:           </CardHeader>
 7012:           <CardContent className="space-y-4">
 7013:             <Skeleton className="h-5 w-full" />
 7014:             <Skeleton className="h-5 w-3/4" />
 7015:             <Skeleton className="h-5 w-1/2" />
 7016:           </CardContent>
 7017:         </Card>
 7018:       ) : purchase ? (
 7019:         <>
 7020:           <Card>
 7021:             <CardHeader>
 7022:               <CardTitle className="flex items-center justify-between">
 7023:                 Purchase Order Details
 7024:                 {getStatusBadge(purchase.status)}
 7025:               </CardTitle>
 7026:               <CardDescription>
 7027:                 Detailed information about this purchase order
 7028:               </CardDescription>
 7029:             </CardHeader>
 7030:             <CardContent className="space-y-6">
 7031:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 7032:                 <div>
 7033:                   <h3 className="text-sm font-medium text-muted-foreground">Supplier</h3>
 7034:                   <p className="text-base">{purchase.supplier}</p>
 7035:                 </div>
 7036:                 <div>
 7037:                   <h3 className="text-sm font-medium text-muted-foreground">Status</h3>
 7038:                   <p className="text-base">{purchase.status}</p>
 7039:                 </div>
 7040:               </div>
 7041:               
 7042:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 7043:                 <div className="flex items-start gap-2">
 7044:                   <Calendar className="h-5 w-5 text-muted-foreground mt-0.5" />
 7045:                   <div>
 7046:                     <h3 className="text-sm font-medium text-muted-foreground">Order Date</h3>
 7047:                     <p className="text-base">{format(purchase.orderDate, "MMM dd, yyyy")}</p>
 7048:                   </div>
 7049:                 </div>
 7050:                 <div className="flex items-start gap-2">
 7051:                   <Truck className="h-5 w-5 text-muted-foreground mt-0.5" />
 7052:                   <div>
 7053:                     <h3 className="text-sm font-medium text-muted-foreground">Delivery Date</h3>
 7054:                     <p className="text-base">
 7055:                       {purchase.deliveryDate 
 7056:                         ? format(purchase.deliveryDate, "MMM dd, yyyy") 
 7057:                         : "Not scheduled"}
 7058:                     </p>
 7059:                   </div>
 7060:                 </div>
 7061:               </div>
 7062:               
 7063:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 7064:                 <div>
 7065:                   <h3 className="text-sm font-medium text-muted-foreground">Total Items</h3>
 7066:                   <p className="text-base">{purchase.totalItems}</p>
 7067:                 </div>
 7068:                 <div>
 7069:                   <h3 className="text-sm font-medium text-muted-foreground">Total Amount</h3>
 7070:                   <p className="text-base">${purchase.totalAmount.toFixed(2)}</p>
 7071:                 </div>
 7072:               </div>
 7073:               
 7074:               {purchase.notes && (
 7075:                 <div>
 7076:                   <h3 className="text-sm font-medium text-muted-foreground">Notes</h3>
 7077:                   <p className="text-base">{purchase.notes}</p>
 7078:                 </div>
 7079:               )}
 7080:             </CardContent>
 7081:             {canCreateTransfer && (
 7082:               <CardFooter className="flex justify-end">
 7083:                 <Button asChild>
 7084:                   <Link href={`/transfers/new?fromPurchase=${purchase.id}`}>
 7085:                     <ArrowRightLeft className="mr-2 h-4 w-4" />
 7086:                     Create Transfer
 7087:                   </Link>
 7088:                 </Button>
 7089:               </CardFooter>
 7090:             )}
 7091:           </Card>
 7092:           
 7093:           <Card>
 7094:             <CardHeader className="flex flex-row items-center justify-between">
 7095:               <div>
 7096:                 <CardTitle className="flex items-center">
 7097:                   <Package className="mr-2 h-5 w-5" />
 7098:                   Order Items
 7099:                 </CardTitle>
 7100:                 <CardDescription>
 7101:                   Products included in this purchase order
 7102:                 </CardDescription>
 7103:               </div>
 7104:               
 7105:               {isEditable && (
 7106:                 <ProductSelector 
 7107:                   onProductsSelected={handleProductsSelected}
 7108:                   existingItems={items}
 7109:                 />
 7110:               )}
 7111:             </CardHeader>
 7112:             <CardContent>
 7113:               {items && items.length > 0 ? (
 7114:                 <Table>
 7115:                   <TableHeader>
 7116:                     <TableRow>
 7117:                       <TableHead>SKU</TableHead>
 7118:                       <TableHead>Product</TableHead>
 7119:                       <TableHead className="text-right">Quantity</TableHead>
 7120:                       <TableHead className="text-right">Unit Price</TableHead>
 7121:                       <TableHead className="text-right">Total</TableHead>
 7122:                       <TableHead className="text-right">Received</TableHead>
 7123:                       {isEditable && <TableHead className="w-[70px]"></TableHead>}
 7124:                     </TableRow>
 7125:                   </TableHeader>
 7126:                   <TableBody>
 7127:                     {items.map((item) => (
 7128:                       <TableRow key={item.id}>
 7129:                         <TableCell className="font-medium">{item.sku}</TableCell>
 7130:                         <TableCell>{item.name}</TableCell>
 7131:                         <TableCell className="text-right">
 7132:                           {isEditable ? (
 7133:                             <Input
 7134:                               type="number"
 7135:                               min="1"
 7136:                               value={item.quantity}
 7137:                               onChange={(e) => handleQuantityChange(item.id, parseInt(e.target.value) || 1)}
 7138:                               className="w-16 text-right"
 7139:                             />
 7140:                           ) : (
 7141:                             item.quantity
 7142:                           )}
 7143:                         </TableCell>
 7144:                         <TableCell className="text-right">
 7145:                           {isEditable ? (
 7146:                             <Input
 7147:                               type="number"
 7148:                               min="0"
 7149:                               step="0.01"
 7150:                               value={item.unitPrice}
 7151:                               onChange={(e) => handlePriceChange(item.id, parseFloat(e.target.value) || 0)}
 7152:                               className="w-24 text-right"
 7153:                             />
 7154:                           ) : (
 7155:                             `$${item.unitPrice.toFixed(2)}`
 7156:                           )}
 7157:                         </TableCell>
 7158:                         <TableCell className="text-right">${(item.quantity * item.unitPrice).toFixed(2)}</TableCell>
 7159:                         <TableCell className="text-right">
 7160:                           {purchase.status === "ORDERED" ? (
 7161:                             <Input
 7162:                               type="number"
 7163:                               min="0"
 7164:                               max={item.quantity}
 7165:                               value={receivedQuantities[item.id] !== undefined ? receivedQuantities[item.id] : item.receivedQuantity}
 7166:                               onChange={(e) => handleReceivedQuantityChange(item.id, parseInt(e.target.value) || 0)}
 7167:                               className="w-16 text-right"
 7168:                             />
 7169:                           ) : (
 7170:                             <span className={item.receivedQuantity === item.quantity ? "text-emerald-500" : "text-amber-500"}>
 7171:                               {item.receivedQuantity} / {item.quantity}
 7172:                             </span>
 7173:                           )}
 7174:                         </TableCell>
 7175:                         {isEditable && (
 7176:                           <TableCell>
 7177:                             <Button 
 7178:                               variant="ghost" 
 7179:                               size="icon"
 7180:                               onClick={() => handleRemoveItem(item.id)}
 7181:                             >
 7182:                               <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-4 w-4 text-destructive"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>
 7183:                             </Button>
 7184:                           </TableCell>
 7185:                         )}
 7186:                       </TableRow>
 7187:                     ))}
 7188:                     <TableRow>
 7189:                       <TableCell colSpan={4} className="text-right font-bold">
 7190:                         Total
 7191:                       </TableCell>
 7192:                       <TableCell className="text-right font-bold">
 7193:                         ${items.reduce((sum, item) => sum + (item.quantity * item.unitPrice), 0).toFixed(2)}
 7194:                       </TableCell>
 7195:                       <TableCell colSpan={isEditable ? 2 : 1}></TableCell>
 7196:                     </TableRow>
 7197:                   </TableBody>
 7198:                 </Table>
 7199:               ) : (
 7200:                 <div className="text-center py-8 text-muted-foreground">
 7201:                   {isEditable ? (
 7202:                     <div className="flex flex-col items-center">
 7203:                       <p className="mb-4">No items have been added to this purchase order yet.</p>
 7204:                       <ProductSelector onProductsSelected={handleProductsSelected} />
 7205:                     </div>
 7206:                   ) : (
 7207:                     "No items in this purchase order"
 7208:                   )}
 7209:                 </div>
 7210:               )}
 7211:             </CardContent>
 7212:             {purchase && purchase.status === "ORDERED" && items && items.length > 0 && (
 7213:               <CardFooter className="flex justify-end">
 7214:                 <AlertDialog>
 7215:                   <AlertDialogTrigger asChild>
 7216:                     <Button>
 7217:                       <Truck className="mr-2 h-4 w-4" />
 7218:                       Receive Items
 7219:                     </Button>
 7220:                   </AlertDialogTrigger>
 7221:                   <AlertDialogContent>
 7222:                     <AlertDialogHeader>
 7223:                       <AlertDialogTitle>Receive Items</AlertDialogTitle>
 7224:                       <AlertDialogDescription>
 7225:                         This will update the received quantities for all items in this purchase order.
 7226:                         Are you sure you want to continue?
 7227:                       </AlertDialogDescription>
 7228:                     </AlertDialogHeader>
 7229:                     <AlertDialogFooter>
 7230:                       <AlertDialogCancel>Cancel</AlertDialogCancel>
 7231:                       <AlertDialogAction onClick={handleReceiveItems}>
 7232:                         Confirm
 7233:                       </AlertDialogAction>
 7234:                     </AlertDialogFooter>
 7235:                   </AlertDialogContent>
 7236:                 </AlertDialog>
 7237:               </CardFooter>
 7238:             )}
 7239:             {purchase && purchase.status === "DRAFT" && items && items.length > 0 && (
 7240:               <CardFooter className="flex justify-end">
 7241:                 <Button
 7242:                   onClick={() => updatePurchaseOrder(items, "ORDERED")}
 7243:                 >
 7244:                   <Truck className="mr-2 h-4 w-4" />
 7245:                   Place Order
 7246:                 </Button>
 7247:               </CardFooter>
 7248:             )}
 7249:           </Card>
 7250:         </>
 7251:       ) : (
 7252:         <Card>
 7253:           <CardContent className="flex flex-col items-center justify-center py-10">
 7254:             <h2 className="text-xl font-semibold mb-2">Purchase Order Not Found</h2>
 7255:             <p className="text-muted-foreground mb-4">
 7256:               The purchase order you're looking for doesn't exist or has been removed.
 7257:             </p>
 7258:             <Button asChild>
 7259:               <Link href="/purchases">Back to Purchase Orders</Link>
 7260:             </Button>
 7261:           </CardContent>
 7262:         </Card>
 7263:       )}
 7264:     </div>
 7265:   );
 7266: }
 7267: ```
 7268: 
 7269: ## app\reports\layout.tsx
 7270: 
 7271: - Characters: 2099
 7272: - Tokens: 0
 7273: 
 7274: ```text
 7275: "use client";
 7276: 
 7277: import { useEffect, useState } from "react";
 7278: import { useRouter, usePathname } from "next/navigation";
 7279: import { Sidebar } from "@/components/layout/sidebar";
 7280: import { Header } from "@/components/layout/header";
 7281: import { useAuth } from "@/hooks/use-auth";
 7282: import { Loader2 } from "lucide-react";
 7283: 
 7284: export default function ReportsLayout({
 7285:   children,
 7286: }: {
 7287:   children: React.ReactNode;
 7288: }) {
 7289:   const { user } = useAuth();
 7290:   const router = useRouter();
 7291:   const pathname = usePathname();
 7292:   const [isLoading, setIsLoading] = useState(true);
 7293:   const [currentPath, setCurrentPath] = useState(pathname);
 7294:   const [isTransitioning, setIsTransitioning] = useState(false);
 7295:   
 7296:   // Handle authentication check
 7297:   useEffect(() => {
 7298:     if (!user) {
 7299:       router.push("/login");
 7300:     } else {
 7301:       // Simulate loading delay
 7302:       const timer = setTimeout(() => {
 7303:         setIsLoading(false);
 7304:       }, 500);
 7305:       
 7306:       return () => clearTimeout(timer);
 7307:     }
 7308:   }, [user, router]);
 7309:   
 7310:   // Handle route transitions
 7311:   useEffect(() => {
 7312:     if (pathname !== currentPath) {
 7313:       setIsTransitioning(true);
 7314:       
 7315:       // Short delay to allow transition to complete
 7316:       const timer = setTimeout(() => {
 7317:         setCurrentPath(pathname);
 7318:         setIsTransitioning(false);
 7319:       }, 300);
 7320:       
 7321:       return () => clearTimeout(timer);
 7322:     }
 7323:   }, [pathname, currentPath]);
 7324:   
 7325:   if (!user || isLoading) {
 7326:     return (
 7327:       <div className="flex min-h-screen items-center justify-center">
 7328:         <div className="flex flex-col items-center space-y-4">
 7329:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
 7330:           <p className="text-lg font-medium">Loading...</p>
 7331:         </div>
 7332:       </div>
 7333:     );
 7334:   }
 7335:   
 7336:   return (
 7337:     <div className="flex min-h-screen">
 7338:       <div className="hidden md:block">
 7339:         <Sidebar />
 7340:       </div>
 7341:       <div className="flex flex-col flex-1">
 7342:         <Header />
 7343:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
 7344:           {children}
 7345:         </main>
 7346:       </div>
 7347:     </div>
 7348:   );
 7349: }
 7350: ```
 7351: 
 7352: ## app\reports\page.tsx
 7353: 
 7354: - Characters: 8409
 7355: - Tokens: 0
 7356: 
 7357: ```text
 7358: "use client";
 7359: 
 7360: import { useState, useEffect } from "react";
 7361: import dynamic from "next/dynamic";
 7362: import {
 7363:   Card,
 7364:   CardContent,
 7365:   CardDescription,
 7366:   CardHeader,
 7367:   CardTitle,
 7368: } from "@/components/ui/card";
 7369: import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
 7370: import {
 7371:   Select,
 7372:   SelectContent,
 7373:   SelectItem,
 7374:   SelectTrigger,
 7375:   SelectValue,
 7376: } from "@/components/ui/select";
 7377: import { Button } from "@/components/ui/button";
 7378: import { Calendar } from "@/components/ui/calendar";
 7379: import { Popover, PopoverContent, PopoverTrigger } from "@/components/ui/popover";
 7380: import { format } from "date-fns";
 7381: import { CalendarIcon, Download } from "lucide-react";
 7382: import { Skeleton } from "@/components/ui/skeleton";
 7383: 
 7384: // Dynamically import chart components
 7385: const DynamicCharts = dynamic(
 7386:   () => import('@/components/dashboard/charts'),
 7387:   { 
 7388:     loading: () => <ChartSkeleton />,
 7389:     ssr: false
 7390:   }
 7391: );
 7392: 
 7393: // Sample data for demonstration
 7394: const salesData = [
 7395:   { name: "Jan", total: 1200 },
 7396:   { name: "Feb", total: 1800 },
 7397:   { name: "Mar", total: 2200 },
 7398:   { name: "Apr", total: 2600 },
 7399:   { name: "May", total: 3200 },
 7400:   { name: "Jun", total: 3800 },
 7401:   { name: "Jul", total: 4200 },
 7402: ];
 7403: 
 7404: const categoryData = [
 7405:   { name: "Shirts", value: 400 },
 7406:   { name: "Pants", value: 300 },
 7407:   { name: "Dresses", value: 200 },
 7408:   { name: "Accessories", value: 100 },
 7409:   { name: "Shoes", value: 150 },
 7410: ];
 7411: 
 7412: const warehouseData = [
 7413:   { name: "Main Store", shirts: 200, pants: 150, dresses: 100 },
 7414:   { name: "Downtown Branch", shirts: 150, pants: 100, dresses: 75 },
 7415:   { name: "Mall Outlet", shirts: 50, pants: 50, dresses: 25 },
 7416: ];
 7417: 
 7418: function ChartSkeleton() {
 7419:   return (
 7420:     <div className="w-full space-y-2">
 7421:       <Skeleton className="h-[350px] w-full rounded-md" />
 7422:     </div>
 7423:   );
 7424: }
 7425: 
 7426: export default function ReportsPage() {
 7427:   const [date, setDate] = useState<Date | undefined>(new Date());
 7428:   const [isLoading, setIsLoading] = useState(true);
 7429:   const [activeTab, setActiveTab] = useState("sales");
 7430: 
 7431:   useEffect(() => {
 7432:     // Simulate data loading
 7433:     const timer = setTimeout(() => {
 7434:       setIsLoading(false);
 7435:     }, 1000);
 7436:     
 7437:     return () => clearTimeout(timer);
 7438:   }, []);
 7439: 
 7440:   return (
 7441:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 7442:       <div className="flex items-center justify-between">
 7443:         <h1 className="text-3xl font-bold tracking-tight">Reports</h1>
 7444:         <div className="flex items-center gap-2">
 7445:           <Popover>
 7446:             <PopoverTrigger asChild>
 7447:               <Button variant="outline" className="w-[240px] justify-start text-left font-normal">
 7448:                 <CalendarIcon className="mr-2 h-4 w-4" />
 7449:                 {date ? format(date, "PPP") : <span>Pick a date</span>}
 7450:               </Button>
 7451:             </PopoverTrigger>
 7452:             <PopoverContent className="w-auto p-0" align="end">
 7453:               <Calendar
 7454:                 mode="single"
 7455:                 selected={date}
 7456:                 onSelect={setDate}
 7457:                 initialFocus
 7458:               />
 7459:             </PopoverContent>
 7460:           </Popover>
 7461:           <Button>
 7462:             <Download className="mr-2 h-4 w-4" />
 7463:             Export
 7464:           </Button>
 7465:         </div>
 7466:       </div>
 7467:       
 7468:       <Tabs 
 7469:         defaultValue="sales" 
 7470:         className="space-y-4"
 7471:         value={activeTab}
 7472:         onValueChange={setActiveTab}
 7473:       >
 7474:         <TabsList className="grid w-full grid-cols-4">
 7475:           <TabsTrigger value="sales">Sales</TabsTrigger>
 7476:           <TabsTrigger value="inventory">Inventory</TabsTrigger>
 7477:           <TabsTrigger value="purchases">Purchases</TabsTrigger>
 7478:           <TabsTrigger value="profit">Profit & Loss</TabsTrigger>
 7479:         </TabsList>
 7480:         
 7481:         <TabsContent value="sales" className="space-y-4">
 7482:           <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 7483:             <Card>
 7484:               <CardHeader>
 7485:                 <CardTitle>Sales Trend</CardTitle>
 7486:                 <CardDescription>
 7487:                   Monthly sales performance for the current year
 7488:                 </CardDescription>
 7489:               </CardHeader>
 7490:               <CardContent className="pl-2">
 7491:                 {isLoading ? (
 7492:                   <ChartSkeleton />
 7493:                 ) : (
 7494:                   activeTab === "sales" && <DynamicCharts type="line" data={salesData} />
 7495:                 )}
 7496:               </CardContent>
 7497:             </Card>
 7498:             
 7499:             <Card>
 7500:               <CardHeader>
 7501:                 <CardTitle>Sales by Category</CardTitle>
 7502:                 <CardDescription>
 7503:                   Distribution of sales across product categories
 7504:                 </CardDescription>
 7505:               </CardHeader>
 7506:               <CardContent className="pl-2">
 7507:                 {isLoading ? (
 7508:                   <ChartSkeleton />
 7509:                 ) : (
 7510:                   activeTab === "sales" && <DynamicCharts type="pie" data={categoryData} />
 7511:                 )}
 7512:               </CardContent>
 7513:             </Card>
 7514:           </div>
 7515:         </TabsContent>
 7516:         
 7517:         <TabsContent value="inventory" className="space-y-4">
 7518:           <Card>
 7519:             <CardHeader className="flex flex-row items-center justify-between">
 7520:               <div>
 7521:                 <CardTitle>Inventory by Warehouse</CardTitle>
 7522:                 <CardDescription>
 7523:                   Current inventory levels across warehouses
 7524:                 </CardDescription>
 7525:               </div>
 7526:               <Select defaultValue="all">
 7527:                 <SelectTrigger className="w-[180px]">
 7528:                   <SelectValue placeholder="Select category" />
 7529:                 </SelectTrigger>
 7530:                 <SelectContent>
 7531:                   <SelectItem value="all">All Categories</SelectItem>
 7532:                   <SelectItem value="shirts">Shirts</SelectItem>
 7533:                   <SelectItem value="pants">Pants</SelectItem>
 7534:                   <SelectItem value="dresses">Dresses</SelectItem>
 7535:                 </SelectContent>
 7536:               </Select>
 7537:             </CardHeader>
 7538:             <CardContent className="pl-2">
 7539:               {isLoading ? (
 7540:                 <ChartSkeleton />
 7541:               ) : (
 7542:                 activeTab === "inventory" && <DynamicCharts type="bar" data={warehouseData} />
 7543:               )}
 7544:             </CardContent>
 7545:           </Card>
 7546:         </TabsContent>
 7547:         
 7548:         <TabsContent value="purchases" className="space-y-4">
 7549:           <Card>
 7550:             <CardHeader>
 7551:               <CardTitle>Purchase Orders by Supplier</CardTitle>
 7552:               <CardDescription>
 7553:                 Total purchase amounts by supplier
 7554:               </CardDescription>
 7555:             </CardHeader>
 7556:             <CardContent className="pl-2">
 7557:               {isLoading ? (
 7558:                 <ChartSkeleton />
 7559:               ) : (
 7560:                 activeTab === "purchases" && (
 7561:                   <DynamicCharts 
 7562:                     type="bar" 
 7563:                     data={[
 7564:                       { name: "Fashion Wholesale Co.", value: 12500 },
 7565:                       { name: "Textile Suppliers Inc.", value: 8750 },
 7566:                       { name: "Apparel Manufacturing Ltd.", value: 15200 },
 7567:                       { name: "Fabric Importers Co.", value: 6800 },
 7568:                       { name: "Accessory Distributors", value: 4500 },
 7569:                     ]}
 7570:                   />
 7571:                 )
 7572:               )}
 7573:             </CardContent>
 7574:           </Card>
 7575:         </TabsContent>
 7576:         
 7577:         <TabsContent value="profit" className="space-y-4">
 7578:           <Card>
 7579:             <CardHeader>
 7580:               <CardTitle>Profit & Loss Statement</CardTitle>
 7581:               <CardDescription>
 7582:                 Monthly revenue, cost, and profit
 7583:               </CardDescription>
 7584:             </CardHeader>
 7585:             <CardContent className="pl-2">
 7586:               {isLoading ? (
 7587:                 <ChartSkeleton />
 7588:               ) : (
 7589:                 activeTab === "profit" && (
 7590:                   <DynamicCharts 
 7591:                     type="line" 
 7592:                     data={[
 7593:                       { name: "Jan", total: 2000 },
 7594:                       { name: "Feb", total: 3000 },
 7595:                       { name: "Mar", total: 3600 },
 7596:                       { name: "Apr", total: 4200 },
 7597:                       { name: "May", total: 4800 },
 7598:                       { name: "Jun", total: 5600 },
 7599:                     ]}
 7600:                   />
 7601:                 )
 7602:               )}
 7603:             </CardContent>
 7604:           </Card>
 7605:         </TabsContent>
 7606:       </Tabs>
 7607:     </div>
 7608:   );
 7609: }
 7610: ```
 7611: 
 7612: ## app\sales\layout.tsx
 7613: 
 7614: - Characters: 2097
 7615: - Tokens: 0
 7616: 
 7617: ```text
 7618: "use client";
 7619: 
 7620: import { useEffect, useState } from "react";
 7621: import { useRouter, usePathname } from "next/navigation";
 7622: import { Sidebar } from "@/components/layout/sidebar";
 7623: import { Header } from "@/components/layout/header";
 7624: import { useAuth } from "@/hooks/use-auth";
 7625: import { Loader2 } from "lucide-react";
 7626: 
 7627: export default function SalesLayout({
 7628:   children,
 7629: }: {
 7630:   children: React.ReactNode;
 7631: }) {
 7632:   const { user } = useAuth();
 7633:   const router = useRouter();
 7634:   const pathname = usePathname();
 7635:   const [isLoading, setIsLoading] = useState(true);
 7636:   const [currentPath, setCurrentPath] = useState(pathname);
 7637:   const [isTransitioning, setIsTransitioning] = useState(false);
 7638:   
 7639:   // Handle authentication check
 7640:   useEffect(() => {
 7641:     if (!user) {
 7642:       router.push("/login");
 7643:     } else {
 7644:       // Simulate loading delay
 7645:       const timer = setTimeout(() => {
 7646:         setIsLoading(false);
 7647:       }, 500);
 7648:       
 7649:       return () => clearTimeout(timer);
 7650:     }
 7651:   }, [user, router]);
 7652:   
 7653:   // Handle route transitions
 7654:   useEffect(() => {
 7655:     if (pathname !== currentPath) {
 7656:       setIsTransitioning(true);
 7657:       
 7658:       // Short delay to allow transition to complete
 7659:       const timer = setTimeout(() => {
 7660:         setCurrentPath(pathname);
 7661:         setIsTransitioning(false);
 7662:       }, 300);
 7663:       
 7664:       return () => clearTimeout(timer);
 7665:     }
 7666:   }, [pathname, currentPath]);
 7667:   
 7668:   if (!user || isLoading) {
 7669:     return (
 7670:       <div className="flex min-h-screen items-center justify-center">
 7671:         <div className="flex flex-col items-center space-y-4">
 7672:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
 7673:           <p className="text-lg font-medium">Loading...</p>
 7674:         </div>
 7675:       </div>
 7676:     );
 7677:   }
 7678:   
 7679:   return (
 7680:     <div className="flex min-h-screen">
 7681:       <div className="hidden md:block">
 7682:         <Sidebar />
 7683:       </div>
 7684:       <div className="flex flex-col flex-1">
 7685:         <Header />
 7686:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
 7687:           {children}
 7688:         </main>
 7689:       </div>
 7690:     </div>
 7691:   );
 7692: }
 7693: ```
 7694: 
 7695: ## app\sales\page.tsx
 7696: 
 7697: - Characters: 6400
 7698: - Tokens: 0
 7699: 
 7700: ```text
 7701: "use client";
 7702: 
 7703: import Link from "next/link";
 7704: import { Plus, Edit, Eye } from "lucide-react";
 7705: import { Button } from "@/components/ui/button";
 7706: import {
 7707:   Card,
 7708:   CardContent,
 7709:   CardDescription,
 7710:   CardHeader,
 7711:   CardTitle,
 7712: } from "@/components/ui/card";
 7713: import {
 7714:   Table,
 7715:   TableBody,
 7716:   TableCell,
 7717:   TableHead,
 7718:   TableHeader,
 7719:   TableRow,
 7720: } from "@/components/ui/table";
 7721: import { Badge } from "@/components/ui/badge";
 7722: import { format } from "date-fns";
 7723: import { useState, useEffect } from "react";
 7724: import { Skeleton } from "@/components/ui/skeleton";
 7725: import { DeleteButton } from "@/components/shared/delete-button";
 7726: import { useToast } from "@/hooks/use-toast";
 7727: 
 7728: // Sample data for demonstration
 7729: const sales = [
 7730:   {
 7731:     id: "1",
 7732:     salesNumber: "SO-2023-001",
 7733:     warehouse: "Main Store",
 7734:     status: "COMPLETED",
 7735:     salesDate: new Date("2023-05-18"),
 7736:     customerName: "Walk-in Customer",
 7737:     totalItems: 5,
 7738:     totalAmount: 249.95,
 7739:   },
 7740:   {
 7741:     id: "2",
 7742:     salesNumber: "SO-2023-002",
 7743:     warehouse: "Main Store",
 7744:     status: "COMPLETED",
 7745:     salesDate: new Date("2023-05-20"),
 7746:     customerName: "John Smith",
 7747:     totalItems: 3,
 7748:     totalAmount: 119.97,
 7749:   },
 7750:   {
 7751:     id: "3",
 7752:     salesNumber: "SO-2023-003",
 7753:     warehouse: "Downtown Branch",
 7754:     status: "DRAFT",
 7755:     salesDate: new Date("2023-06-01"),
 7756:     customerName: "Sarah Johnson",
 7757:     totalItems: 8,
 7758:     totalAmount: 399.92,
 7759:   },
 7760:   {
 7761:     id: "4",
 7762:     salesNumber: "SO-2023-004",
 7763:     warehouse: "Main Store",
 7764:     status: "CANCELLED",
 7765:     salesDate: new Date("2023-05-25"),
 7766:     customerName: "Michael Brown",
 7767:     totalItems: 2,
 7768:     totalAmount: 79.98,
 7769:   },
 7770: ];
 7771: 
 7772: const getStatusBadge = (status: string) => {
 7773:   switch (status) {
 7774:     case "COMPLETED":
 7775:       return <Badge className="bg-emerald-500">Completed</Badge>;
 7776:     case "DRAFT":
 7777:       return <Badge variant="outline">Draft</Badge>;
 7778:     case "CANCELLED":
 7779:       return <Badge variant="destructive">Cancelled</Badge>;
 7780:     default:
 7781:       return <Badge variant="outline">{status}</Badge>;
 7782:   }
 7783: };
 7784: 
 7785: export default function SalesPage() {
 7786:   const [isLoading, setIsLoading] = useState(true);
 7787:   const [data, setData] = useState(sales);
 7788:   const { toast } = useToast();
 7789: 
 7790:   useEffect(() => {
 7791:     // Simulate data loading
 7792:     const timer = setTimeout(() => {
 7793:       setIsLoading(false);
 7794:     }, 1000);
 7795:     
 7796:     return () => clearTimeout(timer);
 7797:   }, []);
 7798: 
 7799:   const handleDelete = async (id: string) => {
 7800:     // Simulate API call to delete sales order
 7801:     return new Promise<void>((resolve, reject) => {
 7802:       setTimeout(() => {
 7803:         const sale = data.find(s => s.id === id);
 7804:         
 7805:         if (sale?.status === "COMPLETED") {
 7806:           reject(new Error("Cannot delete a completed sales order."));
 7807:         } else {
 7808:           setData(data.filter(s => s.id !== id));
 7809:           resolve();
 7810:         }
 7811:       }, 1000);
 7812:     });
 7813:   };
 7814: 
 7815:   return (
 7816:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 7817:       <div className="flex items-center justify-between">
 7818:         <h1 className="text-3xl font-bold tracking-tight">Sales Orders</h1>
 7819:         <Button asChild>
 7820:           <Link href="/sales/new">
 7821:             <Plus className="mr-2 h-4 w-4" />
 7822:             New Sale
 7823:           </Link>
 7824:         </Button>
 7825:       </div>
 7826:       
 7827:       <Card>
 7828:         <CardHeader>
 7829:           <CardTitle>Sales History</CardTitle>
 7830:           <CardDescription>
 7831:             Track and manage your sales transactions
 7832:           </CardDescription>
 7833:         </CardHeader>
 7834:         <CardContent>
 7835:           {isLoading ? (
 7836:             <div className="space-y-2">
 7837:               <Skeleton className="h-10 w-full" />
 7838:               <Skeleton className="h-10 w-full" />
 7839:               <Skeleton className="h-10 w-full" />
 7840:               <Skeleton className="h-10 w-full" />
 7841:             </div>
 7842:           ) : (
 7843:             <Table>
 7844:               <TableHeader>
 7845:                 <TableRow>
 7846:                   <TableHead>Sales Number</TableHead>
 7847:                   <TableHead>Warehouse</TableHead>
 7848:                   <TableHead>Status</TableHead>
 7849:                   <TableHead>Date</TableHead>
 7850:                   <TableHead>Customer</TableHead>
 7851:                   <TableHead className="text-right">Items</TableHead>
 7852:                   <TableHead className="text-right">Total Amount</TableHead>
 7853:                   <TableHead className="text-right">Actions</TableHead>
 7854:                 </TableRow>
 7855:               </TableHeader>
 7856:               <TableBody>
 7857:                 {data.map((sale) => (
 7858:                   <TableRow key={sale.id}>
 7859:                     <TableCell className="font-medium">
 7860:                       {sale.salesNumber}
 7861:                     </TableCell>
 7862:                     <TableCell>{sale.warehouse}</TableCell>
 7863:                     <TableCell>{getStatusBadge(sale.status)}</TableCell>
 7864:                     <TableCell>
 7865:                       {format(sale.salesDate, "MMM dd, yyyy")}
 7866:                     </TableCell>
 7867:                     <TableCell>{sale.customerName}</TableCell>
 7868:                     <TableCell className="text-right">
 7869:                       {sale.totalItems}
 7870:                     </TableCell>
 7871:                     <TableCell className="text-right">
 7872:                       ${sale.totalAmount.toFixed(2)}
 7873:                     </TableCell>
 7874:                     <TableCell className="text-right">
 7875:                       <div className="flex justify-end gap-2">
 7876:                         <Button variant="ghost" size="icon" asChild>
 7877:                           <Link href={`/sales/${sale.id}`}>
 7878:                             <Eye className="h-4 w-4" />
 7879:                           </Link>
 7880:                         </Button>
 7881:                         <Button variant="ghost" size="icon" asChild>
 7882:                           <Link href={`/sales/${sale.id}/edit`}>
 7883:                             <Edit className="h-4 w-4" />
 7884:                           </Link>
 7885:                         </Button>
 7886:                         <DeleteButton
 7887:                           id={sale.id}
 7888:                           name={sale.salesNumber}
 7889:                           onDelete={handleDelete}
 7890:                           disabled={sale.status === "COMPLETED"}
 7891:                           disabledReason="Cannot delete a completed sales order."
 7892:                         />
 7893:                       </div>
 7894:                     </TableCell>
 7895:                   </TableRow>
 7896:                 ))}
 7897:               </TableBody>
 7898:             </Table>
 7899:           )}
 7900:         </CardContent>
 7901:       </Card>
 7902:     </div>
 7903:   );
 7904: }
 7905: ```
 7906: 
 7907: ## app\sales\[id]\page.tsx
 7908: 
 7909: - Characters: 15014
 7910: - Tokens: 0
 7911: 
 7912: ```text
 7913: "use client";
 7914: 
 7915: import { useState, useEffect } from "react";
 7916: import { useRouter } from "next/navigation";
 7917: import Link from "next/link";
 7918: import { ArrowLeft, Edit, Package, Calendar, User } from "lucide-react";
 7919: import { Button } from "@/components/ui/button";
 7920: import {
 7921:   Card,
 7922:   CardContent,
 7923:   CardDescription,
 7924:   CardHeader,
 7925:   CardTitle,
 7926: } from "@/components/ui/card";
 7927: import {
 7928:   Table,
 7929:   TableBody,
 7930:   TableCell,
 7931:   TableHead,
 7932:   TableHeader,
 7933:   TableRow,
 7934: } from "@/components/ui/table";
 7935: import { Skeleton } from "@/components/ui/skeleton";
 7936: import { Badge } from "@/components/ui/badge";
 7937: import { DeleteButton } from "@/components/shared/delete-button";
 7938: import { useToast } from "@/hooks/use-toast";
 7939: import { format } from "date-fns";
 7940: 
 7941: interface SalesOrder {
 7942:   id: string;
 7943:   salesNumber: string;
 7944:   warehouse: string;
 7945:   status: string;
 7946:   salesDate: Date;
 7947:   customerName: string;
 7948:   customerContact?: string;
 7949:   totalItems: number;
 7950:   totalAmount: number;
 7951:   items: SalesItem[];
 7952: }
 7953: 
 7954: interface SalesItem {
 7955:   id: string;
 7956:   productId: string;
 7957:   sku: string;
 7958:   name: string;
 7959:   quantity: number;
 7960:   unitPrice: number;
 7961: }
 7962: 
 7963: export default function SalesDetailsPage({ params }: { params: { id: string } }) {
 7964:   const router = useRouter();
 7965:   const { toast } = useToast();
 7966:   const [sale, setSale] = useState<SalesOrder | null>(null);
 7967:   const [isLoading, setIsLoading] = useState(true);
 7968: 
 7969:   useEffect(() => {
 7970:     // Simulate API call to fetch sales order details
 7971:     const fetchSale = async () => {
 7972:       setIsLoading(true);
 7973:       try {
 7974:         // In a real app, this would be an API call
 7975:         // const response = await fetch(`/api/sales/${params.id}`);
 7976:         // const data = await response.json();
 7977:         
 7978:         // Simulate API response with mock data
 7979:         setTimeout(() => {
 7980:           const mockSales = [
 7981:             {
 7982:               id: "1",
 7983:               salesNumber: "SO-2023-001",
 7984:               warehouse: "Main Store",
 7985:               status: "COMPLETED",
 7986:               salesDate: new Date("2023-05-18"),
 7987:               customerName: "Walk-in Customer",
 7988:               totalItems: 5,
 7989:               totalAmount: 249.95,
 7990:               items: [
 7991:                 {
 7992:                   id: "1",
 7993:                   productId: "1",
 7994:                   sku: "SH-001",
 7995:                   name: "Cotton T-Shirt",
 7996:                   quantity: 3,
 7997:                   unitPrice: 24.99
 7998:                 },
 7999:                 {
 8000:                   id: "2",
 8001:                   productId: "4",
 8002:                   sku: "AC-001",
 8003:                   name: "Leather Belt",
 8004:                   quantity: 2,
 8005:                   unitPrice: 19.99
 8006:                 }
 8007:               ]
 8008:             },
 8009:             {
 8010:               id: "2",
 8011:               salesNumber: "SO-2023-002",
 8012:               warehouse: "Main Store",
 8013:               status: "COMPLETED",
 8014:               salesDate: new Date("2023-05-20"),
 8015:               customerName: "John Smith",
 8016:               customerContact: "555-555-5555",
 8017:               totalItems: 3,
 8018:               totalAmount: 119.97,
 8019:               items: [
 8020:                 {
 8021:                   id: "3",
 8022:                   productId: "1",
 8023:                   sku: "SH-001",
 8024:                   name: "Cotton T-Shirt",
 8025:                   quantity: 3,
 8026:                   unitPrice: 24.99
 8027:                 },
 8028:                 {
 8029:                   id: "4",
 8030:                   productId: "4",
 8031:                   sku: "AC-001",
 8032:                   name: "Leather Belt",
 8033:                   quantity: 1,
 8034:                   unitPrice: 19.99
 8035:                 }
 8036:               ]
 8037:             },
 8038:             {
 8039:               id: "3",
 8040:               salesNumber: "SO-2023-003",
 8041:               warehouse: "Downtown Branch",
 8042:               status: "DRAFT",
 8043:               salesDate: new Date("2023-06-01"),
 8044:               customerName: "Sarah Johnson",
 8045:               customerContact: "555-123-4567",
 8046:               totalItems: 8,
 8047:               totalAmount: 399.92,
 8048:               items: [
 8049:                 {
 8050:                   id: "5",
 8051:                   productId: "2",
 8052:                   sku: "PA-001",
 8053:                   name: "Slim Fit Jeans",
 8054:                   quantity: 4,
 8055:                   unitPrice: 39.99
 8056:                 },
 8057:                 {
 8058:                   id: "6",
 8059:                   productId: "3",
 8060:                   sku: "DR-001",
 8061:                   name: "Summer Dress",
 8062:                   quantity: 4,
 8063:                   unitPrice: 49.99
 8064:                 }
 8065:               ]
 8066:             },
 8067:             {
 8068:               id: "4",
 8069:               salesNumber: "SO-2023-004",
 8070:               warehouse: "Main Store",
 8071:               status: "CANCELLED",
 8072:               salesDate: new Date("2023-05-25"),
 8073:               customerName: "Michael Brown",
 8074:               customerContact: "555-987-6543",
 8075:               totalItems: 2,
 8076:               totalAmount: 79.98,
 8077:               items: [
 8078:                 {
 8079:                   id: "7",
 8080:                   productId: "5",
 8081:                   sku: "SH-002",
 8082:                   name: "Polo Shirt",
 8083:                   quantity: 2,
 8084:                   unitPrice: 29.99
 8085:                 }
 8086:               ]
 8087:             }
 8088:           ];
 8089:           
 8090:           const foundSale = mockSales.find(s => s.id === params.id);
 8091:           setSale(foundSale || null);
 8092:           setIsLoading(false);
 8093:         }, 1000);
 8094:       } catch (error) {
 8095:         toast({
 8096:           title: "Error",
 8097:           description: "Failed to load sales order details",
 8098:           variant: "destructive",
 8099:         });
 8100:         setIsLoading(false);
 8101:       }
 8102:     };
 8103: 
 8104:     fetchSale();
 8105:   }, [params.id, toast]);
 8106: 
 8107:   const handleDelete = async (id: string) => {
 8108:     // Simulate API call to delete sales order
 8109:     return new Promise<void>((resolve, reject) => {
 8110:       setTimeout(() => {
 8111:         // In a real app, this would be an API call
 8112:         // const response = await fetch(`/api/sales/${id}`, { method: 'DELETE' });
 8113:         // if (!response.ok) throw new Error('Failed to delete sales order');
 8114:         
 8115:         if (sale?.status === "COMPLETED") {
 8116:           reject(new Error("Cannot delete a completed sales order."));
 8117:         } else {
 8118:           router.push("/sales");
 8119:           resolve();
 8120:         }
 8121:       }, 1000);
 8122:     });
 8123:   };
 8124: 
 8125:   const getStatusBadge = (status: string) => {
 8126:     switch (status) {
 8127:       case "COMPLETED":
 8128:         return <Badge className="bg-emerald-500">Completed</Badge>;
 8129:       case "DRAFT":
 8130:         return <Badge variant="outline">Draft</Badge>;
 8131:       case "CANCELLED":
 8132:         return <Badge variant="destructive">Cancelled</Badge>;
 8133:       default:
 8134:         return <Badge variant="outline">{status}</Badge>;
 8135:     }
 8136:   };
 8137: 
 8138:   return (
 8139:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 8140:       <div className="flex items-center justify-between">
 8141:         <div className="flex items-center gap-2">
 8142:           <Button variant="ghost" size="icon" asChild>
 8143:             <Link href="/sales">
 8144:               <ArrowLeft className="h-4 w-4" />
 8145:             </Link>
 8146:           </Button>
 8147:           <h1 className="text-3xl font-bold tracking-tight">
 8148:             {isLoading ? <Skeleton className="h-9 w-40" /> : sale?.salesNumber}
 8149:           </h1>
 8150:         </div>
 8151:         
 8152:         <div className="flex items-center gap-2">
 8153:           {!isLoading && sale && (
 8154:             <>
 8155:               <Button variant="outline" size="sm" asChild>
 8156:                 <Link href={`/sales/${params.id}/edit`}>
 8157:                   <Edit className="mr-2 h-4 w-4" />
 8158:                   Edit
 8159:                 </Link>
 8160:               </Button>
 8161:               
 8162:               <DeleteButton
 8163:                 id={params.id}
 8164:                 name={sale.salesNumber}
 8165:                 onDelete={handleDelete}
 8166:                 disabled={sale.status === "COMPLETED"}
 8167:                 disabledReason="Cannot delete a completed sales order."
 8168:               />
 8169:             </>
 8170:           )}
 8171:         </div>
 8172:       </div>
 8173:       
 8174:       {isLoading ? (
 8175:         <Card>
 8176:           <CardHeader>
 8177:             <Skeleton className="h-7 w-40 mb-2" />
 8178:             <Skeleton className="h-5 w-60" />
 8179:           </CardHeader>
 8180:           <CardContent className="space-y-4">
 8181:             <Skeleton className="h-5 w-full" />
 8182:             <Skeleton className="h-5 w-3/4" />
 8183:             <Skeleton className="h-5 w-1/2" />
 8184:           </CardContent>
 8185:         </Card>
 8186:       ) : sale ? (
 8187:         <>
 8188:           <Card>
 8189:             <CardHeader>
 8190:               <CardTitle className="flex items-center justify-between">
 8191:                 Sales Order Details
 8192:                 {getStatusBadge(sale.status)}
 8193:               </CardTitle>
 8194:               <CardDescription>
 8195:                 Detailed information about this sales order
 8196:               </CardDescription>
 8197:             </CardHeader>
 8198:             <CardContent className="space-y-6">
 8199:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 8200:                 <div className="flex items-start gap-2">
 8201:                   <User className="h-5 w-5 text-muted-foreground mt-0.5" />
 8202:                   <div>
 8203:                     <h3 className="text-sm font-medium text-muted-foreground">Customer</h3>
 8204:                     <p className="text-base">{sale.customerName}</p>
 8205:                     {sale.customerContact && (
 8206:                       <p className="text-sm text-muted-foreground">{sale.customerContact}</p>
 8207:                     )}
 8208:                   </div>
 8209:                 </div>
 8210:                 <div>
 8211:                   <h3 className="text-sm font-medium text-muted-foreground">Warehouse</h3>
 8212:                   <p className="text-base">{sale.warehouse}</p>
 8213:                 </div>
 8214:               </div>
 8215:               
 8216:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 8217:                 <div className="flex items-start gap-2">
 8218:                   <Calendar className="h-5 w-5 text-muted-foreground mt-0.5" />
 8219:                   <div>
 8220:                     <h3 className="text-sm font-medium text-muted-foreground">Sales Date</h3>
 8221:                     <p className="text-base">{format(sale.salesDate, "MMM dd, yyyy")}</p>
 8222:                   </div>
 8223:                 </div>
 8224:                 <div>
 8225:                   <h3 className="text-sm font-medium text-muted-foreground">Status</h3>
 8226:                   <p className="text-base">{sale.status}</p>
 8227:                 </div>
 8228:               </div>
 8229:               
 8230:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 8231:                 <div>
 8232:                   <h3 className="text-sm font-medium text-muted-foreground">Total Items</h3>
 8233:                   <p className="text-base">{sale.totalItems}</p>
 8234:                 </div>
 8235:                 <div>
 8236:                   <h3 className="text-sm font-medium text-muted-foreground">Total Amount</h3>
 8237:                   <p className="text-base font-medium">${sale.totalAmount.toFixed(2)}</p>
 8238:                 </div>
 8239:               </div>
 8240:             </CardContent>
 8241:           </Card>
 8242:           
 8243:           <Card>
 8244:             <CardHeader>
 8245:               <CardTitle className="flex items-center">
 8246:                 <Package className="mr-2 h-5 w-5" />
 8247:                 Order Items
 8248:               </CardTitle>
 8249:               <CardDescription>
 8250:                 Products included in this sales order
 8251:               </CardDescription>
 8252:             </CardHeader>
 8253:             <CardContent>
 8254:               <Table>
 8255:                 <TableHeader>
 8256:                   <TableRow>
 8257:                     <TableHead>SKU</TableHead>
 8258:                     <TableHead>Product</TableHead>
 8259:                     <TableHead className="text-right">Quantity</TableHead>
 8260:                     <TableHead className="text-right">Unit Price</TableHead>
 8261:                     <TableHead className="text-right">Total</TableHead>
 8262:                   </TableRow>
 8263:                 </TableHeader>
 8264:                 <TableBody>
 8265:                   {sale.items.map((item) => (
 8266:                     <TableRow key={item.id}>
 8267:                       <TableCell className="font-medium">{item.sku}</TableCell>
 8268:                       <TableCell>{item.name}</TableCell>
 8269:                       <TableCell className="text-right">{item.quantity}</TableCell>
 8270:                       <TableCell className="text-right">${item.unitPrice.toFixed(2)}</TableCell>
 8271:                       <TableCell className="text-right">${(item.quantity * item.unitPrice).toFixed(2)}</TableCell>
 8272:                     </TableRow>
 8273:                   ))}
 8274:                   <TableRow>
 8275:                     <TableCell colSpan={4} className="text-right font-medium">
 8276:                       Subtotal
 8277:                     </TableCell>
 8278:                     <TableCell className="text-right font-medium">
 8279:                       ${sale.totalAmount.toFixed(2)}
 8280:                     </TableCell>
 8281:                   </TableRow>
 8282:                   <TableRow>
 8283:                     <TableCell colSpan={4} className="text-right font-medium">
 8284:                       Tax
 8285:                     </TableCell>
 8286:                     <TableCell className="text-right font-medium">
 8287:                       $0.00
 8288:                     </TableCell>
 8289:                   </TableRow>
 8290:                   <TableRow>
 8291:                     <TableCell colSpan={4} className="text-right font-bold">
 8292:                       Total
 8293:                     </TableCell>
 8294:                     <TableCell className="text-right font-bold">
 8295:                       ${sale.totalAmount.toFixed(2)}
 8296:                     </TableCell>
 8297:                   </TableRow>
 8298:                 </TableBody>
 8299:               </Table>
 8300:             </CardContent>
 8301:           </Card>
 8302:           
 8303:           {sale.status === "COMPLETED" && (
 8304:             <Card>
 8305:               <CardHeader>
 8306:                 <CardTitle>Payment Information</CardTitle>
 8307:                 <CardDescription>
 8308:                   Payment details for this sales order
 8309:                 </CardDescription>
 8310:               </CardHeader>
 8311:               <CardContent>
 8312:                 <div className="space-y-4">
 8313:                   <div className="flex justify-between items-center py-2 border-b">
 8314:                     <span>Payment Method</span>
 8315:                     <span className="font-medium">Credit Card</span>
 8316:                   </div>
 8317:                   <div className="flex justify-between items-center py-2 border-b">
 8318:                     <span>Payment Date</span>
 8319:                     <span className="font-medium">{format(sale.salesDate, "MMM dd, yyyy")}</span>
 8320:                   </div>
 8321:                   <div className="flex justify-between items-center py-2">
 8322:                     <span>Payment Status</span>
 8323:                     <Badge className="bg-emerald-500">Paid</Badge>
 8324:                   </div>
 8325:                 </div>
 8326:               </CardContent>
 8327:             </Card>
 8328:           )}
 8329:         </>
 8330:       ) : (
 8331:         <Card>
 8332:           <CardContent className="flex flex-col items-center justify-center py-10">
 8333:             <h2 className="text-xl font-semibold mb-2">Sales Order Not Found</h2>
 8334:             <p className="text-muted-foreground mb-4">
 8335:               The sales order you're looking for doesn't exist or has been removed.
 8336:             </p>
 8337:             <Button asChild>
 8338:               <Link href="/sales">Back to Sales Orders</Link>
 8339:             </Button>
 8340:           </CardContent>
 8341:         </Card>
 8342:       )}
 8343:     </div>
 8344:   );
 8345: }
 8346: ```
 8347: 
 8348: ## app\settings\layout.tsx
 8349: 
 8350: - Characters: 2100
 8351: - Tokens: 0
 8352: 
 8353: ```text
 8354: "use client";
 8355: 
 8356: import { useEffect, useState } from "react";
 8357: import { useRouter, usePathname } from "next/navigation";
 8358: import { Sidebar } from "@/components/layout/sidebar";
 8359: import { Header } from "@/components/layout/header";
 8360: import { useAuth } from "@/hooks/use-auth";
 8361: import { Loader2 } from "lucide-react";
 8362: 
 8363: export default function SettingsLayout({
 8364:   children,
 8365: }: {
 8366:   children: React.ReactNode;
 8367: }) {
 8368:   const { user } = useAuth();
 8369:   const router = useRouter();
 8370:   const pathname = usePathname();
 8371:   const [isLoading, setIsLoading] = useState(true);
 8372:   const [currentPath, setCurrentPath] = useState(pathname);
 8373:   const [isTransitioning, setIsTransitioning] = useState(false);
 8374:   
 8375:   // Handle authentication check
 8376:   useEffect(() => {
 8377:     if (!user) {
 8378:       router.push("/login");
 8379:     } else {
 8380:       // Simulate loading delay
 8381:       const timer = setTimeout(() => {
 8382:         setIsLoading(false);
 8383:       }, 500);
 8384:       
 8385:       return () => clearTimeout(timer);
 8386:     }
 8387:   }, [user, router]);
 8388:   
 8389:   // Handle route transitions
 8390:   useEffect(() => {
 8391:     if (pathname !== currentPath) {
 8392:       setIsTransitioning(true);
 8393:       
 8394:       // Short delay to allow transition to complete
 8395:       const timer = setTimeout(() => {
 8396:         setCurrentPath(pathname);
 8397:         setIsTransitioning(false);
 8398:       }, 300);
 8399:       
 8400:       return () => clearTimeout(timer);
 8401:     }
 8402:   }, [pathname, currentPath]);
 8403:   
 8404:   if (!user || isLoading) {
 8405:     return (
 8406:       <div className="flex min-h-screen items-center justify-center">
 8407:         <div className="flex flex-col items-center space-y-4">
 8408:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
 8409:           <p className="text-lg font-medium">Loading...</p>
 8410:         </div>
 8411:       </div>
 8412:     );
 8413:   }
 8414:   
 8415:   return (
 8416:     <div className="flex min-h-screen">
 8417:       <div className="hidden md:block">
 8418:         <Sidebar />
 8419:       </div>
 8420:       <div className="flex flex-col flex-1">
 8421:         <Header />
 8422:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
 8423:           {children}
 8424:         </main>
 8425:       </div>
 8426:     </div>
 8427:   );
 8428: }
 8429: ```
 8430: 
 8431: ## app\settings\page.tsx
 8432: 
 8433: - Characters: 9537
 8434: - Tokens: 0
 8435: 
 8436: ```text
 8437: "use client";
 8438: 
 8439: import { useState } from "react";
 8440: import { Button } from "@/components/ui/button";
 8441: import {
 8442:   Card,
 8443:   CardContent,
 8444:   CardDescription,
 8445:   CardFooter,
 8446:   CardHeader,
 8447:   CardTitle,
 8448: } from "@/components/ui/card";
 8449: import { Input } from "@/components/ui/input";
 8450: import { Label } from "@/components/ui/label";
 8451: import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
 8452: import { Separator } from "@/components/ui/separator";
 8453: import { Switch } from "@/components/ui/switch";
 8454: import { useToast } from "@/hooks/use-toast";
 8455: 
 8456: export default function SettingsPage() {
 8457:   const { toast } = useToast();
 8458:   const [isLoading, setIsLoading] = useState(false);
 8459: 
 8460:   const handleSave = () => {
 8461:     setIsLoading(true);
 8462:     
 8463:     // Simulate API call
 8464:     setTimeout(() => {
 8465:       setIsLoading(false);
 8466:       toast({
 8467:         title: "Settings saved",
 8468:         description: "Your settings have been saved successfully.",
 8469:       });
 8470:     }, 1000);
 8471:   };
 8472: 
 8473:   return (
 8474:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 8475:       <h1 className="text-3xl font-bold tracking-tight">Settings</h1>
 8476:       
 8477:       <Tabs defaultValue="general" className="space-y-4">
 8478:         <TabsList>
 8479:           <TabsTrigger value="general">General</TabsTrigger>
 8480:           <TabsTrigger value="notifications">Notifications</TabsTrigger>
 8481:           <TabsTrigger value="appearance">Appearance</TabsTrigger>
 8482:           <TabsTrigger value="company">Company</TabsTrigger>
 8483:         </TabsList>
 8484:         
 8485:         <TabsContent value="general" className="space-y-4">
 8486:           <Card>
 8487:             <CardHeader>
 8488:               <CardTitle>General Settings</CardTitle>
 8489:               <CardDescription>
 8490:                 Manage your account settings and preferences
 8491:               </CardDescription>
 8492:             </CardHeader>
 8493:             <CardContent className="space-y-4">
 8494:               <div className="space-y-2">
 8495:                 <Label htmlFor="name">Name</Label>
 8496:                 <Input id="name" defaultValue="System Admin" />
 8497:               </div>
 8498:               <div className="space-y-2">
 8499:                 <Label htmlFor="email">Email</Label>
 8500:                 <Input id="email" defaultValue="admin@example.com" />
 8501:               </div>
 8502:               <Separator className="my-4" />
 8503:               <div className="space-y-2">
 8504:                 <div className="flex items-center justify-between">
 8505:                   <div>
 8506:                     <Label htmlFor="marketing-emails">Marketing Emails</Label>
 8507:                     <p className="text-sm text-muted-foreground">
 8508:                       Receive emails about new products, features, and more.
 8509:                     </p>
 8510:                   </div>
 8511:                   <Switch id="marketing-emails" />
 8512:                 </div>
 8513:               </div>
 8514:               <div className="space-y-2">
 8515:                 <div className="flex items-center justify-between">
 8516:                   <div>
 8517:                     <Label htmlFor="security-emails">Security Emails</Label>
 8518:                     <p className="text-sm text-muted-foreground">
 8519:                       Receive emails about your account security.
 8520:                     </p>
 8521:                   </div>
 8522:                   <Switch id="security-emails" defaultChecked />
 8523:                 </div>
 8524:               </div>
 8525:             </CardContent>
 8526:             <CardFooter>
 8527:               <Button onClick={handleSave} disabled={isLoading}>
 8528:                 {isLoading ? "Saving..." : "Save Changes"}
 8529:               </Button>
 8530:             </CardFooter>
 8531:           </Card>
 8532:         </TabsContent>
 8533:         
 8534:         <TabsContent value="notifications" className="space-y-4">
 8535:           <Card>
 8536:             <CardHeader>
 8537:               <CardTitle>Notification Preferences</CardTitle>
 8538:               <CardDescription>
 8539:                 Configure how you receive notifications
 8540:               </CardDescription>
 8541:             </CardHeader>
 8542:             <CardContent className="space-y-4">
 8543:               <div className="space-y-4">
 8544:                 <h3 className="text-lg font-medium">Email Notifications</h3>
 8545:                 <div className="space-y-2">
 8546:                   <div className="flex items-center justify-between">
 8547:                     <div>
 8548:                       <Label htmlFor="low-stock-email">Low Stock Alerts</Label>
 8549:                       <p className="text-sm text-muted-foreground">
 8550:                         Receive emails when products reach safety stock levels.
 8551:                       </p>
 8552:                     </div>
 8553:                     <Switch id="low-stock-email" defaultChecked />
 8554:                   </div>
 8555:                 </div>
 8556:                 <div className="space-y-2">
 8557:                   <div className="flex items-center justify-between">
 8558:                     <div>
 8559:                       <Label htmlFor="order-email">Purchase Order Updates</Label>
 8560:                       <p className="text-sm text-muted-foreground">
 8561:                         Receive emails about purchase order status changes.
 8562:                       </p>
 8563:                     </div>
 8564:                     <Switch id="order-email" defaultChecked />
 8565:                   </div>
 8566:                 </div>
 8567:               </div>
 8568:               
 8569:               <Separator className="my-4" />
 8570:               
 8571:               <div className="space-y-4">
 8572:                 <h3 className="text-lg font-medium">System Notifications</h3>
 8573:                 <div className="space-y-2">
 8574:                   <div className="flex items-center justify-between">
 8575:                     <div>
 8576:                       <Label htmlFor="browser-notifications">Browser Notifications</Label>
 8577:                       <p className="text-sm text-muted-foreground">
 8578:                         Show browser notifications for important events.
 8579:                       </p>
 8580:                     </div>
 8581:                     <Switch id="browser-notifications" />
 8582:                   </div>
 8583:                 </div>
 8584:               </div>
 8585:             </CardContent>
 8586:             <CardFooter>
 8587:               <Button onClick={handleSave} disabled={isLoading}>
 8588:                 {isLoading ? "Saving..." : "Save Changes"}
 8589:               </Button>
 8590:             </CardFooter>
 8591:           </Card>
 8592:         </TabsContent>
 8593:         
 8594:         <TabsContent value="appearance" className="space-y-4">
 8595:           <Card>
 8596:             <CardHeader>
 8597:               <CardTitle>Appearance</CardTitle>
 8598:               <CardDescription>
 8599:                 Customize the look and feel of the application
 8600:               </CardDescription>
 8601:             </CardHeader>
 8602:             <CardContent className="space-y-4">
 8603:               <div className="space-y-2">
 8604:                 <Label>Theme</Label>
 8605:                 <div className="grid grid-cols-3 gap-2">
 8606:                   <Button variant="outline" className="justify-start">
 8607:                     Light
 8608:                   </Button>
 8609:                   <Button variant="outline" className="justify-start">
 8610:                     Dark
 8611:                   </Button>
 8612:                   <Button variant="default" className="justify-start">
 8613:                     System
 8614:                   </Button>
 8615:                 </div>
 8616:               </div>
 8617:               
 8618:               <Separator className="my-4" />
 8619:               
 8620:               <div className="space-y-2">
 8621:                 <div className="flex items-center justify-between">
 8622:                   <div>
 8623:                     <Label htmlFor="dense-mode">Dense Mode</Label>
 8624:                     <p className="text-sm text-muted-foreground">
 8625:                       Show more content with compact spacing.
 8626:                     </p>
 8627:                   </div>
 8628:                   <Switch id="dense-mode" />
 8629:                 </div>
 8630:               </div>
 8631:             </CardContent>
 8632:             <CardFooter>
 8633:               <Button onClick={handleSave} disabled={isLoading}>
 8634:                 {isLoading ? "Saving..." : "Save Changes"}
 8635:               </Button>
 8636:             </CardFooter>
 8637:           </Card>
 8638:         </TabsContent>
 8639:         
 8640:         <TabsContent value="company" className="space-y-4">
 8641:           <Card>
 8642:             <CardHeader>
 8643:               <CardTitle>Company Information</CardTitle>
 8644:               <CardDescription>
 8645:                 Manage your company details and settings
 8646:               </CardDescription>
 8647:             </CardHeader>
 8648:             <CardContent className="space-y-4">
 8649:               <div className="space-y-2">
 8650:                 <Label htmlFor="company-name">Company Name</Label>
 8651:                 <Input id="company-name" defaultValue="Fashion Retail Inc." />
 8652:               </div>
 8653:               <div className="space-y-2">
 8654:                 <Label htmlFor="company-address">Address</Label>
 8655:                 <Input id="company-address" defaultValue="123 Fashion Street, Style City" />
 8656:               </div>
 8657:               <div className="space-y-2">
 8658:                 <Label htmlFor="company-phone">Phone</Label>
 8659:                 <Input id="company-phone" defaultValue="(555) 123-4567" />
 8660:               </div>
 8661:               <div className="space-y-2">
 8662:                 <Label htmlFor="company-email">Email</Label>
 8663:                 <Input id="company-email" defaultValue="info@fashionretail.com" />
 8664:               </div>
 8665:               <div className="space-y-2">
 8666:                 <Label htmlFor="tax-id">Tax ID / VAT Number</Label>
 8667:                 <Input id="tax-id" defaultValue="FR-12345678" />
 8668:               </div>
 8669:             </CardContent>
 8670:             <CardFooter>
 8671:               <Button onClick={handleSave} disabled={isLoading}>
 8672:                 {isLoading ? "Saving..." : "Save Changes"}
 8673:               </Button>
 8674:             </CardFooter>
 8675:           </Card>
 8676:         </TabsContent>
 8677:       </Tabs>
 8678:     </div>
 8679:   );
 8680: }
 8681: ```
 8682: 
 8683: ## app\suppliers\layout.tsx
 8684: 
 8685: - Characters: 2101
 8686: - Tokens: 0
 8687: 
 8688: ```text
 8689: "use client";
 8690: 
 8691: import { useEffect, useState } from "react";
 8692: import { useRouter, usePathname } from "next/navigation";
 8693: import { Sidebar } from "@/components/layout/sidebar";
 8694: import { Header } from "@/components/layout/header";
 8695: import { useAuth } from "@/hooks/use-auth";
 8696: import { Loader2 } from "lucide-react";
 8697: 
 8698: export default function SuppliersLayout({
 8699:   children,
 8700: }: {
 8701:   children: React.ReactNode;
 8702: }) {
 8703:   const { user } = useAuth();
 8704:   const router = useRouter();
 8705:   const pathname = usePathname();
 8706:   const [isLoading, setIsLoading] = useState(true);
 8707:   const [currentPath, setCurrentPath] = useState(pathname);
 8708:   const [isTransitioning, setIsTransitioning] = useState(false);
 8709:   
 8710:   // Handle authentication check
 8711:   useEffect(() => {
 8712:     if (!user) {
 8713:       router.push("/login");
 8714:     } else {
 8715:       // Simulate loading delay
 8716:       const timer = setTimeout(() => {
 8717:         setIsLoading(false);
 8718:       }, 500);
 8719:       
 8720:       return () => clearTimeout(timer);
 8721:     }
 8722:   }, [user, router]);
 8723:   
 8724:   // Handle route transitions
 8725:   useEffect(() => {
 8726:     if (pathname !== currentPath) {
 8727:       setIsTransitioning(true);
 8728:       
 8729:       // Short delay to allow transition to complete
 8730:       const timer = setTimeout(() => {
 8731:         setCurrentPath(pathname);
 8732:         setIsTransitioning(false);
 8733:       }, 300);
 8734:       
 8735:       return () => clearTimeout(timer);
 8736:     }
 8737:   }, [pathname, currentPath]);
 8738:   
 8739:   if (!user || isLoading) {
 8740:     return (
 8741:       <div className="flex min-h-screen items-center justify-center">
 8742:         <div className="flex flex-col items-center space-y-4">
 8743:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
 8744:           <p className="text-lg font-medium">Loading...</p>
 8745:         </div>
 8746:       </div>
 8747:     );
 8748:   }
 8749:   
 8750:   return (
 8751:     <div className="flex min-h-screen">
 8752:       <div className="hidden md:block">
 8753:         <Sidebar />
 8754:       </div>
 8755:       <div className="flex flex-col flex-1">
 8756:         <Header />
 8757:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
 8758:           {children}
 8759:         </main>
 8760:       </div>
 8761:     </div>
 8762:   );
 8763: }
 8764: ```
 8765: 
 8766: ## app\suppliers\new\page.tsx
 8767: 
 8768: - Characters: 9562
 8769: - Tokens: 0
 8770: 
 8771: ```text
 8772: "use client";
 8773: 
 8774: import { useState } from "react";
 8775: import { useRouter } from "next/navigation";
 8776: import { useForm } from "react-hook-form";
 8777: import { zodResolver } from "@hookform/resolvers/zod";
 8778: import * as z from "zod";
 8779: import { ArrowLeft } from "lucide-react";
 8780: import Link from "next/link";
 8781: 
 8782: import { Button } from "@/components/ui/button";
 8783: import {
 8784:   Form,
 8785:   FormControl,
 8786:   FormDescription,
 8787:   FormField,
 8788:   FormItem,
 8789:   FormLabel,
 8790:   FormMessage,
 8791: } from "@/components/ui/form";
 8792: import { Input } from "@/components/ui/input";
 8793: import { Textarea } from "@/components/ui/textarea";
 8794: import {
 8795:   Select,
 8796:   SelectContent,
 8797:   SelectItem,
 8798:   SelectTrigger,
 8799:   SelectValue,
 8800: } from "@/components/ui/select";
 8801: import { useToast } from "@/hooks/use-toast";
 8802: import {
 8803:   Card,
 8804:   CardContent,
 8805:   CardDescription,
 8806:   CardHeader,
 8807:   CardTitle,
 8808: } from "@/components/ui/card";
 8809: 
 8810: // Mock suppliers data - this would normally be in a database
 8811: const mockSuppliers = [
 8812:   {
 8813:     id: "1",
 8814:     name: "Fashion Wholesale Co.",
 8815:     contactName: "John Smith",
 8816:     email: "john@fashionwholesale.com",
 8817:     phone: "555-123-4567",
 8818:     address: "123 Supplier St, Supplier City",
 8819:     status: "Active",
 8820:   },
 8821:   {
 8822:     id: "2",
 8823:     name: "Textile Suppliers Inc.",
 8824:     contactName: "Jane Doe",
 8825:     email: "jane@textilesuppliers.com",
 8826:     phone: "555-987-6543",
 8827:     address: "456 Textile Ave, Fabric City",
 8828:     status: "Active",
 8829:   },
 8830:   {
 8831:     id: "3",
 8832:     name: "Apparel Manufacturing Ltd.",
 8833:     contactName: "Robert Johnson",
 8834:     email: "robert@apparelmanufacturing.com",
 8835:     phone: "555-456-7890",
 8836:     address: "789 Apparel Blvd, Manufacturing Town",
 8837:     status: "Inactive",
 8838:   },
 8839:   {
 8840:     id: "4",
 8841:     name: "Fabric Importers Co.",
 8842:     contactName: "Emily Chen",
 8843:     email: "emily@fabricimporters.com",
 8844:     phone: "555-234-5678",
 8845:     address: "321 Import Road, Port City",
 8846:     status: "Active",
 8847:   },
 8848:   {
 8849:     id: "5",
 8850:     name: "Accessory Distributors",
 8851:     contactName: "Michael Brown",
 8852:     email: "michael@accessorydist.com",
 8853:     phone: "555-876-5432",
 8854:     address: "654 Accessory Lane, Fashion District",
 8855:     status: "Active",
 8856:   },
 8857: ];
 8858: 
 8859: // Create a global variable to store the updated suppliers if it doesn't exist
 8860: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedSuppliers')) {
 8861:   window.updatedSuppliers = [...mockSuppliers];
 8862: }
 8863: 
 8864: const supplierSchema = z.object({
 8865:   name: z.string().min(2, { message: "Name must be at least 2 characters" }),
 8866:   contactName: z.string().optional(),
 8867:   email: z.string().email({ message: "Please enter a valid email address" }).optional().or(z.literal('')),
 8868:   phone: z.string().optional(),
 8869:   address: z.string().optional(),
 8870:   status: z.enum(["Active", "Inactive"]),
 8871: });
 8872: 
 8873: type SupplierFormValues = z.infer<typeof supplierSchema>;
 8874: 
 8875: export default function NewSupplierPage() {
 8876:   const router = useRouter();
 8877:   const { toast } = useToast();
 8878:   const [isLoading, setIsLoading] = useState(false);
 8879: 
 8880:   const form = useForm<SupplierFormValues>({
 8881:     resolver: zodResolver(supplierSchema),
 8882:     defaultValues: {
 8883:       name: "",
 8884:       contactName: "",
 8885:       email: "",
 8886:       phone: "",
 8887:       address: "",
 8888:       status: "Active",
 8889:     },
 8890:   });
 8891: 
 8892:   async function onSubmit(data: SupplierFormValues) {
 8893:     setIsLoading(true);
 8894:     
 8895:     try {
 8896:       // In a real application, this would be an API call
 8897:       // const response = await fetch("/api/suppliers", {
 8898:       //   method: "POST",
 8899:       //   headers: {
 8900:       //     "Content-Type": "application/json",
 8901:       //   },
 8902:       //   body: JSON.stringify(data),
 8903:       // });
 8904:       
 8905:       // if (!response.ok) {
 8906:       //   throw new Error("Failed to create supplier");
 8907:       // }
 8908:       
 8909:       // Simulate API call and update our mock database
 8910:       await new Promise(resolve => setTimeout(resolve, 1000));
 8911:       
 8912:       // Create a new supplier with a unique ID
 8913:       const newSupplier = {
 8914:         id: `${Date.now()}`, // Generate a unique ID
 8915:         ...data
 8916:       };
 8917:       
 8918:       // Add the new supplier to our mock database
 8919:       if (typeof window !== 'undefined') {
 8920:         window.updatedSuppliers = [...window.updatedSuppliers, newSupplier];
 8921:         console.log("Updated suppliers:", window.updatedSuppliers);
 8922:       }
 8923:       
 8924:       toast({
 8925:         title: "Supplier created",
 8926:         description: "The supplier has been created successfully.",
 8927:       });
 8928:       
 8929:       router.push("/suppliers");
 8930:     } catch (error) {
 8931:       toast({
 8932:         title: "Error",
 8933:         description: error instanceof Error ? error.message : "An error occurred",
 8934:         variant: "destructive",
 8935:       });
 8936:     } finally {
 8937:       setIsLoading(false);
 8938:     }
 8939:   }
 8940: 
 8941:   return (
 8942:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 8943:       <div className="flex items-center gap-2">
 8944:         <Button variant="ghost" size="icon" asChild>
 8945:           <Link href="/suppliers">
 8946:             <ArrowLeft className="h-4 w-4" />
 8947:           </Link>
 8948:         </Button>
 8949:         <h1 className="text-3xl font-bold tracking-tight">Add New Supplier</h1>
 8950:       </div>
 8951:       
 8952:       <Card>
 8953:         <CardHeader>
 8954:           <CardTitle>Supplier Information</CardTitle>
 8955:           <CardDescription>
 8956:             Enter the details for the new supplier
 8957:           </CardDescription>
 8958:         </CardHeader>
 8959:         <CardContent>
 8960:           <Form {...form}>
 8961:             <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
 8962:               <FormField
 8963:                 control={form.control}
 8964:                 name="name"
 8965:                 render={({ field }) => (
 8966:                   <FormItem>
 8967:                     <FormLabel>Company Name</FormLabel>
 8968:                     <FormControl>
 8969:                       <Input placeholder="Supplier Company Name" {...field} />
 8970:                     </FormControl>
 8971:                     <FormMessage />
 8972:                   </FormItem>
 8973:                 )}
 8974:               />
 8975:               
 8976:               <FormField
 8977:                 control={form.control}
 8978:                 name="contactName"
 8979:                 render={({ field }) => (
 8980:                   <FormItem>
 8981:                     <FormLabel>Contact Person</FormLabel>
 8982:                     <FormControl>
 8983:                       <Input placeholder="Contact Person Name" {...field} />
 8984:                     </FormControl>
 8985:                     <FormDescription>
 8986:                       The primary contact person at this supplier
 8987:                     </FormDescription>
 8988:                     <FormMessage />
 8989:                   </FormItem>
 8990:                 )}
 8991:               />
 8992:               
 8993:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 8994:                 <FormField
 8995:                   control={form.control}
 8996:                   name="email"
 8997:                   render={({ field }) => (
 8998:                     <FormItem>
 8999:                       <FormLabel>Email</FormLabel>
 9000:                       <FormControl>
 9001:                         <Input placeholder="email@example.com" {...field} />
 9002:                       </FormControl>
 9003:                       <FormMessage />
 9004:                     </FormItem>
 9005:                   )}
 9006:                 />
 9007:                 
 9008:                 <FormField
 9009:                   control={form.control}
 9010:                   name="phone"
 9011:                   render={({ field }) => (
 9012:                     <FormItem>
 9013:                       <FormLabel>Phone</FormLabel>
 9014:                       <FormControl>
 9015:                         <Input placeholder="555-123-4567" {...field} />
 9016:                       </FormControl>
 9017:                       <FormMessage />
 9018:                     </FormItem>
 9019:                   )}
 9020:                 />
 9021:               </div>
 9022:               
 9023:               <FormField
 9024:                 control={form.control}
 9025:                 name="address"
 9026:                 render={({ field }) => (
 9027:                   <FormItem>
 9028:                     <FormLabel>Address</FormLabel>
 9029:                     <FormControl>
 9030:                       <Textarea
 9031:                         placeholder="Supplier address..."
 9032:                         {...field}
 9033:                       />
 9034:                     </FormControl>
 9035:                     <FormMessage />
 9036:                   </FormItem>
 9037:                 )}
 9038:               />
 9039:               
 9040:               <FormField
 9041:                 control={form.control}
 9042:                 name="status"
 9043:                 render={({ field }) => (
 9044:                   <FormItem>
 9045:                     <FormLabel>Status</FormLabel>
 9046:                     <Select
 9047:                       onValueChange={field.onChange}
 9048:                       defaultValue={field.value}
 9049:                     >
 9050:                       <FormControl>
 9051:                         <SelectTrigger>
 9052:                           <SelectValue placeholder="Select status" />
 9053:                         </SelectTrigger>
 9054:                       </FormControl>
 9055:                       <SelectContent>
 9056:                         <SelectItem value="Active">Active</SelectItem>
 9057:                         <SelectItem value="Inactive">Inactive</SelectItem>
 9058:                       </SelectContent>
 9059:                     </Select>
 9060:                     <FormMessage />
 9061:                   </FormItem>
 9062:                 )}
 9063:               />
 9064:               
 9065:               <div className="flex justify-end space-x-2">
 9066:                 <Button
 9067:                   variant="outline"
 9068:                   onClick={() => router.push("/suppliers")}
 9069:                   type="button"
 9070:                 >
 9071:                   Cancel
 9072:                 </Button>
 9073:                 <Button type="submit" disabled={isLoading}>
 9074:                   {isLoading ? "Creating..." : "Create Supplier"}
 9075:                 </Button>
 9076:               </div>
 9077:             </form>
 9078:           </Form>
 9079:         </CardContent>
 9080:       </Card>
 9081:     </div>
 9082:   );
 9083: }
 9084: ```
 9085: 
 9086: ## app\suppliers\page.tsx
 9087: 
 9088: - Characters: 6665
 9089: - Tokens: 0
 9090: 
 9091: ```text
 9092: "use client";
 9093: 
 9094: import Link from "next/link";
 9095: import { Plus, Edit, Eye } from "lucide-react";
 9096: import { Button } from "@/components/ui/button";
 9097: import {
 9098:   Card,
 9099:   CardContent,
 9100:   CardDescription,
 9101:   CardHeader,
 9102:   CardTitle,
 9103: } from "@/components/ui/card";
 9104: import {
 9105:   Table,
 9106:   TableBody,
 9107:   TableCell,
 9108:   TableHead,
 9109:   TableHeader,
 9110:   TableRow,
 9111: } from "@/components/ui/table";
 9112: import { Badge } from "@/components/ui/badge";
 9113: import { useState, useEffect } from "react";
 9114: import { Skeleton } from "@/components/ui/skeleton";
 9115: import { DeleteButton } from "@/components/shared/delete-button";
 9116: import { useToast } from "@/hooks/use-toast";
 9117: 
 9118: // Mock suppliers data - this would normally be in a database
 9119: const mockSuppliers = [
 9120:   {
 9121:     id: "1",
 9122:     name: "Fashion Wholesale Co.",
 9123:     contactName: "John Smith",
 9124:     email: "john@fashionwholesale.com",
 9125:     phone: "555-123-4567",
 9126:     address: "123 Supplier St, Supplier City",
 9127:     status: "Active",
 9128:   },
 9129:   {
 9130:     id: "2",
 9131:     name: "Textile Suppliers Inc.",
 9132:     contactName: "Jane Doe",
 9133:     email: "jane@textilesuppliers.com",
 9134:     phone: "555-987-6543",
 9135:     address: "456 Textile Ave, Fabric City",
 9136:     status: "Active",
 9137:   },
 9138:   {
 9139:     id: "3",
 9140:     name: "Apparel Manufacturing Ltd.",
 9141:     contactName: "Robert Johnson",
 9142:     email: "robert@apparelmanufacturing.com",
 9143:     phone: "555-456-7890",
 9144:     address: "789 Apparel Blvd, Manufacturing Town",
 9145:     status: "Inactive",
 9146:   },
 9147:   {
 9148:     id: "4",
 9149:     name: "Fabric Importers Co.",
 9150:     contactName: "Emily Chen",
 9151:     email: "emily@fabricimporters.com",
 9152:     phone: "555-234-5678",
 9153:     address: "321 Import Road, Port City",
 9154:     status: "Active",
 9155:   },
 9156:   {
 9157:     id: "5",
 9158:     name: "Accessory Distributors",
 9159:     contactName: "Michael Brown",
 9160:     email: "michael@accessorydist.com",
 9161:     phone: "555-876-5432",
 9162:     address: "654 Accessory Lane, Fashion District",
 9163:     status: "Active",
 9164:   },
 9165: ];
 9166: 
 9167: // Create a global variable to store the updated suppliers if it doesn't exist
 9168: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedSuppliers')) {
 9169:   window.updatedSuppliers = [...mockSuppliers];
 9170: }
 9171: 
 9172: export default function SuppliersPage() {
 9173:   const [isLoading, setIsLoading] = useState(true);
 9174:   const [data, setData] = useState(mockSuppliers);
 9175:   const { toast } = useToast();
 9176: 
 9177:   useEffect(() => {
 9178:     // Simulate data loading and get data from our mock database
 9179:     const timer = setTimeout(() => {
 9180:       if (typeof window !== 'undefined') {
 9181:         setData(window.updatedSuppliers);
 9182:       }
 9183:       setIsLoading(false);
 9184:     }, 1000);
 9185:     
 9186:     return () => clearTimeout(timer);
 9187:   }, []);
 9188: 
 9189:   const handleDelete = async (id: string) => {
 9190:     // Simulate API call to delete supplier
 9191:     return new Promise<void>((resolve, reject) => {
 9192:       setTimeout(() => {
 9193:         const supplier = data.find(s => s.id === id);
 9194:         
 9195:         if (supplier?.status === "Active") {
 9196:           reject(new Error("Cannot delete an active supplier. Deactivate it first."));
 9197:         } else {
 9198:           // Update our mock database
 9199:           const updatedData = data.filter(s => s.id !== id);
 9200:           setData(updatedData);
 9201:           
 9202:           if (typeof window !== 'undefined') {
 9203:             window.updatedSuppliers = updatedData;
 9204:           }
 9205:           
 9206:           resolve();
 9207:         }
 9208:       }, 1000);
 9209:     });
 9210:   };
 9211: 
 9212:   return (
 9213:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 9214:       <div className="flex items-center justify-between">
 9215:         <h1 className="text-3xl font-bold tracking-tight">Suppliers</h1>
 9216:         <Button asChild>
 9217:           <Link href="/suppliers/new">
 9218:             <Plus className="mr-2 h-4 w-4" />
 9219:             Add Supplier
 9220:           </Link>
 9221:         </Button>
 9222:       </div>
 9223:       
 9224:       <Card>
 9225:         <CardHeader>
 9226:           <CardTitle>Supplier Directory</CardTitle>
 9227:           <CardDescription>
 9228:             Manage your suppliers and their contact information
 9229:           </CardDescription>
 9230:         </CardHeader>
 9231:         <CardContent>
 9232:           {isLoading ? (
 9233:             <div className="space-y-2">
 9234:               <Skeleton className="h-10 w-full" />
 9235:               <Skeleton className="h-10 w-full" />
 9236:               <Skeleton className="h-10 w-full" />
 9237:               <Skeleton className="h-10 w-full" />
 9238:               <Skeleton className="h-10 w-full" />
 9239:             </div>
 9240:           ) : (
 9241:             <Table>
 9242:               <TableHeader>
 9243:                 <TableRow>
 9244:                   <TableHead>Name</TableHead>
 9245:                   <TableHead>Contact Person</TableHead>
 9246:                   <TableHead>Email</TableHead>
 9247:                   <TableHead>Phone</TableHead>
 9248:                   <TableHead>Status</TableHead>
 9249:                   <TableHead className="text-right">Actions</TableHead>
 9250:                 </TableRow>
 9251:               </TableHeader>
 9252:               <TableBody>
 9253:                 {data.map((supplier) => (
 9254:                   <TableRow key={supplier.id}>
 9255:                     <TableCell className="font-medium">{supplier.name}</TableCell>
 9256:                     <TableCell>{supplier.contactName}</TableCell>
 9257:                     <TableCell>{supplier.email}</TableCell>
 9258:                     <TableCell>{supplier.phone}</TableCell>
 9259:                     <TableCell>
 9260:                       {supplier.status === "Active" ? (
 9261:                         <Badge className="bg-emerald-500">Active</Badge>
 9262:                       ) : (
 9263:                         <Badge variant="outline">Inactive</Badge>
 9264:                       )}
 9265:                     </TableCell>
 9266:                     <TableCell className="text-right">
 9267:                       <div className="flex justify-end gap-2">
 9268:                         <Button variant="ghost" size="icon" asChild>
 9269:                           <Link href={`/suppliers/${supplier.id}`}>
 9270:                             <Eye className="h-4 w-4" />
 9271:                           </Link>
 9272:                         </Button>
 9273:                         <Button variant="ghost" size="icon" asChild>
 9274:                           <Link href={`/suppliers/${supplier.id}/edit`}>
 9275:                             <Edit className="h-4 w-4" />
 9276:                           </Link>
 9277:                         </Button>
 9278:                         <DeleteButton
 9279:                           id={supplier.id}
 9280:                           name={supplier.name}
 9281:                           onDelete={handleDelete}
 9282:                           disabled={supplier.status === "Active"}
 9283:                           disabledReason="Cannot delete an active supplier. Deactivate it first."
 9284:                         />
 9285:                       </div>
 9286:                     </TableCell>
 9287:                   </TableRow>
 9288:                 ))}
 9289:               </TableBody>
 9290:             </Table>
 9291:           )}
 9292:         </CardContent>
 9293:       </Card>
 9294:     </div>
 9295:   );
 9296: }
 9297: ```
 9298: 
 9299: ## app\suppliers\[id]\edit\page.tsx
 9300: 
 9301: - Characters: 11930
 9302: - Tokens: 0
 9303: 
 9304: ```text
 9305: "use client";
 9306: 
 9307: import { useState, useEffect } from "react";
 9308: import { useRouter } from "next/navigation";
 9309: import { useForm } from "react-hook-form";
 9310: import { zodResolver } from "@hookform/resolvers/zod";
 9311: import * as z from "zod";
 9312: import { ArrowLeft } from "lucide-react";
 9313: import Link from "next/link";
 9314: 
 9315: import { Button } from "@/components/ui/button";
 9316: import {
 9317:   Form,
 9318:   FormControl,
 9319:   FormDescription,
 9320:   FormField,
 9321:   FormItem,
 9322:   FormLabel,
 9323:   FormMessage,
 9324: } from "@/components/ui/form";
 9325: import { Input } from "@/components/ui/input";
 9326: import { Textarea } from "@/components/ui/textarea";
 9327: import {
 9328:   Select,
 9329:   SelectContent,
 9330:   SelectItem,
 9331:   SelectTrigger,
 9332:   SelectValue,
 9333: } from "@/components/ui/select";
 9334: import { useToast } from "@/hooks/use-toast";
 9335: import {
 9336:   Card,
 9337:   CardContent,
 9338:   CardDescription,
 9339:   CardHeader,
 9340:   CardTitle,
 9341: } from "@/components/ui/card";
 9342: import { Skeleton } from "@/components/ui/skeleton";
 9343: 
 9344: // Mock suppliers data - this would normally be in a database
 9345: const mockSuppliers = [
 9346:   {
 9347:     id: "1",
 9348:     name: "Fashion Wholesale Co.",
 9349:     contactName: "John Smith",
 9350:     email: "john@fashionwholesale.com",
 9351:     phone: "555-123-4567",
 9352:     address: "123 Supplier St, Supplier City",
 9353:     status: "Active",
 9354:   },
 9355:   {
 9356:     id: "2",
 9357:     name: "Textile Suppliers Inc.",
 9358:     contactName: "Jane Doe",
 9359:     email: "jane@textilesuppliers.com",
 9360:     phone: "555-987-6543",
 9361:     address: "456 Textile Ave, Fabric City",
 9362:     status: "Active",
 9363:   },
 9364:   {
 9365:     id: "3",
 9366:     name: "Apparel Manufacturing Ltd.",
 9367:     contactName: "Robert Johnson",
 9368:     email: "robert@apparelmanufacturing.com",
 9369:     phone: "555-456-7890",
 9370:     address: "789 Apparel Blvd, Manufacturing Town",
 9371:     status: "Inactive",
 9372:   },
 9373:   {
 9374:     id: "4",
 9375:     name: "Fabric Importers Co.",
 9376:     contactName: "Emily Chen",
 9377:     email: "emily@fabricimporters.com",
 9378:     phone: "555-234-5678",
 9379:     address: "321 Import Road, Port City",
 9380:     status: "Active",
 9381:   },
 9382:   {
 9383:     id: "5",
 9384:     name: "Accessory Distributors",
 9385:     contactName: "Michael Brown",
 9386:     email: "michael@accessorydist.com",
 9387:     phone: "555-876-5432",
 9388:     address: "654 Accessory Lane, Fashion District",
 9389:     status: "Active",
 9390:   },
 9391: ];
 9392: 
 9393: // Create a global variable to store the updated suppliers
 9394: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedSuppliers')) {
 9395:   window.updatedSuppliers = [...mockSuppliers];
 9396: }
 9397: 
 9398: const supplierSchema = z.object({
 9399:   name: z.string().min(2, { message: "Name must be at least 2 characters" }),
 9400:   contactName: z.string().optional(),
 9401:   email: z.string().email({ message: "Please enter a valid email address" }).optional().or(z.literal('')),
 9402:   phone: z.string().optional(),
 9403:   address: z.string().optional(),
 9404:   status: z.enum(["Active", "Inactive"]),
 9405: });
 9406: 
 9407: type SupplierFormValues = z.infer<typeof supplierSchema>;
 9408: 
 9409: export default function EditSupplierPage({ params }: { params: { id: string } }) {
 9410:   const router = useRouter();
 9411:   const { toast } = useToast();
 9412:   const [isLoading, setIsLoading] = useState(false);
 9413:   const [isFetching, setIsFetching] = useState(true);
 9414:   const [supplier, setSupplier] = useState<SupplierFormValues | null>(null);
 9415: 
 9416:   const form = useForm<SupplierFormValues>({
 9417:     resolver: zodResolver(supplierSchema),
 9418:     defaultValues: {
 9419:       name: "",
 9420:       contactName: "",
 9421:       email: "",
 9422:       phone: "",
 9423:       address: "",
 9424:       status: "Active",
 9425:     },
 9426:   });
 9427: 
 9428:   useEffect(() => {
 9429:     // Fetch supplier data
 9430:     const fetchSupplier = async () => {
 9431:       setIsFetching(true);
 9432:       try {
 9433:         // In a real app, this would be an API call
 9434:         // const response = await fetch(`/api/suppliers/${params.id}`);
 9435:         // const data = await response.json();
 9436:         
 9437:         // Get data from our mock database (window.updatedSuppliers)
 9438:         setTimeout(() => {
 9439:           const suppliers = typeof window !== 'undefined' ? window.updatedSuppliers : mockSuppliers;
 9440:           const foundSupplier = suppliers.find(s => s.id === params.id);
 9441:           
 9442:           if (foundSupplier) {
 9443:             setSupplier(foundSupplier);
 9444:             form.reset({
 9445:               name: foundSupplier.name,
 9446:               contactName: foundSupplier.contactName || "",
 9447:               email: foundSupplier.email || "",
 9448:               phone: foundSupplier.phone || "",
 9449:               address: foundSupplier.address || "",
 9450:               status: foundSupplier.status as "Active" | "Inactive",
 9451:             });
 9452:           }
 9453:           
 9454:           setIsFetching(false);
 9455:         }, 1000);
 9456:       } catch (error) {
 9457:         toast({
 9458:           title: "Error",
 9459:           description: "Failed to load supplier details",
 9460:           variant: "destructive",
 9461:         });
 9462:         setIsFetching(false);
 9463:       }
 9464:     };
 9465: 
 9466:     fetchSupplier();
 9467:   }, [params.id, toast, form]);
 9468: 
 9469:   async function onSubmit(data: SupplierFormValues) {
 9470:     setIsLoading(true);
 9471:     
 9472:     try {
 9473:       // In a real application, this would be an API call
 9474:       // const response = await fetch(`/api/suppliers/${params.id}`, {
 9475:       //   method: "PUT",
 9476:       //   headers: {
 9477:       //     "Content-Type": "application/json",
 9478:       //   },
 9479:       //   body: JSON.stringify(data),
 9480:       // });
 9481:       
 9482:       // if (!response.ok) {
 9483:       //   throw new Error("Failed to update supplier");
 9484:       // }
 9485:       
 9486:       // Simulate API call and update our mock database
 9487:       await new Promise(resolve => setTimeout(resolve, 1000));
 9488:       
 9489:       // Update the supplier in our mock database
 9490:       if (typeof window !== 'undefined') {
 9491:         const index = window.updatedSuppliers.findIndex(s => s.id === params.id);
 9492:         if (index !== -1) {
 9493:           window.updatedSuppliers[index] = {
 9494:             ...window.updatedSuppliers[index],
 9495:             ...data
 9496:           };
 9497:           
 9498:           // Log the updated suppliers for debugging
 9499:           console.log("Updated suppliers:", window.updatedSuppliers);
 9500:         }
 9501:       }
 9502:       
 9503:       toast({
 9504:         title: "Supplier updated",
 9505:         description: "The supplier has been updated successfully.",
 9506:       });
 9507:       
 9508:       router.push(`/suppliers/${params.id}`);
 9509:     } catch (error) {
 9510:       toast({
 9511:         title: "Error",
 9512:         description: error instanceof Error ? error.message : "An error occurred",
 9513:         variant: "destructive",
 9514:       });
 9515:     } finally {
 9516:       setIsLoading(false);
 9517:     }
 9518:   }
 9519: 
 9520:   return (
 9521:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 9522:       <div className="flex items-center gap-2">
 9523:         <Button variant="ghost" size="icon" asChild>
 9524:           <Link href={`/suppliers/${params.id}`}>
 9525:             <ArrowLeft className="h-4 w-4" />
 9526:           </Link>
 9527:         </Button>
 9528:         <h1 className="text-3xl font-bold tracking-tight">
 9529:           {isFetching ? <Skeleton className="h-9 w-40" /> : `Edit ${supplier?.name}`}
 9530:         </h1>
 9531:       </div>
 9532:       
 9533:       <Card>
 9534:         <CardHeader>
 9535:           <CardTitle>Supplier Information</CardTitle>
 9536:           <CardDescription>
 9537:             Update the supplier details
 9538:           </CardDescription>
 9539:         </CardHeader>
 9540:         <CardContent>
 9541:           {isFetching ? (
 9542:             <div className="space-y-4">
 9543:               <Skeleton className="h-10 w-full" />
 9544:               <Skeleton className="h-10 w-full" />
 9545:               <Skeleton className="h-10 w-full" />
 9546:               <Skeleton className="h-10 w-full" />
 9547:               <Skeleton className="h-10 w-full" />
 9548:             </div>
 9549:           ) : (
 9550:             <Form {...form}>
 9551:               <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
 9552:                 <FormField
 9553:                   control={form.control}
 9554:                   name="name"
 9555:                   render={({ field }) => (
 9556:                     <FormItem>
 9557:                       <FormLabel>Company Name</FormLabel>
 9558:                       <FormControl>
 9559:                         <Input placeholder="Supplier Company Name" {...field} />
 9560:                       </FormControl>
 9561:                       <FormMessage />
 9562:                     </FormItem>
 9563:                   )}
 9564:                 />
 9565:                 
 9566:                 <FormField
 9567:                   control={form.control}
 9568:                   name="contactName"
 9569:                   render={({ field }) => (
 9570:                     <FormItem>
 9571:                       <FormLabel>Contact Person</FormLabel>
 9572:                       <FormControl>
 9573:                         <Input placeholder="Contact Person Name" {...field} />
 9574:                       </FormControl>
 9575:                       <FormDescription>
 9576:                         The primary contact person at this supplier
 9577:                       </FormDescription>
 9578:                       <FormMessage />
 9579:                     </FormItem>
 9580:                   )}
 9581:                 />
 9582:                 
 9583:                 <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 9584:                   <FormField
 9585:                     control={form.control}
 9586:                     name="email"
 9587:                     render={({ field }) => (
 9588:                       <FormItem>
 9589:                         <FormLabel>Email</FormLabel>
 9590:                         <FormControl>
 9591:                           <Input placeholder="email@example.com" {...field} />
 9592:                         </FormControl>
 9593:                         <FormMessage />
 9594:                       </FormItem>
 9595:                     )}
 9596:                   />
 9597:                   
 9598:                   <FormField
 9599:                     control={form.control}
 9600:                     name="phone"
 9601:                     render={({ field }) => (
 9602:                       <FormItem>
 9603:                         <FormLabel>Phone</FormLabel>
 9604:                         <FormControl>
 9605:                           <Input placeholder="555-123-4567" {...field} />
 9606:                         </FormControl>
 9607:                         <FormMessage />
 9608:                       </FormItem>
 9609:                     )}
 9610:                   />
 9611:                 </div>
 9612:                 
 9613:                 <FormField
 9614:                   control={form.control}
 9615:                   name="address"
 9616:                   render={({ field }) => (
 9617:                     <FormItem>
 9618:                       <FormLabel>Address</FormLabel>
 9619:                       <FormControl>
 9620:                         <Textarea
 9621:                           placeholder="Supplier address..."
 9622:                           {...field}
 9623:                         />
 9624:                       </FormControl>
 9625:                       <FormMessage />
 9626:                     </FormItem>
 9627:                   )}
 9628:                 />
 9629:                 
 9630:                 <FormField
 9631:                   control={form.control}
 9632:                   name="status"
 9633:                   render={({ field }) => (
 9634:                     <FormItem>
 9635:                       <FormLabel>Status</FormLabel>
 9636:                       <Select
 9637:                         onValueChange={field.onChange}
 9638:                         defaultValue={field.value}
 9639:                       >
 9640:                         <FormControl>
 9641:                           <SelectTrigger>
 9642:                             <SelectValue placeholder="Select status" />
 9643:                           </SelectTrigger>
 9644:                         </FormControl>
 9645:                         <SelectContent>
 9646:                           <SelectItem value="Active">Active</SelectItem>
 9647:                           <SelectItem value="Inactive">Inactive</SelectItem>
 9648:                         </SelectContent>
 9649:                       </Select>
 9650:                       <FormMessage />
 9651:                     </FormItem>
 9652:                   )}
 9653:                 />
 9654:                 
 9655:                 <div className="flex justify-end space-x-2">
 9656:                   <Button
 9657:                     variant="outline"
 9658:                     onClick={() => router.push(`/suppliers/${params.id}`)}
 9659:                     type="button"
 9660:                   >
 9661:                     Cancel
 9662:                   </Button>
 9663:                   <Button type="submit" disabled={isLoading}>
 9664:                     {isLoading ? "Saving..." : "Save Changes"}
 9665:                   </Button>
 9666:                 </div>
 9667:               </form>
 9668:             </Form>
 9669:           )}
 9670:         </CardContent>
 9671:       </Card>
 9672:     </div>
 9673:   );
 9674: }
 9675: ```
 9676: 
 9677: ## app\suppliers\[id]\page.tsx
 9678: 
 9679: - Characters: 11729
 9680: - Tokens: 0
 9681: 
 9682: ```text
 9683: "use client";
 9684: 
 9685: import { useState, useEffect } from "react";
 9686: import { useRouter } from "next/navigation";
 9687: import Link from "next/link";
 9688: import { ArrowLeft, Edit, ShoppingCart, Mail, Phone, MapPin } from "lucide-react";
 9689: import { Button } from "@/components/ui/button";
 9690: import {
 9691:   Card,
 9692:   CardContent,
 9693:   CardDescription,
 9694:   CardHeader,
 9695:   CardTitle,
 9696: } from "@/components/ui/card";
 9697: import { Skeleton } from "@/components/ui/skeleton";
 9698: import { Badge } from "@/components/ui/badge";
 9699: import { DeleteButton } from "@/components/shared/delete-button";
 9700: import { useToast } from "@/hooks/use-toast";
 9701: 
 9702: // Mock suppliers data - this would normally be in a database
 9703: const mockSuppliers = [
 9704:   {
 9705:     id: "1",
 9706:     name: "Fashion Wholesale Co.",
 9707:     contactName: "John Smith",
 9708:     email: "john@fashionwholesale.com",
 9709:     phone: "555-123-4567",
 9710:     address: "123 Supplier St, Supplier City",
 9711:     status: "Active",
 9712:   },
 9713:   {
 9714:     id: "2",
 9715:     name: "Textile Suppliers Inc.",
 9716:     contactName: "Jane Doe",
 9717:     email: "jane@textilesuppliers.com",
 9718:     phone: "555-987-6543",
 9719:     address: "456 Textile Ave, Fabric City",
 9720:     status: "Active",
 9721:   },
 9722:   {
 9723:     id: "3",
 9724:     name: "Apparel Manufacturing Ltd.",
 9725:     contactName: "Robert Johnson",
 9726:     email: "robert@apparelmanufacturing.com",
 9727:     phone: "555-456-7890",
 9728:     address: "789 Apparel Blvd, Manufacturing Town",
 9729:     status: "Inactive",
 9730:   },
 9731:   {
 9732:     id: "4",
 9733:     name: "Fabric Importers Co.",
 9734:     contactName: "Emily Chen",
 9735:     email: "emily@fabricimporters.com",
 9736:     phone: "555-234-5678",
 9737:     address: "321 Import Road, Port City",
 9738:     status: "Active",
 9739:   },
 9740:   {
 9741:     id: "5",
 9742:     name: "Accessory Distributors",
 9743:     contactName: "Michael Brown",
 9744:     email: "michael@accessorydist.com",
 9745:     phone: "555-876-5432",
 9746:     address: "654 Accessory Lane, Fashion District",
 9747:     status: "Active",
 9748:   },
 9749: ];
 9750: 
 9751: // Create a global variable to store the updated suppliers if it doesn't exist
 9752: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedSuppliers')) {
 9753:   window.updatedSuppliers = [...mockSuppliers];
 9754: }
 9755: 
 9756: interface Supplier {
 9757:   id: string;
 9758:   name: string;
 9759:   contactName: string;
 9760:   email: string;
 9761:   phone: string;
 9762:   address: string;
 9763:   status: string;
 9764: }
 9765: 
 9766: export default function SupplierDetailsPage({ params }: { params: { id: string } }) {
 9767:   const router = useRouter();
 9768:   const { toast } = useToast();
 9769:   const [supplier, setSupplier] = useState<Supplier | null>(null);
 9770:   const [isLoading, setIsLoading] = useState(true);
 9771: 
 9772:   useEffect(() => {
 9773:     // Fetch supplier data
 9774:     const fetchSupplier = async () => {
 9775:       setIsLoading(true);
 9776:       try {
 9777:         // In a real app, this would be an API call
 9778:         // const response = await fetch(`/api/suppliers/${params.id}`);
 9779:         // const data = await response.json();
 9780:         
 9781:         // Get data from our mock database (window.updatedSuppliers)
 9782:         setTimeout(() => {
 9783:           const suppliers = typeof window !== 'undefined' ? window.updatedSuppliers : mockSuppliers;
 9784:           const foundSupplier = suppliers.find(s => s.id === params.id);
 9785:           
 9786:           setSupplier(foundSupplier || null);
 9787:           setIsLoading(false);
 9788:         }, 1000);
 9789:       } catch (error) {
 9790:         toast({
 9791:           title: "Error",
 9792:           description: "Failed to load supplier details",
 9793:           variant: "destructive",
 9794:         });
 9795:         setIsLoading(false);
 9796:       }
 9797:     };
 9798: 
 9799:     fetchSupplier();
 9800:   }, [params.id, toast]);
 9801: 
 9802:   const handleDelete = async (id: string) => {
 9803:     // Simulate API call to delete supplier
 9804:     return new Promise<void>((resolve, reject) => {
 9805:       setTimeout(() => {
 9806:         // In a real app, this would be an API call
 9807:         // const response = await fetch(`/api/suppliers/${id}`, { method: 'DELETE' });
 9808:         // if (!response.ok) throw new Error('Failed to delete supplier');
 9809:         
 9810:         if (supplier?.status === "Active") {
 9811:           reject(new Error("Cannot delete an active supplier. Deactivate it first."));
 9812:         } else {
 9813:           // Update our mock database
 9814:           if (typeof window !== 'undefined') {
 9815:             window.updatedSuppliers = window.updatedSuppliers.filter(s => s.id !== id);
 9816:           }
 9817:           
 9818:           router.push("/suppliers");
 9819:           resolve();
 9820:         }
 9821:       }, 1000);
 9822:     });
 9823:   };
 9824: 
 9825:   return (
 9826:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
 9827:       <div className="flex items-center justify-between">
 9828:         <div className="flex items-center gap-2">
 9829:           <Button variant="ghost" size="icon" asChild>
 9830:             <Link href="/suppliers">
 9831:               <ArrowLeft className="h-4 w-4" />
 9832:             </Link>
 9833:           </Button>
 9834:           <h1 className="text-3xl font-bold tracking-tight">
 9835:             {isLoading ? <Skeleton className="h-9 w-40" /> : supplier?.name}
 9836:           </h1>
 9837:         </div>
 9838:         
 9839:         <div className="flex items-center gap-2">
 9840:           {!isLoading && supplier && (
 9841:             <>
 9842:               <Button variant="outline" size="sm" asChild>
 9843:                 <Link href={`/suppliers/${params.id}/edit`}>
 9844:                   <Edit className="mr-2 h-4 w-4" />
 9845:                   Edit
 9846:                 </Link>
 9847:               </Button>
 9848:               
 9849:               <DeleteButton
 9850:                 id={params.id}
 9851:                 name={supplier.name}
 9852:                 onDelete={handleDelete}
 9853:                 disabled={supplier.status === "Active"}
 9854:                 disabledReason="Cannot delete an active supplier. Deactivate it first."
 9855:               />
 9856:             </>
 9857:           )}
 9858:         </div>
 9859:       </div>
 9860:       
 9861:       {isLoading ? (
 9862:         <Card>
 9863:           <CardHeader>
 9864:             <Skeleton className="h-7 w-40 mb-2" />
 9865:             <Skeleton className="h-5 w-60" />
 9866:           </CardHeader>
 9867:           <CardContent className="space-y-4">
 9868:             <Skeleton className="h-5 w-full" />
 9869:             <Skeleton className="h-5 w-3/4" />
 9870:             <Skeleton className="h-5 w-1/2" />
 9871:           </CardContent>
 9872:         </Card>
 9873:       ) : supplier ? (
 9874:         <>
 9875:           <Card>
 9876:             <CardHeader>
 9877:               <CardTitle className="flex items-center justify-between">
 9878:                 Supplier Details
 9879:                 <Badge className={supplier.status === "Active" ? "bg-emerald-500" : "bg-gray-500"}>
 9880:                   {supplier.status}
 9881:                 </Badge>
 9882:               </CardTitle>
 9883:               <CardDescription>
 9884:                 Detailed information about this supplier
 9885:               </CardDescription>
 9886:             </CardHeader>
 9887:             <CardContent className="space-y-6">
 9888:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 9889:                 <div>
 9890:                   <h3 className="text-sm font-medium text-muted-foreground">Company Name</h3>
 9891:                   <p className="text-base">{supplier.name}</p>
 9892:                 </div>
 9893:                 <div>
 9894:                   <h3 className="text-sm font-medium text-muted-foreground">Contact Person</h3>
 9895:                   <p className="text-base">{supplier.contactName}</p>
 9896:                 </div>
 9897:               </div>
 9898:               
 9899:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
 9900:                 <div className="flex items-start gap-2">
 9901:                   <Mail className="h-5 w-5 text-muted-foreground mt-0.5" />
 9902:                   <div>
 9903:                     <h3 className="text-sm font-medium text-muted-foreground">Email</h3>
 9904:                     <p className="text-base">{supplier.email}</p>
 9905:                   </div>
 9906:                 </div>
 9907:                 <div className="flex items-start gap-2">
 9908:                   <Phone className="h-5 w-5 text-muted-foreground mt-0.5" />
 9909:                   <div>
 9910:                     <h3 className="text-sm font-medium text-muted-foreground">Phone</h3>
 9911:                     <p className="text-base">{supplier.phone}</p>
 9912:                   </div>
 9913:                 </div>
 9914:               </div>
 9915:               
 9916:               <div className="flex items-start gap-2">
 9917:                 <MapPin className="h-5 w-5 text-muted-foreground mt-0.5" />
 9918:                 <div>
 9919:                   <h3 className="text-sm font-medium text-muted-foreground">Address</h3>
 9920:                   <p className="text-base">{supplier.address}</p>
 9921:                 </div>
 9922:               </div>
 9923:             </CardContent>
 9924:           </Card>
 9925:           
 9926:           <Card>
 9927:             <CardHeader>
 9928:               <CardTitle className="flex items-center">
 9929:                 <ShoppingCart className="mr-2 h-5 w-5" />
 9930:                 Purchase Orders
 9931:               </CardTitle>
 9932:               <CardDescription>
 9933:                 Recent purchase orders from this supplier
 9934:               </CardDescription>
 9935:             </CardHeader>
 9936:             <CardContent>
 9937:               {supplier.id === "1" || supplier.id === "2" ? (
 9938:                 <Table>
 9939:                   <TableHeader>
 9940:                     <TableRow>
 9941:                       <TableHead>Order Number</TableHead>
 9942:                       <TableHead>Date</TableHead>
 9943:                       <TableHead>Status</TableHead>
 9944:                       <TableHead className="text-right">Total</TableHead>
 9945:                       <TableHead className="text-right">Actions</TableHead>
 9946:                     </TableRow>
 9947:                   </TableHeader>
 9948:                   <TableBody>
 9949:                     {supplier.id === "1" && (
 9950:                       <TableRow>
 9951:                         <TableCell className="font-medium">PO-2023-001</TableCell>
 9952:                         <TableCell>May 15, 2023</TableCell>
 9953:                         <TableCell>
 9954:                           <Badge className="bg-emerald-500">Received</Badge>
 9955:                         </TableCell>
 9956:                         <TableCell className="text-right">$1,850.75</TableCell>
 9957:                         <TableCell className="text-right">
 9958:                           <Button variant="ghost" size="sm" asChild>
 9959:                             <Link href="/purchases/1">View</Link>
 9960:                           </Button>
 9961:                         </TableCell>
 9962:                       </TableRow>
 9963:                     )}
 9964:                     {supplier.id === "2" && (
 9965:                       <TableRow>
 9966:                         <TableCell className="font-medium">PO-2023-002</TableCell>
 9967:                         <TableCell>Jun 02, 2023</TableCell>
 9968:                         <TableCell>
 9969:                           <Badge className="bg-blue-500">Ordered</Badge>
 9970:                         </TableCell>
 9971:                         <TableCell className="text-right">$1,245.50</TableCell>
 9972:                         <TableCell className="text-right">
 9973:                           <Button variant="ghost" size="sm" asChild>
 9974:                             <Link href="/purchases/2">View</Link>
 9975:                           </Button>
 9976:                         </TableCell>
 9977:                       </TableRow>
 9978:                     )}
 9979:                   </TableBody>
 9980:                 </Table>
 9981:               ) : (
 9982:                 <div className="text-center py-8 text-muted-foreground">
 9983:                   No purchase orders found for this supplier
 9984:                 </div>
 9985:               )}
 9986:             </CardContent>
 9987:           </Card>
 9988:         </>
 9989:       ) : (
 9990:         <Card>
 9991:           <CardContent className="flex flex-col items-center justify-center py-10">
 9992:             <h2 className="text-xl font-semibold mb-2">Supplier Not Found</h2>
 9993:             <p className="text-muted-foreground mb-4">
 9994:               The supplier you're looking for doesn't exist or has been removed.
 9995:             </p>
 9996:             <Button asChild>
 9997:               <Link href="/suppliers">Back to Suppliers</Link>
 9998:             </Button>
 9999:           </CardContent>
10000:         </Card>
10001:       )}
10002:     </div>
10003:   );
10004: }
10005: 
10006: // Add Table components for the purchase orders section
10007: import {
10008:   Table,
10009:   TableBody,
10010:   TableCell,
10011:   TableHead,
10012:   TableHeader,
10013:   TableRow,
10014: } from "@/components/ui/table";
10015: ```
10016: 
10017: ## app\transfers\layout.tsx
10018: 
10019: - Characters: 2101
10020: - Tokens: 0
10021: 
10022: ```text
10023: "use client";
10024: 
10025: import { useEffect, useState } from "react";
10026: import { useRouter, usePathname } from "next/navigation";
10027: import { Sidebar } from "@/components/layout/sidebar";
10028: import { Header } from "@/components/layout/header";
10029: import { useAuth } from "@/hooks/use-auth";
10030: import { Loader2 } from "lucide-react";
10031: 
10032: export default function TransfersLayout({
10033:   children,
10034: }: {
10035:   children: React.ReactNode;
10036: }) {
10037:   const { user } = useAuth();
10038:   const router = useRouter();
10039:   const pathname = usePathname();
10040:   const [isLoading, setIsLoading] = useState(true);
10041:   const [currentPath, setCurrentPath] = useState(pathname);
10042:   const [isTransitioning, setIsTransitioning] = useState(false);
10043:   
10044:   // Handle authentication check
10045:   useEffect(() => {
10046:     if (!user) {
10047:       router.push("/login");
10048:     } else {
10049:       // Simulate loading delay
10050:       const timer = setTimeout(() => {
10051:         setIsLoading(false);
10052:       }, 500);
10053:       
10054:       return () => clearTimeout(timer);
10055:     }
10056:   }, [user, router]);
10057:   
10058:   // Handle route transitions
10059:   useEffect(() => {
10060:     if (pathname !== currentPath) {
10061:       setIsTransitioning(true);
10062:       
10063:       // Short delay to allow transition to complete
10064:       const timer = setTimeout(() => {
10065:         setCurrentPath(pathname);
10066:         setIsTransitioning(false);
10067:       }, 300);
10068:       
10069:       return () => clearTimeout(timer);
10070:     }
10071:   }, [pathname, currentPath]);
10072:   
10073:   if (!user || isLoading) {
10074:     return (
10075:       <div className="flex min-h-screen items-center justify-center">
10076:         <div className="flex flex-col items-center space-y-4">
10077:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
10078:           <p className="text-lg font-medium">Loading...</p>
10079:         </div>
10080:       </div>
10081:     );
10082:   }
10083:   
10084:   return (
10085:     <div className="flex min-h-screen">
10086:       <div className="hidden md:block">
10087:         <Sidebar />
10088:       </div>
10089:       <div className="flex flex-col flex-1">
10090:         <Header />
10091:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
10092:           {children}
10093:         </main>
10094:       </div>
10095:     </div>
10096:   );
10097: }
10098: ```
10099: 
10100: ## app\transfers\new\page.tsx
10101: 
10102: - Characters: 157
10103: - Tokens: 0
10104: 
10105: ```text
10106: {"code":"rate-limited","message":"You have hit the rate limit. You can continue to code for free in the editor.","providerLimitHit":false,"isRetryable":true}
10107: ```
10108: 
10109: ## app\transfers\page.tsx
10110: 
10111: - Characters: 8274
10112: - Tokens: 0
10113: 
10114: ```text
10115: "use client";
10116: 
10117: import Link from "next/link";
10118: import { Plus, Edit, Eye } from "lucide-react";
10119: import { Button } from "@/components/ui/button";
10120: import {
10121:   Card,
10122:   CardContent,
10123:   CardDescription,
10124:   CardHeader,
10125:   CardTitle,
10126: } from "@/components/ui/card";
10127: import {
10128:   Table,
10129:   TableBody,
10130:   TableCell,
10131:   TableHead,
10132:   TableHeader,
10133:   TableRow,
10134: } from "@/components/ui/table";
10135: import { Badge } from "@/components/ui/badge";
10136: import { format } from "date-fns";
10137: import { useState, useEffect } from "react";
10138: import { Skeleton } from "@/components/ui/skeleton";
10139: import { DeleteButton } from "@/components/shared/delete-button";
10140: import { useToast } from "@/hooks/use-toast";
10141: 
10142: // Mock transfer orders data
10143: const mockTransfers = [
10144:   {
10145:     id: "1",
10146:     transferNumber: "TR-2023-001",
10147:     sourceWarehouse: "Main Store",
10148:     sourceWarehouseId: "1",
10149:     destWarehouse: "Downtown Branch",
10150:     destWarehouseId: "2",
10151:     status: "COMPLETED",
10152:     transferDate: new Date("2023-05-20"),
10153:     notes: "Rebalancing inventory between stores",
10154:     totalItems: 35,
10155:     items: [
10156:       {
10157:         id: "1",
10158:         productId: "1",
10159:         sku: "SH-001",
10160:         name: "Cotton T-Shirt",
10161:         quantity: 20
10162:       },
10163:       {
10164:         id: "2",
10165:         productId: "2",
10166:         sku: "PA-001",
10167:         name: "Slim Fit Jeans",
10168:         quantity: 15
10169:       }
10170:     ]
10171:   },
10172:   {
10173:     id: "2",
10174:     transferNumber: "TR-2023-002",
10175:     sourceWarehouse: "Distribution Center",
10176:     sourceWarehouseId: "4",
10177:     destWarehouse: "Mall Outlet",
10178:     destWarehouseId: "3",
10179:     status: "PENDING",
10180:     transferDate: new Date("2023-06-05"),
10181:     notes: "Seasonal stock transfer",
10182:     totalItems: 48,
10183:     items: [
10184:       {
10185:         id: "3",
10186:         productId: "3",
10187:         sku: "DR-001",
10188:         name: "Summer Dress",
10189:         quantity: 25
10190:       },
10191:       {
10192:         id: "4",
10193:         productId: "4",
10194:         sku: "AC-001",
10195:         name: "Leather Belt",
10196:         quantity: 23
10197:       }
10198:     ]
10199:   },
10200:   {
10201:     id: "3",
10202:     transferNumber: "TR-2023-003",
10203:     sourceWarehouse: "Main Store",
10204:     sourceWarehouseId: "1",
10205:     destWarehouse: "Mall Outlet",
10206:     destWarehouseId: "3",
10207:     status: "DRAFT",
10208:     transferDate: new Date("2023-06-10"),
10209:     notes: "Summer collection transfer",
10210:     totalItems: 25,
10211:     items: [
10212:       {
10213:         id: "5",
10214:         productId: "5",
10215:         sku: "SH-002",
10216:         name: "Polo Shirt",
10217:         quantity: 25
10218:       }
10219:     ]
10220:   },
10221:   {
10222:     id: "4",
10223:     transferNumber: "TR-2023-004",
10224:     sourceWarehouse: "Downtown Branch",
10225:     sourceWarehouseId: "2",
10226:     destWarehouse: "Seasonal Pop-up",
10227:     destWarehouseId: "5",
10228:     status: "CANCELLED",
10229:     transferDate: new Date("2023-05-25"),
10230:     notes: "Cancelled due to store closure",
10231:     totalItems: 15,
10232:     items: [
10233:       {
10234:         id: "6",
10235:         productId: "1",
10236:         sku: "SH-001",
10237:         name: "Cotton T-Shirt",
10238:         quantity: 15
10239:       }
10240:     ]
10241:   },
10242: ];
10243: 
10244: // Create a global variable to store the updated transfers if it doesn't exist
10245: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedTransfers')) {
10246:   window.updatedTransfers = [...mockTransfers];
10247: }
10248: 
10249: const getStatusBadge = (status: string) => {
10250:   switch (status) {
10251:     case "COMPLETED":
10252:       return <Badge className="bg-emerald-500">Completed</Badge>;
10253:     case "PENDING":
10254:       return <Badge className="bg-blue-500">Pending</Badge>;
10255:     case "DRAFT":
10256:       return <Badge variant="outline">Draft</Badge>;
10257:     case "CANCELLED":
10258:       return <Badge variant="destructive">Cancelled</Badge>;
10259:     default:
10260:       return <Badge variant="outline">{status}</Badge>;
10261:   }
10262: };
10263: 
10264: export default function TransfersPage() {
10265:   const [isLoading, setIsLoading] = useState(true);
10266:   const [data, setData] = useState(mockTransfers);
10267:   const { toast } = useToast();
10268: 
10269:   useEffect(() => {
10270:     // Simulate data loading and get data from our mock database
10271:     const timer = setTimeout(() => {
10272:       if (typeof window !== 'undefined') {
10273:         setData(window.updatedTransfers || mockTransfers);
10274:       }
10275:       setIsLoading(false);
10276:     }, 1000);
10277:     
10278:     return () => clearTimeout(timer);
10279:   }, []);
10280: 
10281:   const handleDelete = async (id: string) => {
10282:     // Simulate API call to delete transfer
10283:     return new Promise<void>((resolve, reject) => {
10284:       setTimeout(() => {
10285:         const transfer = data.find(t => t.id === id);
10286:         
10287:         if (transfer?.status === "COMPLETED" || transfer?.status === "PENDING") {
10288:           reject(new Error("Cannot delete a transfer that is pending or completed."));
10289:         } else {
10290:           // Update our mock database
10291:           const updatedData = data.filter(t => t.id !== id);
10292:           setData(updatedData);
10293:           
10294:           if (typeof window !== 'undefined') {
10295:             window.updatedTransfers = updatedData;
10296:           }
10297:           
10298:           resolve();
10299:         }
10300:       }, 1000);
10301:     });
10302:   };
10303: 
10304:   return (
10305:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
10306:       <div className="flex items-center justify-between">
10307:         <h1 className="text-3xl font-bold tracking-tight">Inventory Transfers</h1>
10308:         <Button asChild>
10309:           <Link href="/transfers/new">
10310:             <Plus className="mr-2 h-4 w-4" />
10311:             New Transfer
10312:           </Link>
10313:         </Button>
10314:       </div>
10315:       
10316:       <Card>
10317:         <CardHeader>
10318:           <CardTitle>Transfer Orders</CardTitle>
10319:           <CardDescription>
10320:             Manage inventory transfers between warehouses
10321:           </CardDescription>
10322:         </CardHeader>
10323:         <CardContent>
10324:           {isLoading ? (
10325:             <div className="space-y-2">
10326:               <Skeleton className="h-10 w-full" />
10327:               <Skeleton className="h-10 w-full" />
10328:               <Skeleton className="h-10 w-full" />
10329:               <Skeleton className="h-10 w-full" />
10330:             </div>
10331:           ) : (
10332:             <Table>
10333:               <TableHeader>
10334:                 <TableRow>
10335:                   <TableHead>Transfer Number</TableHead>
10336:                   <TableHead>From</TableHead>
10337:                   <TableHead>To</TableHead>
10338:                   <TableHead>Status</TableHead>
10339:                   <TableHead>Date</TableHead>
10340:                   <TableHead className="text-right">Total Items</TableHead>
10341:                   <TableHead className="text-right">Actions</TableHead>
10342:                 </TableRow>
10343:               </TableHeader>
10344:               <TableBody>
10345:                 {data.map((transfer) => (
10346:                   <TableRow key={transfer.id}>
10347:                     <TableCell className="font-medium">
10348:                       {transfer.transferNumber}
10349:                     </TableCell>
10350:                     <TableCell>{transfer.sourceWarehouse}</TableCell>
10351:                     <TableCell>{transfer.destWarehouse}</TableCell>
10352:                     <TableCell>{getStatusBadge(transfer.status)}</TableCell>
10353:                     <TableCell>
10354:                       {format(transfer.transferDate, "MMM dd, yyyy")}
10355:                     </TableCell>
10356:                     <TableCell className="text-right">
10357:                       {transfer.totalItems}
10358:                     </TableCell>
10359:                     <TableCell className="text-right">
10360:                       <div className="flex justify-end gap-2">
10361:                         <Button variant="ghost" size="icon" asChild>
10362:                           <Link href={`/transfers/${transfer.id}`}>
10363:                             <Eye className="h-4 w-4" />
10364:                           </Link>
10365:                         </Button>
10366:                         <Button variant="ghost" size="icon" asChild>
10367:                           <Link href={`/transfers/${transfer.id}/edit`}>
10368:                             <Edit className="h-4 w-4" />
10369:                           </Link>
10370:                         </Button>
10371:                         <DeleteButton
10372:                           id={transfer.id}
10373:                           name={transfer.transferNumber}
10374:                           onDelete={handleDelete}
10375:                           disabled={transfer.status === "COMPLETED" || transfer.status === "PENDING"}
10376:                           disabledReason="Cannot delete a transfer that is pending or completed."
10377:                         />
10378:                       </div>
10379:                     </TableCell>
10380:                   </TableRow>
10381:                 ))}
10382:               </TableBody>
10383:             </Table>
10384:           )}
10385:         </CardContent>
10386:       </Card>
10387:     </div>
10388:   );
10389: }
10390: ```
10391: 
10392: ## app\transfers\[id]\edit\page.tsx
10393: 
10394: - Characters: 8197
10395: - Tokens: 0
10396: 
10397: ```text
10398: "use client";
10399: 
10400: import { useState, useEffect } from "react";
10401: import { useRouter } from "next/navigation";
10402: import { useForm } from "react-hook-form";
10403: import { zodResolver } from "@hookform/resolvers/zod";
10404: import * as z from "zod";
10405: import { ArrowLeft } from "lucide-react";
10406: import Link from "next/link";
10407: 
10408: import { Button } from "@/components/ui/button";
10409: import {
10410:   Form,
10411:   FormControl,
10412:   FormDescription,
10413:   FormField,
10414:   FormItem,
10415:   FormLabel,
10416:   FormMessage,
10417: } from "@/components/ui/form";
10418: import { Input } from "@/components/ui/input";
10419: import { Textarea } from "@/components/ui/textarea";
10420: import {
10421:   Select,
10422:   SelectContent,
10423:   SelectItem,
10424:   SelectTrigger,
10425:   SelectValue,
10426: } from "@/components/ui/select";
10427: import { useToast } from "@/hooks/use-toast";
10428: import {
10429:   Card,
10430:   CardContent,
10431:   CardDescription,
10432:   CardHeader,
10433:   CardTitle,
10434: } from "@/components/ui/card";
10435: import { Skeleton } from "@/components/ui/skeleton";
10436: 
10437: // Mock warehouses data - this would normally be in a database
10438: const mockWarehouses = [
10439:   {
10440:     id: "1",
10441:     name: "Main Store",
10442:     location: "789 Main St, Retail City",
10443:     description: "Main retail location and warehouse",
10444:     totalItems: 425,
10445:     status: "Active",
10446:   },
10447:   {
10448:     id: "2",
10449:     name: "Downtown Branch",
10450:     location: "101 Downtown Ave, Retail City",
10451:     description: "Downtown retail branch",
10452:     totalItems: 175,
10453:     status: "Active",
10454:   },
10455:   {
10456:     id: "3",
10457:     name: "Mall Outlet",
10458:     location: "Westfield Mall, Shopping District",
10459:     description: "Small outlet in the shopping mall",
10460:     totalItems: 125,
10461:     status: "Active",
10462:   },
10463:   {
10464:     id: "4",
10465:     name: "Distribution Center",
10466:     location: "456 Logistics Blvd, Industrial Zone",
10467:     description: "Main distribution and storage facility",
10468:     totalItems: 1250,
10469:     status: "Active",
10470:   },
10471:   {
10472:     id: "5",
10473:     name: "Seasonal Pop-up",
10474:     location: "Beach Boulevard, Tourist Area",
10475:     description: "Seasonal location for summer collection",
10476:     totalItems: 85,
10477:     status: "Inactive",
10478:   },
10479: ];
10480: 
10481: // Create a global variable to store the updated warehouses if it doesn't exist
10482: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedWarehouses')) {
10483:   window.updatedWarehouses = [...mockWarehouses];
10484: }
10485: 
10486: // Mock transfer orders data
10487: const mockTransfers = [
10488:   {
10489:     id: "1",
10490:     transferNumber: "TR-2023-001",
10491:     sourceWarehouse: "Main Store",
10492:     sourceWarehouseId: "1",
10493:     destWarehouse: "Downtown Branch",
10494:     destWarehouseId: "2",
10495:     status: "COMPLETED",
10496:     transferDate: new Date("2023-05-20"),
10497:     notes: "Rebalancing inventory between stores",
10498:     totalItems: 35,
10499:     items: [
10500:       {
10501:         id: "1",
10502:         productId: "1",
10503:         sku: "SH-001",
10504:         name: "Cotton T-Shirt",
10505:         quantity: 20
10506:       },
10507:       {
10508:         id: "2",
10509:         productId: "2",
10510:         sku: "PA-001",
10511:         name: "Slim Fit Jeans",
10512:         quantity: 15
10513:       }
10514:     ]
10515:   },
10516:   {
10517:     id: "2",
10518:     transferNumber: "TR-2023-002",
10519:     sourceWarehouse: "Distribution Center",
10520:     sourceWarehouseId: "4",
10521:     destWarehouse: "Mall Outlet",
10522:     destWarehouseId: "3",
10523:     status: "PENDING",
10524:     transferDate: new Date("2023-06-05"),
10525:     notes: "Seasonal stock transfer",
10526:     totalItems: 48,
10527:     items: [
10528:       {
10529:         id: "3",
10530:         productId: "3",
10531:         sku: "DR-001",
10532:         name: "Summer Dress",
10533:         quantity: 25
10534:       },
10535:       {
10536:         id: "4",
10537:         productId: "4",
10538:         sku: "AC-001",
10539:         name: "Leather Belt",
10540:         quantity: 23
10541:       }
10542:     ]
10543:   },
10544:   {
10545:     id: "3",
10546:     transferNumber: "TR-2023-003",
10547:     sourceWarehouse: "Main Store",
10548:     sourceWarehouseId: "1",
10549:     destWarehouse: "Mall Outlet",
10550:     destWarehouseId: "3",
10551:     status: "DRAFT",
10552:     transferDate: new Date("2023-06-10"),
10553:     notes: "Summer collection transfer",
10554:     totalItems: 25,
10555:     items: [
10556:       {
10557:         id: "5",
10558:         productId: "5",
10559:         sku: "SH-002",
10560:         name: "Polo Shirt",
10561:         quantity: 25
10562:       }
10563:     ]
10564:   },
10565:   {
10566:     id: "4",
10567:     transferNumber: "TR-2023-004",
10568:     sourceWarehouse: "Downtown Branch",
10569:     sourceWarehouseId: "2",
10570:     destWarehouse: "Seasonal Pop-up",
10571:     destWarehouseId: "5",
10572:     status: "CANCELLED",
10573:     transferDate: new Date("2023-05-25"),
10574:     notes: "Cancelled due to store closure",
10575:     totalItems: 15,
10576:     items: [
10577:       {
10578:         id: "6",
10579:         productId: "1",
10580:         sku: "SH-001",
10581:         name: "Cotton T-Shirt",
10582:         quantity: 15
10583:       }
10584:     ]
10585:   },
10586: ];
10587: 
10588: // Create a global variable to store the updated transfers if it doesn't exist
10589: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedTransfers')) {
10590:   window.updatedTransfers = [...mockTransfers];
10591: }
10592: 
10593: const transferSchema = z.object({
10594:   status: z.enum(["DRAFT", "PENDING", "COMPLETED", "CANCELLED"]),
10595:   notes: z.string().optional(),
10596: });
10597: 
10598: type TransferFormValues = z.infer<typeof transferSchema>;
10599: 
10600: export default function EditTransferPage({ params }: { params: { id: string } }) {
10601:   const router = useRouter();
10602:   const { toast } = useToast();
10603:   const [isLoading, setIsLoading] = useState(false);
10604:   const [isFetching, setIsFetching] = useState(true);
10605:   const [transfer, setTransfer] = useState<any | null>(null);
10606:   const [activeWarehouses, setActiveWarehouses] = useState<any[]>([]);
10607: 
10608:   // Load active warehouses
10609:   useEffect(() => {
10610:     const loadWarehouses = () => {
10611:       const warehouses = typeof window !== 'undefined' ? window.updatedWarehouses : mockWarehouses;
10612:       // Only show active warehouses
10613:       const active = warehouses.filter(w => w.status === "Active");
10614:       setActiveWarehouses(active);
10615:     };
10616:     
10617:     loadWarehouses();
10618:   }, []);
10619: 
10620:   const form = useForm<TransferFormValues>({
10621:     resolver: zodResolver(transferSchema),
10622:     defaultValues: {
10623:       status: "DRAFT",
10624:       notes: "",
10625:     },
10626:   });
10627: 
10628:   useEffect(() => {
10629:     // Fetch transfer data
10630:     const fetchTransfer = async () => {
10631:       setIsFetching(true);
10632:       try {
10633:         // In a real app, this would be an API call
10634:         // const response = await fetch(`/api/transfers/${params.id}`);
10635:         // const data = await response.json();
10636:         
10637:         // Get data from our mock database
10638:         setTimeout(() => {
10639:           const transfers = typeof window !== 'undefined' ? window.updatedTransfers : mockTransfers;
10640:           const foundTransfer = transfers.find(t => t.id === params.id);
10641:           
10642:           if (foundTransfer) {
10643:             setTransfer(foundTransfer);
10644:             form.reset({
10645:               status: foundTransfer.status as any,
10646:               notes: foundTransfer.notes || "",
10647:             });
10648:           }
10649:           
10650:           setIsFetching(false);
10651:         }, 1000);
10652:       } catch (error) {
10653:         toast({
10654:           title: "Error",
10655:           description: "Failed to load transfer order details",
10656:           variant: "destructive",
10657:         });
10658:         setIsFetching(false);
10659:       }
10660:     };
10661: 
10662:     fetchTransfer();
10663:   }, [params.id, toast, form]);
10664: 
10665:   async function onSubmit(data: TransferFormValues) {
10666:     setIsLoading(true);
10667:     
10668:     try {
10669:       // In a real application, this would be an API call
10670:       // const response = await fetch(`/api/transfers/${params.id}`, {
10671:       //   method: "PUT",
10672:       //   headers: {
10673:       //     "Content-Type": "application/json",
10674:       //   },
10675:       //   body: JSON.stringify(data),
10676:       // });
10677:       
10678:       // if (!response.ok) {
10679:       //   throw new Error("Failed to update transfer order");
10680:       // }
10681:       
10682:       // Simulate API call and update our mock database
10683:       await new Promise(resolve => setTimeout(resolve, 1000));
10684:       
10685:       // Update the transfer in our mock database
10686:       if (typeof window !== 'undefined') {
10687:         const index = window.updatedTransfers.findIndex(t => t.id === params.id);
10688:         if (index !== -1) {
10689:           window.updatedTransfers[index] = {
10690:             ...window.updatedTransfers[index],
10691:             ...data
10692:           };
10693:         }
10694:       }
10695:       
10696:       toast({
10697:         title: "Transfer order updated",
10698:         description: "The transfer order has been updated successfully.",
10699:       });
10700:       
10701:       router.push(`/transfers/${params.id}`);
10702:     } catch (error) {
10703:       toast({
10704:         title: "Error",
10705:         description: error instanceof Error ? error.message : "An error occurred",
10706:         variant: "destructive",
10707:       });
10708:     }
10709:   }
10710: }
10711: ```
10712: 
10713: ## app\transfers\[id]\page.tsx
10714: 
10715: - Characters: 17323
10716: - Tokens: 0
10717: 
10718: ```text
10719: "use client";
10720: 
10721: import { useState, useEffect } from "react";
10722: import { useRouter } from "next/navigation";
10723: import Link from "next/link";
10724: import { ArrowLeft, Edit, Package, ArrowRightLeft, Truck } from "lucide-react";
10725: import { Button } from "@/components/ui/button";
10726: import {
10727:   Card,
10728:   CardContent,
10729:   CardDescription,
10730:   CardHeader,
10731:   CardTitle,
10732:   CardFooter,
10733: } from "@/components/ui/card";
10734: import {
10735:   Table,
10736:   TableBody,
10737:   TableCell,
10738:   TableHead,
10739:   TableHeader,
10740:   TableRow,
10741: } from "@/components/ui/table";
10742: import { Skeleton } from "@/components/ui/skeleton";
10743: import { Badge } from "@/components/ui/badge";
10744: import { DeleteButton } from "@/components/shared/delete-button";
10745: import { useToast } from "@/hooks/use-toast";
10746: import { format } from "date-fns";
10747: import { ProductTransferSelector } from "@/components/transfers/product-transfer-selector";
10748: import {
10749:   AlertDialog,
10750:   AlertDialogAction,
10751:   AlertDialogCancel,
10752:   AlertDialogContent,
10753:   AlertDialogDescription,
10754:   AlertDialogFooter,
10755:   AlertDialogHeader,
10756:   AlertDialogTitle,
10757:   AlertDialogTrigger,
10758: } from "@/components/ui/alert-dialog";
10759: 
10760: interface TransferOrder {
10761:   id: string;
10762:   transferNumber: string;
10763:   sourceWarehouse: string;
10764:   sourceWarehouseId: string;
10765:   destWarehouse: string;
10766:   destWarehouseId: string;
10767:   status: string;
10768:   transferDate: Date;
10769:   totalItems: number;
10770:   items: TransferItem[];
10771:   notes?: string;
10772: }
10773: 
10774: interface TransferItem {
10775:   id: string;
10776:   productId: string;
10777:   sku: string;
10778:   name: string;
10779:   quantity: number;
10780: }
10781: 
10782: // Mock transfer orders data
10783: const mockTransfers = [
10784:   {
10785:     id: "1",
10786:     transferNumber: "TR-2023-001",
10787:     sourceWarehouse: "Main Store",
10788:     sourceWarehouseId: "1",
10789:     destWarehouse: "Downtown Branch",
10790:     destWarehouseId: "2",
10791:     status: "COMPLETED",
10792:     transferDate: new Date("2023-05-20"),
10793:     notes: "Rebalancing inventory between stores",
10794:     totalItems: 35,
10795:     items: [
10796:       {
10797:         id: "1",
10798:         productId: "1",
10799:         sku: "SH-001",
10800:         name: "Cotton T-Shirt",
10801:         quantity: 20
10802:       },
10803:       {
10804:         id: "2",
10805:         productId: "2",
10806:         sku: "PA-001",
10807:         name: "Slim Fit Jeans",
10808:         quantity: 15
10809:       }
10810:     ]
10811:   },
10812:   {
10813:     id: "2",
10814:     transferNumber: "TR-2023-002",
10815:     sourceWarehouse: "Distribution Center",
10816:     sourceWarehouseId: "4",
10817:     destWarehouse: "Mall Outlet",
10818:     destWarehouseId: "3",
10819:     status: "PENDING",
10820:     transferDate: new Date("2023-06-05"),
10821:     notes: "Seasonal stock transfer",
10822:     totalItems: 48,
10823:     items: [
10824:       {
10825:         id: "3",
10826:         productId: "3",
10827:         sku: "DR-001",
10828:         name: "Summer Dress",
10829:         quantity: 25
10830:       },
10831:       {
10832:         id: "4",
10833:         productId: "4",
10834:         sku: "AC-001",
10835:         name: "Leather Belt",
10836:         quantity: 23
10837:       }
10838:     ]
10839:   },
10840:   {
10841:     id: "3",
10842:     transferNumber: "TR-2023-003",
10843:     sourceWarehouse: "Main Store",
10844:     sourceWarehouseId: "1",
10845:     destWarehouse: "Mall Outlet",
10846:     destWarehouseId: "3",
10847:     status: "DRAFT",
10848:     transferDate: new Date("2023-06-10"),
10849:     notes: "Summer collection transfer",
10850:     totalItems: 25,
10851:     items: [
10852:       {
10853:         id: "5",
10854:         productId: "5",
10855:         sku: "SH-002",
10856:         name: "Polo Shirt",
10857:         quantity: 25
10858:       }
10859:     ]
10860:   },
10861:   {
10862:     id: "4",
10863:     transferNumber: "TR-2023-004",
10864:     sourceWarehouse: "Downtown Branch",
10865:     sourceWarehouseId: "2",
10866:     destWarehouse: "Seasonal Pop-up",
10867:     destWarehouseId: "5",
10868:     status: "CANCELLED",
10869:     transferDate: new Date("2023-05-25"),
10870:     notes: "Cancelled due to store closure",
10871:     totalItems: 15,
10872:     items: [
10873:       {
10874:         id: "6",
10875:         productId: "1",
10876:         sku: "SH-001",
10877:         name: "Cotton T-Shirt",
10878:         quantity: 15
10879:       }
10880:     ]
10881:   },
10882: ];
10883: 
10884: // Create a global variable to store the updated transfers if it doesn't exist
10885: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedTransfers')) {
10886:   window.updatedTransfers = [...mockTransfers];
10887: }
10888: 
10889: export default function TransferDetailsPage({ params }: { params: { id: string } }) {
10890:   const router = useRouter();
10891:   const { toast } = useToast();
10892:   const [transfer, setTransfer] = useState<TransferOrder | null>(null);
10893:   const [isLoading, setIsLoading] = useState(true);
10894:   const [items, setItems] = useState<TransferItem[]>([]);
10895:   const [isEditable, setIsEditable] = useState(false);
10896: 
10897:   useEffect(() => {
10898:     // Fetch transfer order details
10899:     const fetchTransfer = async () => {
10900:       setIsLoading(true);
10901:       try {
10902:         // Get data from our mock database
10903:         setTimeout(() => {
10904:           const transfers = typeof window !== 'undefined' ? window.updatedTransfers : mockTransfers;
10905:           const foundTransfer = transfers.find(t => t.id === params.id);
10906:           
10907:           if (foundTransfer) {
10908:             setTransfer(foundTransfer);
10909:             setItems(foundTransfer.items || []);
10910:             
10911:             // Determine if the transfer order is editable
10912:             setIsEditable(foundTransfer.status === "DRAFT");
10913:           } else {
10914:             // Set empty arrays if transfer not found to avoid undefined errors
10915:             setItems([]);
10916:           }
10917:           
10918:           setIsLoading(false);
10919:         }, 1000);
10920:       } catch (error) {
10921:         console.error("Error fetching transfer details:", error);
10922:         toast({
10923:           title: "Error",
10924:           description: "Failed to load transfer order details",
10925:           variant: "destructive",
10926:         });
10927:         setIsLoading(false);
10928:         // Initialize empty arrays on error to avoid undefined errors
10929:         setItems([]);
10930:       }
10931:     };
10932: 
10933:     fetchTransfer();
10934:   }, [params.id, toast]);
10935: 
10936:   const handleDelete = async (id: string) => {
10937:     // Simulate API call to delete transfer order
10938:     return new Promise<void>((resolve, reject) => {
10939:       setTimeout(() => {
10940:         // In a real app, this would be an API call
10941:         // const response = await fetch(`/api/transfers/${id}`, { method: 'DELETE' });
10942:         // if (!response.ok) throw new Error('Failed to delete transfer');
10943:         
10944:         if (transfer?.status === "COMPLETED" || transfer?.status === "PENDING") {
10945:           reject(new Error("Cannot delete a transfer that is pending or completed."));
10946:         } else {
10947:           // Update our mock database
10948:           if (typeof window !== 'undefined') {
10949:             window.updatedTransfers = window.updatedTransfers.filter(t => t.id !== id);
10950:           }
10951:           
10952:           router.push("/transfers");
10953:           resolve();
10954:         }
10955:       }, 1000);
10956:     });
10957:   };
10958: 
10959:   const handleProductsSelected = (newItems: TransferItem[]) => {
10960:     // Merge with existing items, avoiding duplicates by product ID
10961:     const existingProductIds = new Set(items.map(item => item.productId));
10962:     const filteredNewItems = newItems.filter(item => !existingProductIds.has(item.productId));
10963:     
10964:     const updatedItems = [...items, ...filteredNewItems];
10965:     setItems(updatedItems);
10966:     
10967:     // Update the transfer order in our mock database
10968:     updateTransferOrder(updatedItems);
10969:   };
10970: 
10971:   const updateTransferOrder = (updatedItems: TransferItem[], status?: string) => {
10972:     if (!transfer) return;
10973:     
10974:     // Calculate total items
10975:     const totalItems = updatedItems.reduce((sum, item) => sum + item.quantity, 0);
10976:     
10977:     // Create the updated transfer order
10978:     const updatedTransfer = {
10979:       ...transfer,
10980:       items: updatedItems,
10981:       totalItems,
10982:       status: status || transfer.status
10983:     };
10984:     
10985:     // Update the state
10986:     setTransfer(updatedTransfer);
10987:     setItems(updatedItems);
10988:     
10989:     // Update our mock database
10990:     if (typeof window !== 'undefined') {
10991:       const index = window.updatedTransfers.findIndex(t => t.id === transfer.id);
10992:       if (index !== -1) {
10993:         window.updatedTransfers[index] = updatedTransfer;
10994:       }
10995:     }
10996:     
10997:     toast({
10998:       title: "Transfer order updated",
10999:       description: "The transfer order has been updated successfully.",
11000:     });
11001:   };
11002: 
11003:   const handleCompleteTransfer = () => {
11004:     updateTransferOrder(items, "COMPLETED");
11005:   };
11006: 
11007:   const getStatusBadge = (status: string) => {
11008:     switch (status) {
11009:       case "COMPLETED":
11010:         return <Badge className="bg-emerald-500">Completed</Badge>;
11011:       case "PENDING":
11012:         return <Badge className="bg-blue-500">Pending</Badge>;
11013:       case "DRAFT":
11014:         return <Badge variant="outline">Draft</Badge>;
11015:       case "CANCELLED":
11016:         return <Badge variant="destructive">Cancelled</Badge>;
11017:       default:
11018:         return <Badge variant="outline">{status}</Badge>;
11019:     }
11020:   };
11021: 
11022:   // Safely check if transfer can be completed
11023:   const canCompleteTransfer = transfer?.status === "PENDING" || 
11024:     (transfer?.status === "DRAFT" && items && items.length > 0);
11025: 
11026:   return (
11027:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
11028:       <div className="flex items-center justify-between">
11029:         <div className="flex items-center gap-2">
11030:           <Button variant="ghost" size="icon" asChild>
11031:             <Link href="/transfers">
11032:               <ArrowLeft className="h-4 w-4" />
11033:             </Link>
11034:           </Button>
11035:           <h1 className="text-3xl font-bold tracking-tight">
11036:             {isLoading ? <Skeleton className="h-9 w-40" /> : transfer?.transferNumber}
11037:           </h1>
11038:         </div>
11039:         
11040:         <div className="flex items-center gap-2">
11041:           {!isLoading && transfer && (
11042:             <>
11043:               <Button variant="outline" size="sm" asChild>
11044:                 <Link href={`/transfers/${params.id}/edit`}>
11045:                   <Edit className="mr-2 h-4 w-4" />
11046:                   Edit
11047:                 </Link>
11048:               </Button>
11049:               
11050:               <DeleteButton
11051:                 id={params.id}
11052:                 name={transfer.transferNumber}
11053:                 onDelete={handleDelete}
11054:                 disabled={transfer.status === "COMPLETED" || transfer.status === "PENDING"}
11055:                 disabledReason="Cannot delete a transfer that is pending or completed."
11056:               />
11057:             </>
11058:           )}
11059:         </div>
11060:       </div>
11061:       
11062:       {isLoading ? (
11063:         <Card>
11064:           <CardHeader>
11065:             <Skeleton className="h-7 w-40 mb-2" />
11066:             <Skeleton className="h-5 w-60" />
11067:           </CardHeader>
11068:           <CardContent className="space-y-4">
11069:             <Skeleton className="h-5 w-full" />
11070:             <Skeleton className="h-5 w-3/4" />
11071:             <Skeleton className="h-5 w-1/2" />
11072:           </CardContent>
11073:         </Card>
11074:       ) : transfer ? (
11075:         <>
11076:           <Card>
11077:             <CardHeader>
11078:               <CardTitle className="flex items-center justify-between">
11079:                 Transfer Details
11080:                 {getStatusBadge(transfer.status)}
11081:               </CardTitle>
11082:               <CardDescription>
11083:                 Detailed information about this inventory transfer
11084:               </CardDescription>
11085:             </CardHeader>
11086:             <CardContent className="space-y-6">
11087:               <div className="flex items-center justify-between p-4 bg-muted/30 rounded-lg">
11088:                 <div className="text-center">
11089:                   <h3 className="text-sm font-medium text-muted-foreground">From</h3>
11090:                   <p className="text-base font-medium">{transfer.sourceWarehouse}</p>
11091:                 </div>
11092:                 
11093:                 <ArrowRightLeft className="h-6 w-6 text-muted-foreground" />
11094:                 
11095:                 <div className="text-center">
11096:                   <h3 className="text-sm font-medium text-muted-foreground">To</h3>
11097:                   <p className="text-base font-medium">{transfer.destWarehouse}</p>
11098:                 </div>
11099:               </div>
11100:               
11101:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
11102:                 <div>
11103:                   <h3 className="text-sm font-medium text-muted-foreground">Transfer Date</h3>
11104:                   <p className="text-base">{format(transfer.transferDate, "MMM dd, yyyy")}</p>
11105:                 </div>
11106:                 <div>
11107:                   <h3 className="text-sm font-medium text-muted-foreground">Total Items</h3>
11108:                   <p className="text-base">{transfer.totalItems}</p>
11109:                 </div>
11110:               </div>
11111:               
11112:               {transfer.notes && (
11113:                 <div>
11114:                   <h3 className="text-sm font-medium text-muted-foreground">Notes</h3>
11115:                   <p className="text-base">{transfer.notes}</p>
11116:                 </div>
11117:               )}
11118:             </CardContent>
11119:           </Card>
11120:           
11121:           <Card>
11122:             <CardHeader className="flex flex-row items-center justify-between">
11123:               <div>
11124:                 <CardTitle className="flex items-center">
11125:                   <Package className="mr-2 h-5 w-5" />
11126:                   Transfer Items
11127:                 </CardTitle>
11128:                 <CardDescription>
11129:                   Products included in this transfer
11130:                 </CardDescription>
11131:               </div>
11132:               
11133:               {isEditable && (
11134:                 <ProductTransferSelector 
11135:                   onProductsSelected={handleProductsSelected}
11136:                   existingItems={items}
11137:                   sourceWarehouseId={transfer.sourceWarehouseId}
11138:                 />
11139:               )}
11140:             </CardHeader>
11141:             <CardContent>
11142:               {items && items.length > 0 ? (
11143:                 <Table>
11144:                   <TableHeader>
11145:                     <TableRow>
11146:                       <TableHead>SKU</TableHead>
11147:                       <TableHead>Product</TableHead>
11148:                       <TableHead className="text-right">Quantity</TableHead>
11149:                       <TableHead className="text-right">Actions</TableHead>
11150:                     </TableRow>
11151:                   </TableHeader>
11152:                   <TableBody>
11153:                     {items.map((item) => (
11154:                       <TableRow key={item.id}>
11155:                         <TableCell className="font-medium">{item.sku}</TableCell>
11156:                         <TableCell>{item.name}</TableCell>
11157:                         <TableCell className="text-right">{item.quantity}</TableCell>
11158:                         <TableCell className="text-right">
11159:                           <Button variant="ghost" size="sm" asChild>
11160:                             <Link href={`/products/${item.productId}`}>View Product</Link>
11161:                           </Button>
11162:                         </TableCell>
11163:                       </TableRow>
11164:                     ))}
11165:                   </TableBody>
11166:                 </Table>
11167:               ) : (
11168:                 <div className="text-center py-8 text-muted-foreground">
11169:                   {isEditable ? (
11170:                     <div className="flex flex-col items-center">
11171:                       <p className="mb-4">No items have been added to this transfer yet.</p>
11172:                       <ProductTransferSelector 
11173:                         onProductsSelected={handleProductsSelected}
11174:                         sourceWarehouseId={transfer.sourceWarehouseId}
11175:                       />
11176:                     </div>
11177:                   ) : (
11178:                     "No items in this transfer"
11179:                   )}
11180:                 </div>
11181:               )}
11182:             </CardContent>
11183:             {canCompleteTransfer && (
11184:               <CardFooter className="flex justify-end">
11185:                 <AlertDialog>
11186:                   <AlertDialogTrigger asChild>
11187:                     <Button>
11188:                       <Truck className="mr-2 h-4 w-4" />
11189:                       {transfer.status === "DRAFT" ? "Start Transfer" : "Complete Transfer"}
11190:                     </Button>
11191:                   </AlertDialogTrigger>
11192:                   <AlertDialogContent>
11193:                     <AlertDialogHeader>
11194:                       <AlertDialogTitle>
11195:                         {transfer.status === "DRAFT" ? "Start Transfer" : "Complete Transfer"}
11196:                       </AlertDialogTitle>
11197:                       <AlertDialogDescription>
11198:                         {transfer.status === "DRAFT" 
11199:                           ? "This will mark the transfer as pending. Items will be reserved for transfer."
11200:                           : "This will complete the transfer. Items will be moved from the source to the destination warehouse."}
11201:                       </AlertDialogDescription>
11202:                     </AlertDialogHeader>
11203:                     <AlertDialogFooter>
11204:                       <AlertDialogCancel>Cancel</AlertDialogCancel>
11205:                       <AlertDialogAction onClick={() => {
11206:                         if (transfer.status === "DRAFT") {
11207:                           updateTransferOrder(items, "PENDING");
11208:                         } else {
11209:                           handleCompleteTransfer();
11210:                         }
11211:                       }}>
11212:                         Confirm
11213:                       </AlertDialogAction>
11214:                     </AlertDialogFooter>
11215:                   </AlertDialogContent>
11216:                 </AlertDialog>
11217:               </CardFooter>
11218:             )}
11219:           </Card>
11220:         </>
11221:       ) : (
11222:         <Card>
11223:           <CardContent className="flex flex-col items-center justify-center py-10">
11224:             <h2 className="text-xl font-semibold mb-2">Transfer Not Found</h2>
11225:             <p className="text-muted-foreground mb-4">
11226:               The transfer you're looking for doesn't exist or has been removed.
11227:             </p>
11228:             <Button asChild>
11229:               <Link href="/transfers">Back to Transfers</Link>
11230:             </Button>
11231:           </CardContent>
11232:         </Card>
11233:       )}
11234:     </div>
11235:   );
11236: }
11237: ```
11238: 
11239: ## app\users\layout.tsx
11240: 
11241: - Characters: 2097
11242: - Tokens: 0
11243: 
11244: ```text
11245: "use client";
11246: 
11247: import { useEffect, useState } from "react";
11248: import { useRouter, usePathname } from "next/navigation";
11249: import { Sidebar } from "@/components/layout/sidebar";
11250: import { Header } from "@/components/layout/header";
11251: import { useAuth } from "@/hooks/use-auth";
11252: import { Loader2 } from "lucide-react";
11253: 
11254: export default function UsersLayout({
11255:   children,
11256: }: {
11257:   children: React.ReactNode;
11258: }) {
11259:   const { user } = useAuth();
11260:   const router = useRouter();
11261:   const pathname = usePathname();
11262:   const [isLoading, setIsLoading] = useState(true);
11263:   const [currentPath, setCurrentPath] = useState(pathname);
11264:   const [isTransitioning, setIsTransitioning] = useState(false);
11265:   
11266:   // Handle authentication check
11267:   useEffect(() => {
11268:     if (!user) {
11269:       router.push("/login");
11270:     } else {
11271:       // Simulate loading delay
11272:       const timer = setTimeout(() => {
11273:         setIsLoading(false);
11274:       }, 500);
11275:       
11276:       return () => clearTimeout(timer);
11277:     }
11278:   }, [user, router]);
11279:   
11280:   // Handle route transitions
11281:   useEffect(() => {
11282:     if (pathname !== currentPath) {
11283:       setIsTransitioning(true);
11284:       
11285:       // Short delay to allow transition to complete
11286:       const timer = setTimeout(() => {
11287:         setCurrentPath(pathname);
11288:         setIsTransitioning(false);
11289:       }, 300);
11290:       
11291:       return () => clearTimeout(timer);
11292:     }
11293:   }, [pathname, currentPath]);
11294:   
11295:   if (!user || isLoading) {
11296:     return (
11297:       <div className="flex min-h-screen items-center justify-center">
11298:         <div className="flex flex-col items-center space-y-4">
11299:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
11300:           <p className="text-lg font-medium">Loading...</p>
11301:         </div>
11302:       </div>
11303:     );
11304:   }
11305:   
11306:   return (
11307:     <div className="flex min-h-screen">
11308:       <div className="hidden md:block">
11309:         <Sidebar />
11310:       </div>
11311:       <div className="flex flex-col flex-1">
11312:         <Header />
11313:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
11314:           {children}
11315:         </main>
11316:       </div>
11317:     </div>
11318:   );
11319: }
11320: ```
11321: 
11322: ## app\users\page.tsx
11323: 
11324: - Characters: 5742
11325: - Tokens: 0
11326: 
11327: ```text
11328: "use client";
11329: 
11330: import Link from "next/link";
11331: import { Plus } from "lucide-react";
11332: import { Button } from "@/components/ui/button";
11333: import {
11334:   Card,
11335:   CardContent,
11336:   CardDescription,
11337:   CardHeader,
11338:   CardTitle,
11339: } from "@/components/ui/card";
11340: import {
11341:   Table,
11342:   TableBody,
11343:   TableCell,
11344:   TableHead,
11345:   TableHeader,
11346:   TableRow,
11347: } from "@/components/ui/table";
11348: import { Badge } from "@/components/ui/badge";
11349: import { format } from "date-fns";
11350: import { useState, useEffect } from "react";
11351: import { Skeleton } from "@/components/ui/skeleton";
11352: import { UserRole } from "@prisma/client";
11353: import { useAuth } from "@/hooks/use-auth";
11354: 
11355: // Sample data for demonstration
11356: const users = [
11357:   {
11358:     id: "1",
11359:     name: "System Admin",
11360:     email: "admin@example.com",
11361:     role: UserRole.ROOT,
11362:     lastActive: new Date(),
11363:     status: "Active",
11364:   },
11365:   {
11366:     id: "2",
11367:     name: "Admin User",
11368:     email: "admin2@example.com",
11369:     role: UserRole.ADMIN,
11370:     lastActive: new Date(Date.now() - 86400000), // 1 day ago
11371:     status: "Active",
11372:   },
11373:   {
11374:     id: "3",
11375:     name: "Manager User",
11376:     email: "manager@example.com",
11377:     role: UserRole.MANAGER,
11378:     lastActive: new Date(Date.now() - 172800000), // 2 days ago
11379:     status: "Active",
11380:   },
11381:   {
11382:     id: "4",
11383:     name: "Staff User",
11384:     email: "staff@example.com",
11385:     role: UserRole.STAFF,
11386:     lastActive: new Date(Date.now() - 259200000), // 3 days ago
11387:     status: "Active",
11388:   },
11389:   {
11390:     id: "5",
11391:     name: "Inactive User",
11392:     email: "inactive@example.com",
11393:     role: UserRole.STAFF,
11394:     lastActive: new Date(Date.now() - 2592000000), // 30 days ago
11395:     status: "Inactive",
11396:   },
11397: ];
11398: 
11399: const getRoleBadge = (role: UserRole) => {
11400:   switch (role) {
11401:     case UserRole.ROOT:
11402:       return <Badge className="bg-purple-500">Root</Badge>;
11403:     case UserRole.ADMIN:
11404:       return <Badge className="bg-blue-500">Admin</Badge>;
11405:     case UserRole.MANAGER:
11406:       return <Badge className="bg-green-500">Manager</Badge>;
11407:     case UserRole.STAFF:
11408:       return <Badge className="bg-gray-500">Staff</Badge>;
11409:     default:
11410:       return <Badge variant="outline">{role}</Badge>;
11411:   }
11412: };
11413: 
11414: export default function UsersPage() {
11415:   const [isLoading, setIsLoading] = useState(true);
11416:   const { user: currentUser } = useAuth();
11417: 
11418:   useEffect(() => {
11419:     // Simulate data loading
11420:     const timer = setTimeout(() => {
11421:       setIsLoading(false);
11422:     }, 1000);
11423:     
11424:     return () => clearTimeout(timer);
11425:   }, []);
11426: 
11427:   // Check if current user has permission to view this page
11428:   const hasPermission = currentUser && (currentUser.role === UserRole.ROOT || currentUser.role === UserRole.ADMIN);
11429: 
11430:   if (!hasPermission) {
11431:     return (
11432:       <div className="flex flex-col gap-4 animate-in fade-in duration-500">
11433:         <h1 className="text-3xl font-bold tracking-tight">Users</h1>
11434:         <Card>
11435:           <CardContent className="pt-6">
11436:             <div className="flex flex-col items-center justify-center py-12">
11437:               <h2 className="text-xl font-semibold mb-2">Access Denied</h2>
11438:               <p className="text-muted-foreground">
11439:                 You don't have permission to view this page.
11440:               </p>
11441:             </div>
11442:           </CardContent>
11443:         </Card>
11444:       </div>
11445:     );
11446:   }
11447: 
11448:   return (
11449:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
11450:       <div className="flex items-center justify-between">
11451:         <h1 className="text-3xl font-bold tracking-tight">Users</h1>
11452:         <Button asChild>
11453:           <Link href="/users/new">
11454:             <Plus className="mr-2 h-4 w-4" />
11455:             Add User
11456:           </Link>
11457:         </Button>
11458:       </div>
11459:       
11460:       <Card>
11461:         <CardHeader>
11462:           <CardTitle>User Management</CardTitle>
11463:           <CardDescription>
11464:             Manage system users and their permissions
11465:           </CardDescription>
11466:         </CardHeader>
11467:         <CardContent>
11468:           {isLoading ? (
11469:             <div className="space-y-2">
11470:               <Skeleton className="h-10 w-full" />
11471:               <Skeleton className="h-10 w-full" />
11472:               <Skeleton className="h-10 w-full" />
11473:               <Skeleton className="h-10 w-full" />
11474:               <Skeleton className="h-10 w-full" />
11475:             </div>
11476:           ) : (
11477:             <Table>
11478:               <TableHeader>
11479:                 <TableRow>
11480:                   <TableHead>Name</TableHead>
11481:                   <TableHead>Email</TableHead>
11482:                   <TableHead>Role</TableHead>
11483:                   <TableHead>Last Active</TableHead>
11484:                   <TableHead>Status</TableHead>
11485:                   <TableHead className="text-right">Actions</TableHead>
11486:                 </TableRow>
11487:               </TableHeader>
11488:               <TableBody>
11489:                 {users.map((user) => (
11490:                   <TableRow key={user.id}>
11491:                     <TableCell className="font-medium">{user.name}</TableCell>
11492:                     <TableCell>{user.email}</TableCell>
11493:                     <TableCell>{getRoleBadge(user.role)}</TableCell>
11494:                     <TableCell>{format(user.lastActive, "MMM dd, yyyy")}</TableCell>
11495:                     <TableCell>
11496:                       {user.status === "Active" ? (
11497:                         <Badge className="bg-emerald-500">Active</Badge>
11498:                       ) : (
11499:                         <Badge variant="outline">Inactive</Badge>
11500:                       )}
11501:                     </TableCell>
11502:                     <TableCell className="text-right">
11503:                       <Button variant="ghost" size="sm" asChild>
11504:                         <Link href={`/users/${user.id}`}>View</Link>
11505:                       </Button>
11506:                     </TableCell>
11507:                   </TableRow>
11508:                 ))}
11509:               </TableBody>
11510:             </Table>
11511:           )}
11512:         </CardContent>
11513:       </Card>
11514:     </div>
11515:   );
11516: }
11517: ```
11518: 
11519: ## app\warehouses\layout.tsx
11520: 
11521: - Characters: 2102
11522: - Tokens: 0
11523: 
11524: ```text
11525: "use client";
11526: 
11527: import { useEffect, useState } from "react";
11528: import { useRouter, usePathname } from "next/navigation";
11529: import { Sidebar } from "@/components/layout/sidebar";
11530: import { Header } from "@/components/layout/header";
11531: import { useAuth } from "@/hooks/use-auth";
11532: import { Loader2 } from "lucide-react";
11533: 
11534: export default function WarehousesLayout({
11535:   children,
11536: }: {
11537:   children: React.ReactNode;
11538: }) {
11539:   const { user } = useAuth();
11540:   const router = useRouter();
11541:   const pathname = usePathname();
11542:   const [isLoading, setIsLoading] = useState(true);
11543:   const [currentPath, setCurrentPath] = useState(pathname);
11544:   const [isTransitioning, setIsTransitioning] = useState(false);
11545:   
11546:   // Handle authentication check
11547:   useEffect(() => {
11548:     if (!user) {
11549:       router.push("/login");
11550:     } else {
11551:       // Simulate loading delay
11552:       const timer = setTimeout(() => {
11553:         setIsLoading(false);
11554:       }, 500);
11555:       
11556:       return () => clearTimeout(timer);
11557:     }
11558:   }, [user, router]);
11559:   
11560:   // Handle route transitions
11561:   useEffect(() => {
11562:     if (pathname !== currentPath) {
11563:       setIsTransitioning(true);
11564:       
11565:       // Short delay to allow transition to complete
11566:       const timer = setTimeout(() => {
11567:         setCurrentPath(pathname);
11568:         setIsTransitioning(false);
11569:       }, 300);
11570:       
11571:       return () => clearTimeout(timer);
11572:     }
11573:   }, [pathname, currentPath]);
11574:   
11575:   if (!user || isLoading) {
11576:     return (
11577:       <div className="flex min-h-screen items-center justify-center">
11578:         <div className="flex flex-col items-center space-y-4">
11579:           <Loader2 className="h-12 w-12 animate-spin text-primary" />
11580:           <p className="text-lg font-medium">Loading...</p>
11581:         </div>
11582:       </div>
11583:     );
11584:   }
11585:   
11586:   return (
11587:     <div className="flex min-h-screen">
11588:       <div className="hidden md:block">
11589:         <Sidebar />
11590:       </div>
11591:       <div className="flex flex-col flex-1">
11592:         <Header />
11593:         <main className={`flex-1 p-4 md:p-6 transition-opacity duration-300 ${isTransitioning ? 'opacity-50' : 'opacity-100'}`}>
11594:           {children}
11595:         </main>
11596:       </div>
11597:     </div>
11598:   );
11599: }
11600: ```
11601: 
11602: ## app\warehouses\new\page.tsx
11603: 
11604: - Characters: 8207
11605: - Tokens: 0
11606: 
11607: ```text
11608: "use client";
11609: 
11610: import { useState } from "react";
11611: import { useRouter } from "next/navigation";
11612: import { useForm } from "react-hook-form";
11613: import { zodResolver } from "@hookform/resolvers/zod";
11614: import * as z from "zod";
11615: import { ArrowLeft } from "lucide-react";
11616: import Link from "next/link";
11617: 
11618: import { Button } from "@/components/ui/button";
11619: import {
11620:   Form,
11621:   FormControl,
11622:   FormDescription,
11623:   FormField,
11624:   FormItem,
11625:   FormLabel,
11626:   FormMessage,
11627: } from "@/components/ui/form";
11628: import { Input } from "@/components/ui/input";
11629: import { Textarea } from "@/components/ui/textarea";
11630: import {
11631:   Select,
11632:   SelectContent,
11633:   SelectItem,
11634:   SelectTrigger,
11635:   SelectValue,
11636: } from "@/components/ui/select";
11637: import { useToast } from "@/hooks/use-toast";
11638: import {
11639:   Card,
11640:   CardContent,
11641:   CardDescription,
11642:   CardHeader,
11643:   CardTitle,
11644: } from "@/components/ui/card";
11645: 
11646: // Mock warehouses data - this would normally be in a database
11647: const mockWarehouses = [
11648:   {
11649:     id: "1",
11650:     name: "Main Store",
11651:     location: "789 Main St, Retail City",
11652:     description: "Main retail location and warehouse",
11653:     totalItems: 425,
11654:     status: "Active",
11655:   },
11656:   {
11657:     id: "2",
11658:     name: "Downtown Branch",
11659:     location: "101 Downtown Ave, Retail City",
11660:     description: "Downtown retail branch",
11661:     totalItems: 175,
11662:     status: "Active",
11663:   },
11664:   {
11665:     id: "3",
11666:     name: "Mall Outlet",
11667:     location: "Westfield Mall, Shopping District",
11668:     description: "Small outlet in the shopping mall",
11669:     totalItems: 125,
11670:     status: "Active",
11671:   },
11672:   {
11673:     id: "4",
11674:     name: "Distribution Center",
11675:     location: "456 Logistics Blvd, Industrial Zone",
11676:     description: "Main distribution and storage facility",
11677:     totalItems: 1250,
11678:     status: "Active",
11679:   },
11680:   {
11681:     id: "5",
11682:     name: "Seasonal Pop-up",
11683:     location: "Beach Boulevard, Tourist Area",
11684:     description: "Seasonal location for summer collection",
11685:     totalItems: 85,
11686:     status: "Inactive",
11687:   },
11688: ];
11689: 
11690: // Create a global variable to store the updated warehouses if it doesn't exist
11691: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedWarehouses')) {
11692:   window.updatedWarehouses = [...mockWarehouses];
11693: }
11694: 
11695: const warehouseSchema = z.object({
11696:   name: z.string().min(2, { message: "Name must be at least 2 characters" }),
11697:   location: z.string().min(2, { message: "Location must be at least 2 characters" }),
11698:   description: z.string().optional(),
11699:   status: z.enum(["Active", "Inactive"]),
11700: });
11701: 
11702: type WarehouseFormValues = z.infer<typeof warehouseSchema>;
11703: 
11704: export default function NewWarehousePage() {
11705:   const router = useRouter();
11706:   const { toast } = useToast();
11707:   const [isLoading, setIsLoading] = useState(false);
11708: 
11709:   const form = useForm<WarehouseFormValues>({
11710:     resolver: zodResolver(warehouseSchema),
11711:     defaultValues: {
11712:       name: "",
11713:       location: "",
11714:       description: "",
11715:       status: "Active",
11716:     },
11717:   });
11718: 
11719:   async function onSubmit(data: WarehouseFormValues) {
11720:     setIsLoading(true);
11721:     
11722:     try {
11723:       // In a real application, this would be an API call
11724:       // const response = await fetch("/api/warehouses", {
11725:       //   method: "POST",
11726:       //   headers: {
11727:       //     "Content-Type": "application/json",
11728:       //   },
11729:       //   body: JSON.stringify(data),
11730:       // });
11731:       
11732:       // if (!response.ok) {
11733:       //   throw new Error("Failed to create warehouse");
11734:       // }
11735:       
11736:       // Simulate API call and update our mock database
11737:       await new Promise(resolve => setTimeout(resolve, 1000));
11738:       
11739:       // Create a new warehouse with a unique ID
11740:       const newWarehouse = {
11741:         id: `${Date.now()}`, // Generate a unique ID
11742:         ...data,
11743:         totalItems: 0, // New warehouses start with 0 items
11744:       };
11745:       
11746:       // Add the new warehouse to our mock database
11747:       if (typeof window !== 'undefined') {
11748:         window.updatedWarehouses = [...window.updatedWarehouses, newWarehouse];
11749:       }
11750:       
11751:       toast({
11752:         title: "Warehouse created",
11753:         description: "The warehouse has been created successfully.",
11754:       });
11755:       
11756:       router.push("/warehouses");
11757:     } catch (error) {
11758:       toast({
11759:         title: "Error",
11760:         description: error instanceof Error ? error.message : "An error occurred",
11761:         variant: "destructive",
11762:       });
11763:     } finally {
11764:       setIsLoading(false);
11765:     }
11766:   }
11767: 
11768:   return (
11769:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
11770:       <div className="flex items-center gap-2">
11771:         <Button variant="ghost" size="icon" asChild>
11772:           <Link href="/warehouses">
11773:             <ArrowLeft className="h-4 w-4" />
11774:           </Link>
11775:         </Button>
11776:         <h1 className="text-3xl font-bold tracking-tight">Add New Warehouse</h1>
11777:       </div>
11778:       
11779:       <Card>
11780:         <CardHeader>
11781:           <CardTitle>Warehouse Information</CardTitle>
11782:           <CardDescription>
11783:             Enter the details for the new warehouse
11784:           </CardDescription>
11785:         </CardHeader>
11786:         <CardContent>
11787:           <Form {...form}>
11788:             <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
11789:               <FormField
11790:                 control={form.control}
11791:                 name="name"
11792:                 render={({ field }) => (
11793:                   <FormItem>
11794:                     <FormLabel>Name</FormLabel>
11795:                     <FormControl>
11796:                       <Input placeholder="Warehouse Name" {...field} />
11797:                     </FormControl>
11798:                     <FormMessage />
11799:                   </FormItem>
11800:                 )}
11801:               />
11802:               
11803:               <FormField
11804:                 control={form.control}
11805:                 name="location"
11806:                 render={({ field }) => (
11807:                   <FormItem>
11808:                     <FormLabel>Location</FormLabel>
11809:                     <FormControl>
11810:                       <Input placeholder="Warehouse Location" {...field} />
11811:                     </FormControl>
11812:                     <FormDescription>
11813:                       The physical address or location of this warehouse
11814:                     </FormDescription>
11815:                     <FormMessage />
11816:                   </FormItem>
11817:                 )}
11818:               />
11819:               
11820:               <FormField
11821:                 control={form.control}
11822:                 name="description"
11823:                 render={({ field }) => (
11824:                   <FormItem>
11825:                     <FormLabel>Description</FormLabel>
11826:                     <FormControl>
11827:                       <Textarea
11828:                         placeholder="Warehouse description..."
11829:                         {...field}
11830:                       />
11831:                     </FormControl>
11832:                     <FormMessage />
11833:                   </FormItem>
11834:                 )}
11835:               />
11836:               
11837:               <FormField
11838:                 control={form.control}
11839:                 name="status"
11840:                 render={({ field }) => (
11841:                   <FormItem>
11842:                     <FormLabel>Status</FormLabel>
11843:                     <Select
11844:                       onValueChange={field.onChange}
11845:                       defaultValue={field.value}
11846:                     >
11847:                       <FormControl>
11848:                         <SelectTrigger>
11849:                           <SelectValue placeholder="Select status" />
11850:                         </SelectTrigger>
11851:                       </FormControl>
11852:                       <SelectContent>
11853:                         <SelectItem value="Active">Active</SelectItem>
11854:                         <SelectItem value="Inactive">Inactive</SelectItem>
11855:                       </SelectContent>
11856:                     </Select>
11857:                     <FormMessage />
11858:                   </FormItem>
11859:                 )}
11860:               />
11861:               
11862:               <div className="flex justify-end space-x-2">
11863:                 <Button
11864:                   variant="outline"
11865:                   onClick={() => router.push("/warehouses")}
11866:                   type="button"
11867:                 >
11868:                   Cancel
11869:                 </Button>
11870:                 <Button type="submit" disabled={isLoading}>
11871:                   {isLoading ? "Creating..." : "Create Warehouse"}
11872:                 </Button>
11873:               </div>
11874:             </form>
11875:           </Form>
11876:         </CardContent>
11877:       </Card>
11878:     </div>
11879:   );
11880: }
11881: ```
11882: 
11883: ## app\warehouses\page.tsx
11884: 
11885: - Characters: 6661
11886: - Tokens: 0
11887: 
11888: ```text
11889: "use client";
11890: 
11891: import Link from "next/link";
11892: import { Plus, Edit, Eye } from "lucide-react";
11893: import { Button } from "@/components/ui/button";
11894: import {
11895:   Card,
11896:   CardContent,
11897:   CardDescription,
11898:   CardHeader,
11899:   CardTitle,
11900: } from "@/components/ui/card";
11901: import {
11902:   Table,
11903:   TableBody,
11904:   TableCell,
11905:   TableHead,
11906:   TableHeader,
11907:   TableRow,
11908: } from "@/components/ui/table";
11909: import { Badge } from "@/components/ui/badge";
11910: import { useState, useEffect } from "react";
11911: import { Skeleton } from "@/components/ui/skeleton";
11912: import { DeleteButton } from "@/components/shared/delete-button";
11913: import { useToast } from "@/hooks/use-toast";
11914: 
11915: // Mock warehouses data - this would normally be in a database
11916: const mockWarehouses = [
11917:   {
11918:     id: "1",
11919:     name: "Main Store",
11920:     location: "789 Main St, Retail City",
11921:     description: "Main retail location and warehouse",
11922:     totalItems: 425,
11923:     status: "Active",
11924:   },
11925:   {
11926:     id: "2",
11927:     name: "Downtown Branch",
11928:     location: "101 Downtown Ave, Retail City",
11929:     description: "Downtown retail branch",
11930:     totalItems: 175,
11931:     status: "Active",
11932:   },
11933:   {
11934:     id: "3",
11935:     name: "Mall Outlet",
11936:     location: "Westfield Mall, Shopping District",
11937:     description: "Small outlet in the shopping mall",
11938:     totalItems: 125,
11939:     status: "Active",
11940:   },
11941:   {
11942:     id: "4",
11943:     name: "Distribution Center",
11944:     location: "456 Logistics Blvd, Industrial Zone",
11945:     description: "Main distribution and storage facility",
11946:     totalItems: 1250,
11947:     status: "Active",
11948:   },
11949:   {
11950:     id: "5",
11951:     name: "Seasonal Pop-up",
11952:     location: "Beach Boulevard, Tourist Area",
11953:     description: "Seasonal location for summer collection",
11954:     totalItems: 85,
11955:     status: "Inactive",
11956:   },
11957: ];
11958: 
11959: // Create a global variable to store the updated warehouses if it doesn't exist
11960: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedWarehouses')) {
11961:   window.updatedWarehouses = [...mockWarehouses];
11962: }
11963: 
11964: export default function WarehousesPage() {
11965:   const [isLoading, setIsLoading] = useState(true);
11966:   const [data, setData] = useState(mockWarehouses);
11967:   const { toast } = useToast();
11968: 
11969:   useEffect(() => {
11970:     // Simulate data loading and get data from our mock database
11971:     const timer = setTimeout(() => {
11972:       if (typeof window !== 'undefined') {
11973:         setData(window.updatedWarehouses);
11974:       }
11975:       setIsLoading(false);
11976:     }, 1000);
11977:     
11978:     return () => clearTimeout(timer);
11979:   }, []);
11980: 
11981:   const handleDelete = async (id: string) => {
11982:     // Simulate API call to delete warehouse
11983:     return new Promise<void>((resolve, reject) => {
11984:       setTimeout(() => {
11985:         const warehouse = data.find(w => w.id === id);
11986:         
11987:         if (warehouse?.status === "Active" && warehouse.totalItems > 0) {
11988:           reject(new Error("Cannot delete a warehouse with inventory. Transfer all items first."));
11989:         } else {
11990:           // Update our mock database
11991:           const updatedData = data.filter(w => w.id !== id);
11992:           setData(updatedData);
11993:           
11994:           if (typeof window !== 'undefined') {
11995:             window.updatedWarehouses = updatedData;
11996:           }
11997:           
11998:           resolve();
11999:         }
12000:       }, 1000);
12001:     });
12002:   };
12003: 
12004:   return (
12005:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
12006:       <div className="flex items-center justify-between">
12007:         <h1 className="text-3xl font-bold tracking-tight">Warehouses</h1>
12008:         <Button asChild>
12009:           <Link href="/warehouses/new">
12010:             <Plus className="mr-2 h-4 w-4" />
12011:             Add Warehouse
12012:           </Link>
12013:         </Button>
12014:       </div>
12015:       
12016:       <Card>
12017:         <CardHeader>
12018:           <CardTitle>Warehouse Locations</CardTitle>
12019:           <CardDescription>
12020:             Manage your warehouse and store locations
12021:           </CardDescription>
12022:         </CardHeader>
12023:         <CardContent>
12024:           {isLoading ? (
12025:             <div className="space-y-2">
12026:               <Skeleton className="h-10 w-full" />
12027:               <Skeleton className="h-10 w-full" />
12028:               <Skeleton className="h-10 w-full" />
12029:               <Skeleton className="h-10 w-full" />
12030:               <Skeleton className="h-10 w-full" />
12031:             </div>
12032:           ) : (
12033:             <Table>
12034:               <TableHeader>
12035:                 <TableRow>
12036:                   <TableHead>Name</TableHead>
12037:                   <TableHead>Location</TableHead>
12038:                   <TableHead>Description</TableHead>
12039:                   <TableHead className="text-right">Total Items</TableHead>
12040:                   <TableHead>Status</TableHead>
12041:                   <TableHead className="text-right">Actions</TableHead>
12042:                 </TableRow>
12043:               </TableHeader>
12044:               <TableBody>
12045:                 {data.map((warehouse) => (
12046:                   <TableRow key={warehouse.id}>
12047:                     <TableCell className="font-medium">{warehouse.name}</TableCell>
12048:                     <TableCell>{warehouse.location}</TableCell>
12049:                     <TableCell>{warehouse.description}</TableCell>
12050:                     <TableCell className="text-right">{warehouse.totalItems}</TableCell>
12051:                     <TableCell>
12052:                       {warehouse.status === "Active" ? (
12053:                         <Badge className="bg-emerald-500">Active</Badge>
12054:                       ) : (
12055:                         <Badge variant="outline">Inactive</Badge>
12056:                       )}
12057:                     </TableCell>
12058:                     <TableCell className="text-right">
12059:                       <div className="flex justify-end gap-2">
12060:                         <Button variant="ghost" size="icon" asChild>
12061:                           <Link href={`/warehouses/${warehouse.id}`}>
12062:                             <Eye className="h-4 w-4" />
12063:                           </Link>
12064:                         </Button>
12065:                         <Button variant="ghost" size="icon" asChild>
12066:                           <Link href={`/warehouses/${warehouse.id}/edit`}>
12067:                             <Edit className="h-4 w-4" />
12068:                           </Link>
12069:                         </Button>
12070:                         <DeleteButton
12071:                           id={warehouse.id}
12072:                           name={warehouse.name}
12073:                           onDelete={handleDelete}
12074:                           disabled={warehouse.status === "Active" && warehouse.totalItems > 0}
12075:                           disabledReason="Cannot delete a warehouse with inventory. Transfer all items first."
12076:                         />
12077:                       </div>
12078:                     </TableCell>
12079:                   </TableRow>
12080:                 ))}
12081:               </TableBody>
12082:             </Table>
12083:           )}
12084:         </CardContent>
12085:       </Card>
12086:     </div>
12087:   );
12088: }
12089: ```
12090: 
12091: ## app\warehouses\[id]\edit\page.tsx
12092: 
12093: - Characters: 10402
12094: - Tokens: 0
12095: 
12096: ```text
12097: "use client";
12098: 
12099: import { useState, useEffect } from "react";
12100: import { useRouter } from "next/navigation";
12101: import { useForm } from "react-hook-form";
12102: import { zodResolver } from "@hookform/resolvers/zod";
12103: import * as z from "zod";
12104: import { ArrowLeft } from "lucide-react";
12105: import Link from "next/link";
12106: 
12107: import { Button } from "@/components/ui/button";
12108: import {
12109:   Form,
12110:   FormControl,
12111:   FormDescription,
12112:   FormField,
12113:   FormItem,
12114:   FormLabel,
12115:   FormMessage,
12116: } from "@/components/ui/form";
12117: import { Input } from "@/components/ui/input";
12118: import { Textarea } from "@/components/ui/textarea";
12119: import {
12120:   Select,
12121:   SelectContent,
12122:   SelectItem,
12123:   SelectTrigger,
12124:   SelectValue,
12125: } from "@/components/ui/select";
12126: import { useToast } from "@/hooks/use-toast";
12127: import {
12128:   Card,
12129:   CardContent,
12130:   CardDescription,
12131:   CardHeader,
12132:   CardTitle,
12133: } from "@/components/ui/card";
12134: import { Skeleton } from "@/components/ui/skeleton";
12135: 
12136: // Mock warehouses data - this would normally be in a database
12137: const mockWarehouses = [
12138:   {
12139:     id: "1",
12140:     name: "Main Store",
12141:     location: "789 Main St, Retail City",
12142:     description: "Main retail location and warehouse",
12143:     totalItems: 425,
12144:     status: "Active",
12145:   },
12146:   {
12147:     id: "2",
12148:     name: "Downtown Branch",
12149:     location: "101 Downtown Ave, Retail City",
12150:     description: "Downtown retail branch",
12151:     totalItems: 175,
12152:     status: "Active",
12153:   },
12154:   {
12155:     id: "3",
12156:     name: "Mall Outlet",
12157:     location: "Westfield Mall, Shopping District",
12158:     description: "Small outlet in the shopping mall",
12159:     totalItems: 125,
12160:     status: "Active",
12161:   },
12162:   {
12163:     id: "4",
12164:     name: "Distribution Center",
12165:     location: "456 Logistics Blvd, Industrial Zone",
12166:     description: "Main distribution and storage facility",
12167:     totalItems: 1250,
12168:     status: "Active",
12169:   },
12170:   {
12171:     id: "5",
12172:     name: "Seasonal Pop-up",
12173:     location: "Beach Boulevard, Tourist Area",
12174:     description: "Seasonal location for summer collection",
12175:     totalItems: 85,
12176:     status: "Inactive",
12177:   },
12178: ];
12179: 
12180: // Create a global variable to store the updated warehouses if it doesn't exist
12181: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedWarehouses')) {
12182:   window.updatedWarehouses = [...mockWarehouses];
12183: }
12184: 
12185: const warehouseSchema = z.object({
12186:   name: z.string().min(2, { message: "Name must be at least 2 characters" }),
12187:   location: z.string().min(2, { message: "Location must be at least 2 characters" }),
12188:   description: z.string().optional(),
12189:   status: z.enum(["Active", "Inactive"]),
12190: });
12191: 
12192: type WarehouseFormValues = z.infer<typeof warehouseSchema>;
12193: 
12194: export default function EditWarehousePage({ params }: { params: { id: string } }) {
12195:   const router = useRouter();
12196:   const { toast } = useToast();
12197:   const [isLoading, setIsLoading] = useState(false);
12198:   const [isFetching, setIsFetching] = useState(true);
12199:   const [warehouse, setWarehouse] = useState<any | null>(null);
12200: 
12201:   const form = useForm<WarehouseFormValues>({
12202:     resolver: zodResolver(warehouseSchema),
12203:     defaultValues: {
12204:       name: "",
12205:       location: "",
12206:       description: "",
12207:       status: "Active",
12208:     },
12209:   });
12210: 
12211:   useEffect(() => {
12212:     // Fetch warehouse data
12213:     const fetchWarehouse = async () => {
12214:       setIsFetching(true);
12215:       try {
12216:         // In a real app, this would be an API call
12217:         // const response = await fetch(`/api/warehouses/${params.id}`);
12218:         // const data = await response.json();
12219:         
12220:         // Get data from our mock database (window.updatedWarehouses)
12221:         setTimeout(() => {
12222:           const warehouses = typeof window !== 'undefined' ? window.updatedWarehouses : mockWarehouses;
12223:           const foundWarehouse = warehouses.find(w => w.id === params.id);
12224:           
12225:           if (foundWarehouse) {
12226:             setWarehouse(foundWarehouse);
12227:             form.reset({
12228:               name: foundWarehouse.name,
12229:               location: foundWarehouse.location || "",
12230:               description: foundWarehouse.description || "",
12231:               status: foundWarehouse.status as "Active" | "Inactive",
12232:             });
12233:           }
12234:           
12235:           setIsFetching(false);
12236:         }, 1000);
12237:       } catch (error) {
12238:         toast({
12239:           title: "Error",
12240:           description: "Failed to load warehouse details",
12241:           variant: "destructive",
12242:         });
12243:         setIsFetching(false);
12244:       }
12245:     };
12246: 
12247:     fetchWarehouse();
12248:   }, [params.id, toast, form]);
12249: 
12250:   async function onSubmit(data: WarehouseFormValues) {
12251:     setIsLoading(true);
12252:     
12253:     try {
12254:       // In a real application, this would be an API call
12255:       // const response = await fetch(`/api/warehouses/${params.id}`, {
12256:       //   method: "PUT",
12257:       //   headers: {
12258:       //     "Content-Type": "application/json",
12259:       //   },
12260:       //   body: JSON.stringify(data),
12261:       // });
12262:       
12263:       // if (!response.ok) {
12264:       //   throw new Error("Failed to update warehouse");
12265:       // }
12266:       
12267:       // Simulate API call and update our mock database
12268:       await new Promise(resolve => setTimeout(resolve, 1000));
12269:       
12270:       // Update the warehouse in our mock database
12271:       if (typeof window !== 'undefined') {
12272:         const index = window.updatedWarehouses.findIndex(w => w.id === params.id);
12273:         if (index !== -1) {
12274:           window.updatedWarehouses[index] = {
12275:             ...window.updatedWarehouses[index],
12276:             ...data
12277:           };
12278:           
12279:           // Log the updated warehouses for debugging
12280:           console.log("Updated warehouses:", window.updatedWarehouses);
12281:         }
12282:       }
12283:       
12284:       toast({
12285:         title: "Warehouse updated",
12286:         description: "The warehouse has been updated successfully.",
12287:       });
12288:       
12289:       router.push(`/warehouses/${params.id}`);
12290:     } catch (error) {
12291:       toast({
12292:         title: "Error",
12293:         description: error instanceof Error ? error.message : "An error occurred",
12294:         variant: "destructive",
12295:       });
12296:     } finally {
12297:       setIsLoading(false);
12298:     }
12299:   }
12300: 
12301:   return (
12302:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
12303:       <div className="flex items-center gap-2">
12304:         <Button variant="ghost" size="icon" asChild>
12305:           <Link href={`/warehouses/${params.id}`}>
12306:             <ArrowLeft className="h-4 w-4" />
12307:           </Link>
12308:         </Button>
12309:         <h1 className="text-3xl font-bold tracking-tight">
12310:           {isFetching ? <Skeleton className="h-9 w-40" /> : `Edit ${warehouse?.name}`}
12311:         </h1>
12312:       </div>
12313:       
12314:       <Card>
12315:         <CardHeader>
12316:           <CardTitle>Warehouse Information</CardTitle>
12317:           <CardDescription>
12318:             Update the warehouse details
12319:           </CardDescription>
12320:         </CardHeader>
12321:         <CardContent>
12322:           {isFetching ? (
12323:             <div className="space-y-4">
12324:               <Skeleton className="h-10 w-full" />
12325:               <Skeleton className="h-10 w-full" />
12326:               <Skeleton className="h-10 w-full" />
12327:               <Skeleton className="h-10 w-full" />
12328:             </div>
12329:           ) : (
12330:             <Form {...form}>
12331:               <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
12332:                 <FormField
12333:                   control={form.control}
12334:                   name="name"
12335:                   render={({ field }) => (
12336:                     <FormItem>
12337:                       <FormLabel>Name</FormLabel>
12338:                       <FormControl>
12339:                         <Input placeholder="Warehouse Name" {...field} />
12340:                       </FormControl>
12341:                       <FormMessage />
12342:                     </FormItem>
12343:                   )}
12344:                 />
12345:                 
12346:                 <FormField
12347:                   control={form.control}
12348:                   name="location"
12349:                   render={({ field }) => (
12350:                     <FormItem>
12351:                       <FormLabel>Location</FormLabel>
12352:                       <FormControl>
12353:                         <Input placeholder="Warehouse Location" {...field} />
12354:                       </FormControl>
12355:                       <FormDescription>
12356:                         The physical address or location of this warehouse
12357:                       </FormDescription>
12358:                       <FormMessage />
12359:                     </FormItem>
12360:                   )}
12361:                 />
12362:                 
12363:                 <FormField
12364:                   control={form.control}
12365:                   name="description"
12366:                   render={({ field }) => (
12367:                     <FormItem>
12368:                       <FormLabel>Description</FormLabel>
12369:                       <FormControl>
12370:                         <Textarea
12371:                           placeholder="Warehouse description..."
12372:                           {...field}
12373:                         />
12374:                       </FormControl>
12375:                       <FormMessage />
12376:                     </FormItem>
12377:                   )}
12378:                 />
12379:                 
12380:                 <FormField
12381:                   control={form.control}
12382:                   name="status"
12383:                   render={({ field }) => (
12384:                     <FormItem>
12385:                       <FormLabel>Status</FormLabel>
12386:                       <Select
12387:                         onValueChange={field.onChange}
12388:                         defaultValue={field.value}
12389:                       >
12390:                         <FormControl>
12391:                           <SelectTrigger>
12392:                             <SelectValue placeholder="Select status" />
12393:                           </SelectTrigger>
12394:                         </FormControl>
12395:                         <SelectContent>
12396:                           <SelectItem value="Active">Active</SelectItem>
12397:                           <SelectItem value="Inactive">Inactive</SelectItem>
12398:                         </SelectContent>
12399:                       </Select>
12400:                       <FormMessage />
12401:                     </FormItem>
12402:                   )}
12403:                 />
12404:                 
12405:                 <div className="flex justify-end space-x-2">
12406:                   <Button
12407:                     variant="outline"
12408:                     onClick={() => router.push(`/warehouses/${params.id}`)}
12409:                     type="button"
12410:                   >
12411:                     Cancel
12412:                   </Button>
12413:                   <Button type="submit" disabled={isLoading}>
12414:                     {isLoading ? "Saving..." : "Save Changes"}
12415:                   </Button>
12416:                 </div>
12417:               </form>
12418:             </Form>
12419:           )}
12420:         </CardContent>
12421:       </Card>
12422:     </div>
12423:   );
12424: }
12425: ```
12426: 
12427: ## app\warehouses\[id]\page.tsx
12428: 
12429: - Characters: 10664
12430: - Tokens: 0
12431: 
12432: ```text
12433: "use client";
12434: 
12435: import { useState, useEffect } from "react";
12436: import { useRouter } from "next/navigation";
12437: import Link from "next/link";
12438: import { ArrowLeft, Edit, Package, MapPin } from "lucide-react";
12439: import { Button } from "@/components/ui/button";
12440: import {
12441:   Card,
12442:   CardContent,
12443:   CardDescription,
12444:   CardHeader,
12445:   CardTitle,
12446: } from "@/components/ui/card";
12447: import {
12448:   Table,
12449:   TableBody,
12450:   TableCell,
12451:   TableHead,
12452:   TableHeader,
12453:   TableRow,
12454: } from "@/components/ui/table";
12455: import { Skeleton } from "@/components/ui/skeleton";
12456: import { Badge } from "@/components/ui/badge";
12457: import { DeleteButton } from "@/components/shared/delete-button";
12458: import { useToast } from "@/hooks/use-toast";
12459: 
12460: // Mock warehouses data - this would normally be in a database
12461: const mockWarehouses = [
12462:   {
12463:     id: "1",
12464:     name: "Main Store",
12465:     location: "789 Main St, Retail City",
12466:     description: "Main retail location and warehouse",
12467:     totalItems: 425,
12468:     status: "Active",
12469:   },
12470:   {
12471:     id: "2",
12472:     name: "Downtown Branch",
12473:     location: "101 Downtown Ave, Retail City",
12474:     description: "Downtown retail branch",
12475:     totalItems: 175,
12476:     status: "Active",
12477:   },
12478:   {
12479:     id: "3",
12480:     name: "Mall Outlet",
12481:     location: "Westfield Mall, Shopping District",
12482:     description: "Small outlet in the shopping mall",
12483:     totalItems: 125,
12484:     status: "Active",
12485:   },
12486:   {
12487:     id: "4",
12488:     name: "Distribution Center",
12489:     location: "456 Logistics Blvd, Industrial Zone",
12490:     description: "Main distribution and storage facility",
12491:     totalItems: 1250,
12492:     status: "Active",
12493:   },
12494:   {
12495:     id: "5",
12496:     name: "Seasonal Pop-up",
12497:     location: "Beach Boulevard, Tourist Area",
12498:     description: "Seasonal location for summer collection",
12499:     totalItems: 85,
12500:     status: "Inactive",
12501:   },
12502: ];
12503: 
12504: // Create a global variable to store the updated warehouses if it doesn't exist
12505: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedWarehouses')) {
12506:   window.updatedWarehouses = [...mockWarehouses];
12507: }
12508: 
12509: interface Warehouse {
12510:   id: string;
12511:   name: string;
12512:   location: string;
12513:   description: string;
12514:   totalItems: number;
12515:   status: string;
12516: }
12517: 
12518: export default function WarehouseDetailsPage({ params }: { params: { id: string } }) {
12519:   const router = useRouter();
12520:   const { toast } = useToast();
12521:   const [warehouse, setWarehouse] = useState<Warehouse | null>(null);
12522:   const [isLoading, setIsLoading] = useState(true);
12523: 
12524:   useEffect(() => {
12525:     // Fetch warehouse data
12526:     const fetchWarehouse = async () => {
12527:       setIsLoading(true);
12528:       try {
12529:         // In a real app, this would be an API call
12530:         // const response = await fetch(`/api/warehouses/${params.id}`);
12531:         // const data = await response.json();
12532:         
12533:         // Get data from our mock database (window.updatedWarehouses)
12534:         setTimeout(() => {
12535:           const warehouses = typeof window !== 'undefined' ? window.updatedWarehouses : mockWarehouses;
12536:           const foundWarehouse = warehouses.find(w => w.id === params.id);
12537:           
12538:           setWarehouse(foundWarehouse || null);
12539:           setIsLoading(false);
12540:         }, 1000);
12541:       } catch (error) {
12542:         toast({
12543:           title: "Error",
12544:           description: "Failed to load warehouse details",
12545:           variant: "destructive",
12546:         });
12547:         setIsLoading(false);
12548:       }
12549:     };
12550: 
12551:     fetchWarehouse();
12552:   }, [params.id, toast]);
12553: 
12554:   const handleDelete = async (id: string) => {
12555:     // Simulate API call to delete warehouse
12556:     return new Promise<void>((resolve, reject) => {
12557:       setTimeout(() => {
12558:         // In a real app, this would be an API call
12559:         // const response = await fetch(`/api/warehouses/${id}`, { method: 'DELETE' });
12560:         // if (!response.ok) throw new Error('Failed to delete warehouse');
12561:         
12562:         if (warehouse?.status === "Active" && warehouse.totalItems > 0) {
12563:           reject(new Error("Cannot delete a warehouse with inventory. Transfer all items first."));
12564:         } else {
12565:           // Update our mock database
12566:           if (typeof window !== 'undefined') {
12567:             window.updatedWarehouses = window.updatedWarehouses.filter(w => w.id !== id);
12568:           }
12569:           
12570:           router.push("/warehouses");
12571:           resolve();
12572:         }
12573:       }, 1000);
12574:     });
12575:   };
12576: 
12577:   // Sample inventory data for the warehouse
12578:   const inventoryItems = [
12579:     { id: "1", sku: "SH-001", name: "Cotton T-Shirt", category: "Shirts", quantity: 75 },
12580:     { id: "2", sku: "PA-001", name: "Slim Fit Jeans", category: "Pants", quantity: 45 },
12581:     { id: "3", sku: "DR-001", name: "Summer Dress", category: "Dresses", quantity: 30 },
12582:     { id: "4", sku: "AC-001", name: "Leather Belt", category: "Accessories", quantity: 50 },
12583:     { id: "5", sku: "SH-002", name: "Polo Shirt", category: "Shirts", quantity: 25 },
12584:   ];
12585: 
12586:   return (
12587:     <div className="flex flex-col gap-4 animate-in fade-in duration-500">
12588:       <div className="flex items-center justify-between">
12589:         <div className="flex items-center gap-2">
12590:           <Button variant="ghost" size="icon" asChild>
12591:             <Link href="/warehouses">
12592:               <ArrowLeft className="h-4 w-4" />
12593:             </Link>
12594:           </Button>
12595:           <h1 className="text-3xl font-bold tracking-tight">
12596:             {isLoading ? <Skeleton className="h-9 w-40" /> : warehouse?.name}
12597:           </h1>
12598:         </div>
12599:         
12600:         <div className="flex items-center gap-2">
12601:           {!isLoading && warehouse && (
12602:             <>
12603:               <Button variant="outline" size="sm" asChild>
12604:                 <Link href={`/warehouses/${params.id}/edit`}>
12605:                   <Edit className="mr-2 h-4 w-4" />
12606:                   Edit
12607:                 </Link>
12608:               </Button>
12609:               
12610:               <DeleteButton
12611:                 id={params.id}
12612:                 name={warehouse.name}
12613:                 onDelete={handleDelete}
12614:                 disabled={warehouse.status === "Active" && warehouse.totalItems > 0}
12615:                 disabledReason="Cannot delete a warehouse with inventory. Transfer all items first."
12616:               />
12617:             </>
12618:           )}
12619:         </div>
12620:       </div>
12621:       
12622:       {isLoading ? (
12623:         <Card>
12624:           <CardHeader>
12625:             <Skeleton className="h-7 w-40 mb-2" />
12626:             <Skeleton className="h-5 w-60" />
12627:           </CardHeader>
12628:           <CardContent className="space-y-4">
12629:             <Skeleton className="h-5 w-full" />
12630:             <Skeleton className="h-5 w-3/4" />
12631:             <Skeleton className="h-5 w-1/2" />
12632:           </CardContent>
12633:         </Card>
12634:       ) : warehouse ? (
12635:         <>
12636:           <Card>
12637:             <CardHeader>
12638:               <CardTitle className="flex items-center justify-between">
12639:                 Warehouse Details
12640:                 <Badge className={warehouse.status === "Active" ? "bg-emerald-500" : "bg-gray-500"}>
12641:                   {warehouse.status}
12642:                 </Badge>
12643:               </CardTitle>
12644:               <CardDescription>
12645:                 Detailed information about this warehouse
12646:               </CardDescription>
12647:             </CardHeader>
12648:             <CardContent className="space-y-6">
12649:               <div className="grid grid-cols-1 gap-4 md:grid-cols-2">
12650:                 <div>
12651:                   <h3 className="text-sm font-medium text-muted-foreground">Name</h3>
12652:                   <p className="text-base">{warehouse.name}</p>
12653:                 </div>
12654:                 <div>
12655:                   <h3 className="text-sm font-medium text-muted-foreground">Total Items</h3>
12656:                   <p className="text-base">{warehouse.totalItems}</p>
12657:                 </div>
12658:               </div>
12659:               
12660:               <div className="flex items-start gap-2">
12661:                 <MapPin className="h-5 w-5 text-muted-foreground mt-0.5" />
12662:                 <div>
12663:                   <h3 className="text-sm font-medium text-muted-foreground">Location</h3>
12664:                   <p className="text-base">{warehouse.location}</p>
12665:                 </div>
12666:               </div>
12667:               
12668:               <div>
12669:                 <h3 className="text-sm font-medium text-muted-foreground">Description</h3>
12670:                 <p className="text-base">{warehouse.description}</p>
12671:               </div>
12672:             </CardContent>
12673:           </Card>
12674:           
12675:           <Card>
12676:             <CardHeader>
12677:               <CardTitle className="flex items-center">
12678:                 <Package className="mr-2 h-5 w-5" />
12679:                 Inventory Items
12680:               </CardTitle>
12681:               <CardDescription>
12682:                 Products currently stored in this warehouse
12683:               </CardDescription>
12684:             </CardHeader>
12685:             <CardContent>
12686:               {warehouse.totalItems > 0 ? (
12687:                 <Table>
12688:                   <TableHeader>
12689:                     <TableRow>
12690:                       <TableHead>SKU</TableHead>
12691:                       <TableHead>Name</TableHead>
12692:                       <TableHead>Category</TableHead>
12693:                       <TableHead className="text-right">Quantity</TableHead>
12694:                       <TableHead className="text-right">Actions</TableHead>
12695:                     </TableRow>
12696:                   </TableHeader>
12697:                   <TableBody>
12698:                     {inventoryItems.map((item) => (
12699:                       <TableRow key={item.id}>
12700:                         <TableCell className="font-medium">{item.sku}</TableCell>
12701:                         <TableCell>{item.name}</TableCell>
12702:                         <TableCell>{item.category}</TableCell>
12703:                         <TableCell className="text-right">{item.quantity}</TableCell>
12704:                         <TableCell className="text-right">
12705:                           <Button variant="ghost" size="sm" asChild>
12706:                             <Link href={`/products/${item.id}`}>View Product</Link>
12707:                           </Button>
12708:                         </TableCell>
12709:                       </TableRow>
12710:                     ))}
12711:                   </TableBody>
12712:                 </Table>
12713:               ) : (
12714:                 <div className="text-center py-8 text-muted-foreground">
12715:                   No inventory items in this warehouse
12716:                 </div>
12717:               )}
12718:             </CardContent>
12719:           </Card>
12720:         </>
12721:       ) : (
12722:         <Card>
12723:           <CardContent className="flex flex-col items-center justify-center py-10">
12724:             <h2 className="text-xl font-semibold mb-2">Warehouse Not Found</h2>
12725:             <p className="text-muted-foreground mb-4">
12726:               The warehouse you're looking for doesn't exist or has been removed.
12727:             </p>
12728:             <Button asChild>
12729:               <Link href="/warehouses">Back to Warehouses</Link>
12730:             </Button>
12731:           </CardContent>
12732:         </Card>
12733:       )}
12734:     </div>
12735:   );
12736: }
12737: ```
12738: 
12739: ## components\dashboard\charts.tsx
12740: 
12741: - Characters: 1955
12742: - Tokens: 0
12743: 
12744: ```text
12745: "use client";
12746: 
12747: import { 
12748:   BarChart, 
12749:   LineChart, 
12750:   ResponsiveContainer, 
12751:   Bar, 
12752:   XAxis, 
12753:   YAxis, 
12754:   CartesianGrid, 
12755:   Tooltip, 
12756:   Legend, 
12757:   Line,
12758:   PieChart,
12759:   Pie,
12760:   Cell
12761: } from "recharts";
12762: 
12763: const COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#8884D8'];
12764: 
12765: interface ChartProps {
12766:   type: 'line' | 'bar' | 'pie';
12767:   data: any[];
12768: }
12769: 
12770: export default function Charts({ type, data }: ChartProps) {
12771:   if (type === 'line') {
12772:     return (
12773:       <ResponsiveContainer width="100%" height={350}>
12774:         <LineChart data={data}>
12775:           <CartesianGrid strokeDasharray="3 3" />
12776:           <XAxis dataKey="name" />
12777:           <YAxis />
12778:           <Tooltip />
12779:           <Legend />
12780:           <Line
12781:             type="monotone"
12782:             dataKey="total"
12783:             stroke="hsl(var(--chart-1))"
12784:             activeDot={{ r: 8 }}
12785:           />
12786:         </LineChart>
12787:       </ResponsiveContainer>
12788:     );
12789:   }
12790:   
12791:   if (type === 'bar') {
12792:     return (
12793:       <ResponsiveContainer width="100%" height={350}>
12794:         <BarChart data={data}>
12795:           <CartesianGrid strokeDasharray="3 3" />
12796:           <XAxis dataKey="name" />
12797:           <YAxis />
12798:           <Tooltip />
12799:           <Legend />
12800:           <Bar dataKey="value" fill="hsl(var(--chart-2))" />
12801:         </BarChart>
12802:       </ResponsiveContainer>
12803:     );
12804:   }
12805:   
12806:   if (type === 'pie') {
12807:     return (
12808:       <ResponsiveContainer width="100%" height={350}>
12809:         <PieChart>
12810:           <Pie
12811:             data={data}
12812:             cx="50%"
12813:             cy="50%"
12814:             labelLine={false}
12815:             outerRadius={120}
12816:             fill="#8884d8"
12817:             dataKey="value"
12818:             label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}
12819:           >
12820:             {data.map((entry, index) => (
12821:               <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />
12822:             ))}
12823:           </Pie>
12824:           <Tooltip />
12825:         </PieChart>
12826:       </ResponsiveContainer>
12827:     );
12828:   }
12829:   
12830:   return null;
12831: }
12832: ```
12833: 
12834: ## components\layout\header.tsx
12835: 
12836: - Characters: 3243
12837: - Tokens: 0
12838: 
12839: ```text
12840: "use client";
12841: 
12842: import { useState, useEffect } from "react";
12843: import { Bell, Menu, Search } from "lucide-react";
12844: import { Button } from "@/components/ui/button";
12845: import { Input } from "@/components/ui/input";
12846: import { Sheet, SheetContent, SheetTrigger } from "@/components/ui/sheet";
12847: import { Sidebar } from "@/components/layout/sidebar";
12848: import { Avatar, AvatarFallback } from "@/components/ui/avatar";
12849: import {
12850:   DropdownMenu,
12851:   DropdownMenuContent,
12852:   DropdownMenuItem,
12853:   DropdownMenuLabel,
12854:   DropdownMenuSeparator,
12855:   DropdownMenuTrigger,
12856: } from "@/components/ui/dropdown-menu";
12857: import { useRouter } from "next/navigation";
12858: import { useAuth } from "@/hooks/use-auth";
12859: 
12860: export function Header() {
12861:   const router = useRouter();
12862:   const { user, logout } = useAuth();
12863:   const [isMobile, setIsMobile] = useState(false);
12864: 
12865:   useEffect(() => {
12866:     const checkScreenSize = () => {
12867:       setIsMobile(window.innerWidth < 768);
12868:     };
12869: 
12870:     checkScreenSize();
12871:     window.addEventListener("resize", checkScreenSize);
12872: 
12873:     return () => {
12874:       window.removeEventListener("resize", checkScreenSize);
12875:     };
12876:   }, []);
12877: 
12878:   if (!user) {
12879:     return null;
12880:   }
12881: 
12882:   return (
12883:     <header className="sticky top-0 z-30 flex h-16 items-center gap-4 border-b bg-background px-4 md:px-6">
12884:       {isMobile && (
12885:         <Sheet>
12886:           <SheetTrigger asChild>
12887:             <Button variant="outline" size="icon" className="md:hidden">
12888:               <Menu className="h-5 w-5" />
12889:               <span className="sr-only">Toggle Menu</span>
12890:             </Button>
12891:           </SheetTrigger>
12892:           <SheetContent side="left" className="p-0">
12893:             <Sidebar />
12894:           </SheetContent>
12895:         </Sheet>
12896:       )}
12897: 
12898:       <div className="w-full flex-1">
12899:         <form className="hidden md:block">
12900:           <div className="relative">
12901:             <Search className="absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground" />
12902:             <Input
12903:               type="search"
12904:               placeholder="Search..."
12905:               className="w-full appearance-none bg-background pl-8 shadow-none md:w-2/3 lg:w-1/3"
12906:             />
12907:           </div>
12908:         </form>
12909:       </div>
12910: 
12911:       <DropdownMenu>
12912:         <DropdownMenuTrigger asChild>
12913:           <Button variant="ghost" size="icon" className="rounded-full">
12914:             <Avatar className="h-8 w-8">
12915:               <AvatarFallback>
12916:                 {user.name
12917:                   .split(" ")
12918:                   .map((n) => n[0])
12919:                   .join("")
12920:                   .toUpperCase()}
12921:               </AvatarFallback>
12922:             </Avatar>
12923:           </Button>
12924:         </DropdownMenuTrigger>
12925:         <DropdownMenuContent align="end">
12926:           <DropdownMenuLabel>My Account</DropdownMenuLabel>
12927:           <DropdownMenuSeparator />
12928:           <DropdownMenuItem>Profile</DropdownMenuItem>
12929:           <DropdownMenuItem>Settings</DropdownMenuItem>
12930:           <DropdownMenuSeparator />
12931:           <DropdownMenuItem onClick={logout}>Logout</DropdownMenuItem>
12932:         </DropdownMenuContent>
12933:       </DropdownMenu>
12934: 
12935:       <Button variant="ghost" size="icon" className="relative">
12936:         <Bell className="h-5 w-5" />
12937:         <span className="absolute right-1 top-1 flex h-2 w-2 rounded-full bg-destructive"></span>
12938:       </Button>
12939:     </header>
12940:   );
12941: }
12942: ```
12943: 
12944: ## components\layout\sidebar.tsx
12945: 
12946: - Characters: 5100
12947: - Tokens: 0
12948: 
12949: ```text
12950: "use client";
12951: 
12952: import { useState } from "react";
12953: import Link from "next/link";
12954: import { usePathname } from "next/navigation";
12955: import { cn } from "@/lib/utils";
12956: import {
12957:   BarChart3,
12958:   Box,
12959:   ClipboardList,
12960:   Home,
12961:   LayoutDashboard,
12962:   LogOut,
12963:   Package,
12964:   Settings,
12965:   ShoppingBag,
12966:   ShoppingCart,
12967:   Truck,
12968:   Users,
12969:   Warehouse,
12970: } from "lucide-react";
12971: import { Button } from "@/components/ui/button";
12972: import { ScrollArea } from "@/components/ui/scroll-area";
12973: import { Separator } from "@/components/ui/separator";
12974: import { UserRole } from "@prisma/client";
12975: import { useAuth } from "@/hooks/use-auth";
12976: 
12977: interface SidebarItem {
12978:   title: string;
12979:   href: string;
12980:   icon: React.ReactNode;
12981:   requiredRoles?: UserRole[];
12982: }
12983: 
12984: export function Sidebar() {
12985:   const pathname = usePathname();
12986:   const [isCollapsed, setIsCollapsed] = useState(false);
12987:   const { user, logout } = useAuth();
12988: 
12989:   const sidebarItems: SidebarItem[] = [
12990:     {
12991:       title: "Dashboard",
12992:       href: "/dashboard",
12993:       icon: <LayoutDashboard className="h-5 w-5" />,
12994:     },
12995:     {
12996:       title: "Products",
12997:       href: "/products",
12998:       icon: <Package className="h-5 w-5" />,
12999:     },
13000:     {
13001:       title: "Categories",
13002:       href: "/categories",
13003:       icon: <Box className="h-5 w-5" />,
13004:     },
13005:     {
13006:       title: "Suppliers",
13007:       href: "/suppliers",
13008:       icon: <Truck className="h-5 w-5" />,
13009:     },
13010:     {
13011:       title: "Warehouses",
13012:       href: "/warehouses",
13013:       icon: <Warehouse className="h-5 w-5" />,
13014:     },
13015:     {
13016:       title: "Purchases",
13017:       href: "/purchases",
13018:       icon: <ShoppingCart className="h-5 w-5" />,
13019:     },
13020:     {
13021:       title: "Transfers",
13022:       href: "/transfers",
13023:       icon: <ClipboardList className="h-5 w-5" />,
13024:     },
13025:     {
13026:       title: "Sales",
13027:       href: "/sales",
13028:       icon: <ShoppingBag className="h-5 w-5" />,
13029:     },
13030:     {
13031:       title: "Inventory Audit",
13032:       href: "/inventory-audit",
13033:       icon: <ClipboardList className="h-5 w-5" />,
13034:     },
13035:     {
13036:       title: "Reports",
13037:       href: "/reports",
13038:       icon: <BarChart3 className="h-5 w-5" />,
13039:       requiredRoles: [UserRole.ROOT, UserRole.ADMIN, UserRole.MANAGER],
13040:     },
13041:     {
13042:       title: "Users",
13043:       href: "/users",
13044:       icon: <Users className="h-5 w-5" />,
13045:       requiredRoles: [UserRole.ROOT, UserRole.ADMIN],
13046:     },
13047:     {
13048:       title: "Settings",
13049:       href: "/settings",
13050:       icon: <Settings className="h-5 w-5" />,
13051:     },
13052:   ];
13053: 
13054:   if (!user) {
13055:     return null;
13056:   }
13057: 
13058:   const filteredItems = sidebarItems.filter(
13059:     (item) => !item.requiredRoles || item.requiredRoles.includes(user.role)
13060:   );
13061: 
13062:   return (
13063:     <div
13064:       className={cn(
13065:         "flex flex-col border-r bg-card h-screen",
13066:         isCollapsed ? "w-[80px]" : "w-[240px]"
13067:       )}
13068:     >
13069:       <div className="flex h-14 items-center border-b px-4">
13070:         <Link href="/dashboard" className="flex items-center space-x-2">
13071:           <ShoppingBag className="h-6 w-6" />
13072:           {!isCollapsed && <span className="font-semibold">Fashion Inventory</span>}
13073:         </Link>
13074:         <Button
13075:           variant="ghost"
13076:           size="icon"
13077:           className="ml-auto"
13078:           onClick={() => setIsCollapsed(!isCollapsed)}
13079:         >
13080:           {isCollapsed ? (
13081:             <svg
13082:               xmlns="http://www.w3.org/2000/svg"
13083:               viewBox="0 0 24 24"
13084:               fill="none"
13085:               stroke="currentColor"
13086:               strokeWidth="2"
13087:               strokeLinecap="round"
13088:               strokeLinejoin="round"
13089:               className="h-4 w-4"
13090:             >
13091:               <path d="m9 18 6-6-6-6" />
13092:             </svg>
13093:           ) : (
13094:             <svg
13095:               xmlns="http://www.w3.org/2000/svg"
13096:               viewBox="0 0 24 24"
13097:               fill="none"
13098:               stroke="currentColor"
13099:               strokeWidth="2"
13100:               strokeLinecap="round"
13101:               strokeLinejoin="round"
13102:               className="h-4 w-4"
13103:             >
13104:               <path d="m15 18-6-6 6-6" />
13105:             </svg>
13106:           )}
13107:         </Button>
13108:       </div>
13109:       <ScrollArea className="flex-1 py-2">
13110:         <nav className="grid gap-1 px-2">
13111:           {filteredItems.map((item, index) => (
13112:             <Link
13113:               key={index}
13114:               href={item.href}
13115:               className={cn(
13116:                 "flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground",
13117:                 pathname === item.href
13118:                   ? "bg-accent text-accent-foreground"
13119:                   : "transparent",
13120:                 isCollapsed && "justify-center py-3"
13121:               )}
13122:             >
13123:               {item.icon}
13124:               {!isCollapsed && <span>{item.title}</span>}
13125:             </Link>
13126:           ))}
13127:         </nav>
13128:       </ScrollArea>
13129:       <Separator />
13130:       <div className="p-2">
13131:         <Button
13132:           variant="ghost"
13133:           className={cn(
13134:             "w-full justify-start",
13135:             isCollapsed && "justify-center py-3"
13136:           )}
13137:           onClick={logout}
13138:         >
13139:           <LogOut className="h-5 w-5 mr-2" />
13140:           {!isCollapsed && <span>Logout</span>}
13141:         </Button>
13142:       </div>
13143:     </div>
13144:   );
13145: }
13146: ```
13147: 
13148: ## components\purchases\product-selector.tsx
13149: 
13150: - Characters: 14001
13151: - Tokens: 0
13152: 
13153: ```text
13154: "use client";
13155: 
13156: import { useState, useEffect } from "react";
13157: import { X, Search, Plus, Minus } from "lucide-react";
13158: import { Button } from "@/components/ui/button";
13159: import { Input } from "@/components/ui/input";
13160: import {
13161:   Dialog,
13162:   DialogContent,
13163:   DialogDescription,
13164:   DialogFooter,
13165:   DialogHeader,
13166:   DialogTitle,
13167:   DialogTrigger,
13168: } from "@/components/ui/dialog";
13169: import {
13170:   Table,
13171:   TableBody,
13172:   TableCell,
13173:   TableHead,
13174:   TableHeader,
13175:   TableRow,
13176: } from "@/components/ui/table";
13177: import { Badge } from "@/components/ui/badge";
13178: import { ScrollArea } from "@/components/ui/scroll-area";
13179: import { Checkbox } from "@/components/ui/checkbox";
13180: 
13181: // Mock products data - this would normally be in a database
13182: const mockProducts = [
13183:   {
13184:     id: "1",
13185:     sku: "SH-001",
13186:     name: "Cotton T-Shirt",
13187:     description: "Comfortable cotton t-shirt for everyday wear",
13188:     category: "Shirts",
13189:     categories: ["1"],
13190:     costPrice: 12.50,
13191:     sellingPrice: 24.99,
13192:     stock: 120,
13193:     safetyStock: 20,
13194:   },
13195:   {
13196:     id: "2",
13197:     sku: "PA-001",
13198:     name: "Slim Fit Jeans",
13199:     description: "Stylish slim fit jeans for a modern look",
13200:     category: "Pants",
13201:     categories: ["2"],
13202:     costPrice: 18.75,
13203:     sellingPrice: 39.99,
13204:     stock: 85,
13205:     safetyStock: 15,
13206:   },
13207:   {
13208:     id: "3",
13209:     sku: "DR-001",
13210:     name: "Summer Dress",
13211:     description: "Light and airy dress for summer days",
13212:     category: "Dresses",
13213:     categories: ["3"],
13214:     costPrice: 22.00,
13215:     sellingPrice: 49.99,
13216:     stock: 42,
13217:     safetyStock: 10,
13218:   },
13219:   {
13220:     id: "4",
13221:     sku: "AC-001",
13222:     name: "Leather Belt",
13223:     description: "Classic leather belt with metal buckle",
13224:     category: "Accessories",
13225:     categories: ["4"],
13226:     costPrice: 8.25,
13227:     sellingPrice: 19.99,
13228:     stock: 65,
13229:     safetyStock: 12,
13230:   },
13231:   {
13232:     id: "5",
13233:     sku: "SH-002",
13234:     name: "Polo Shirt",
13235:     description: "Classic polo shirt with embroidered logo",
13236:     category: "Shirts",
13237:     categories: ["1"],
13238:     costPrice: 15.00,
13239:     sellingPrice: 29.99,
13240:     stock: 8,
13241:     safetyStock: 15,
13242:   },
13243: ];
13244: 
13245: interface ProductSelectorProps {
13246:   onProductsSelected: (products: any[]) => void;
13247:   existingItems?: any[];
13248: }
13249: 
13250: export function ProductSelector({ onProductsSelected, existingItems = [] }: ProductSelectorProps) {
13251:   const [isOpen, setIsOpen] = useState(false);
13252:   const [searchTerm, setSearchTerm] = useState("");
13253:   const [products, setProducts] = useState<any[]>([]);
13254:   const [selectedProducts, setSelectedProducts] = useState<Record<string, any>>({});
13255:   const [quantities, setQuantities] = useState<Record<string, number>>({});
13256:   const [prices, setPrices] = useState<Record<string, number>>({});
13257: 
13258:   // Load products from our mock database
13259:   useEffect(() => {
13260:     const loadProducts = () => {
13261:       const productsData = typeof window !== 'undefined' && window.updatedProducts 
13262:         ? window.updatedProducts 
13263:         : mockProducts;
13264:       setProducts(productsData);
13265:     };
13266:     
13267:     loadProducts();
13268:   }, []);
13269: 
13270:   // Initialize with existing items if provided
13271:   useEffect(() => {
13272:     if (existingItems && existingItems.length > 0) {
13273:       const selectedMap: Record<string, any> = {};
13274:       const quantityMap: Record<string, number> = {};
13275:       const priceMap: Record<string, number> = {};
13276:       
13277:       existingItems.forEach(item => {
13278:         selectedMap[item.productId] = {
13279:           id: item.productId,
13280:           sku: item.sku,
13281:           name: item.name,
13282:         };
13283:         quantityMap[item.productId] = item.quantity;
13284:         priceMap[item.productId] = item.unitPrice;
13285:       });
13286:       
13287:       setSelectedProducts(selectedMap);
13288:       setQuantities(quantityMap);
13289:       setPrices(priceMap);
13290:     }
13291:   }, [existingItems]);
13292: 
13293:   const filteredProducts = products.filter(product => 
13294:     product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
13295:     product.sku.toLowerCase().includes(searchTerm.toLowerCase()) ||
13296:     product.category.toLowerCase().includes(searchTerm.toLowerCase())
13297:   );
13298: 
13299:   const handleProductSelect = (product: any) => {
13300:     setSelectedProducts(prev => {
13301:       const newSelected = { ...prev };
13302:       
13303:       if (newSelected[product.id]) {
13304:         delete newSelected[product.id];
13305:       } else {
13306:         newSelected[product.id] = {
13307:           id: product.id,
13308:           sku: product.sku,
13309:           name: product.name,
13310:         };
13311:         
13312:         // Initialize quantity and price if not already set
13313:         if (!quantities[product.id]) {
13314:           setQuantities(prev => ({
13315:             ...prev,
13316:             [product.id]: 1
13317:           }));
13318:         }
13319:         
13320:         if (!prices[product.id]) {
13321:           setPrices(prev => ({
13322:             ...prev,
13323:             [product.id]: product.costPrice || 0
13324:           }));
13325:         }
13326:       }
13327:       
13328:       return newSelected;
13329:     });
13330:   };
13331: 
13332:   const handleQuantityChange = (productId: string, value: number) => {
13333:     if (value < 1) value = 1;
13334:     setQuantities(prev => ({
13335:       ...prev,
13336:       [productId]: value
13337:     }));
13338:   };
13339: 
13340:   const handlePriceChange = (productId: string, value: number) => {
13341:     if (value < 0) value = 0;
13342:     setPrices(prev => ({
13343:       ...prev,
13344:       [productId]: value
13345:     }));
13346:   };
13347: 
13348:   const handleConfirm = () => {
13349:     const selectedItems = Object.keys(selectedProducts).map(productId => {
13350:       const product = selectedProducts[productId];
13351:       return {
13352:         id: `item-${Date.now()}-${productId}`, // Generate a unique ID for the item
13353:         productId: product.id,
13354:         sku: product.sku,
13355:         name: product.name,
13356:         quantity: quantities[productId] || 1,
13357:         unitPrice: prices[productId] || 0,
13358:         receivedQuantity: 0,
13359:       };
13360:     });
13361:     
13362:     onProductsSelected(selectedItems);
13363:     setIsOpen(false);
13364:   };
13365: 
13366:   const isProductSelected = (productId: string) => {
13367:     return !!selectedProducts[productId];
13368:   };
13369: 
13370:   const getStockStatus = (stock: number, safetyStock: number) => {
13371:     if (stock <= 0) {
13372:       return { label: "Out of Stock", color: "bg-red-500 text-white" };
13373:     } else if (stock <= safetyStock) {
13374:       return { label: "Low Stock", color: "bg-amber-500 text-white" };
13375:     } else {
13376:       return { label: "In Stock", color: "bg-emerald-500 text-white" };
13377:     }
13378:   };
13379: 
13380:   return (
13381:     <Dialog open={isOpen} onOpenChange={setIsOpen}>
13382:       <DialogTrigger asChild>
13383:         <Button>
13384:           <Plus className="mr-2 h-4 w-4" />
13385:           Add Products
13386:         </Button>
13387:       </DialogTrigger>
13388:       <DialogContent className="sm:max-w-[900px]">
13389:         <DialogHeader>
13390:           <DialogTitle>Select Products</DialogTitle>
13391:           <DialogDescription>
13392:             Search and select products to add to the purchase order
13393:           </DialogDescription>
13394:         </DialogHeader>
13395:         
13396:         <div className="flex items-center space-x-2 py-4">
13397:           <Search className="h-5 w-5 text-muted-foreground" />
13398:           <Input
13399:             placeholder="Search by name, SKU, or category..."
13400:             value={searchTerm}
13401:             onChange={(e) => setSearchTerm(e.target.value)}
13402:             className="flex-1"
13403:           />
13404:         </div>
13405:         
13406:         <div className="grid grid-cols-1 gap-4">
13407:           <ScrollArea className="h-[300px]">
13408:             <Table>
13409:               <TableHeader>
13410:                 <TableRow>
13411:                   <TableHead className="w-[50px]"></TableHead>
13412:                   <TableHead>SKU</TableHead>
13413:                   <TableHead>Name</TableHead>
13414:                   <TableHead>Category</TableHead>
13415:                   <TableHead className="text-right">Cost Price</TableHead>
13416:                   <TableHead>Status</TableHead>
13417:                 </TableRow>
13418:               </TableHeader>
13419:               <TableBody>
13420:                 {filteredProducts.map((product) => (
13421:                   <TableRow 
13422:                     key={product.id} 
13423:                     className={isProductSelected(product.id) ? "bg-muted/50" : ""}
13424:                     onClick={() => handleProductSelect(product)}
13425:                   >
13426:                     <TableCell>
13427:                       <Checkbox 
13428:                         checked={isProductSelected(product.id)}
13429:                         onCheckedChange={() => handleProductSelect(product)}
13430:                       />
13431:                     </TableCell>
13432:                     <TableCell className="font-medium">{product.sku}</TableCell>
13433:                     <TableCell>{product.name}</TableCell>
13434:                     <TableCell>{product.category}</TableCell>
13435:                     <TableCell className="text-right">${product.costPrice?.toFixed(2) || "0.00"}</TableCell>
13436:                     <TableCell>
13437:                       <Badge className={getStockStatus(product.stock, product.safetyStock).color}>
13438:                         {getStockStatus(product.stock, product.safetyStock).label}
13439:                       </Badge>
13440:                     </TableCell>
13441:                   </TableRow>
13442:                 ))}
13443:                 {filteredProducts.length === 0 && (
13444:                   <TableRow>
13445:                     <TableCell colSpan={6} className="text-center py-4 text-muted-foreground">
13446:                       No products found matching your search
13447:                     </TableCell>
13448:                   </TableRow>
13449:                 )}
13450:               </TableBody>
13451:             </Table>
13452:           </ScrollArea>
13453:           
13454:           {Object.keys(selectedProducts).length > 0 && (
13455:             <div className="mt-4">
13456:               <h3 className="text-lg font-medium mb-2">Selected Products</h3>
13457:               <Table>
13458:                 <TableHeader>
13459:                   <TableRow>
13460:                     <TableHead>Product</TableHead>
13461:                     <TableHead className="text-right">Quantity</TableHead>
13462:                     <TableHead className="text-right">Unit Price</TableHead>
13463:                     <TableHead className="text-right">Total</TableHead>
13464:                     <TableHead className="w-[50px]"></TableHead>
13465:                   </TableRow>
13466:                 </TableHeader>
13467:                 <TableBody>
13468:                   {Object.keys(selectedProducts).map((productId) => {
13469:                     const product = selectedProducts[productId];
13470:                     const quantity = quantities[productId] || 1;
13471:                     const price = prices[productId] || 0;
13472:                     const total = quantity * price;
13473:                     
13474:                     return (
13475:                       <TableRow key={productId}>
13476:                         <TableCell>
13477:                           <div>
13478:                             <p className="font-medium">{product.name}</p>
13479:                             <p className="text-sm text-muted-foreground">{product.sku}</p>
13480:                           </div>
13481:                         </TableCell>
13482:                         <TableCell className="text-right">
13483:                           <div className="flex items-center justify-end space-x-2">
13484:                             <Button 
13485:                               variant="outline" 
13486:                               size="icon" 
13487:                               className="h-8 w-8"
13488:                               onClick={(e) => {
13489:                                 e.stopPropagation();
13490:                                 handleQuantityChange(productId, (quantities[productId] || 1) - 1);
13491:                               }}
13492:                             >
13493:                               <Minus className="h-4 w-4" />
13494:                             </Button>
13495:                             <Input
13496:                               type="number"
13497:                               min="1"
13498:                               value={quantity}
13499:                               onChange={(e) => handleQuantityChange(productId, parseInt(e.target.value) || 1)}
13500:                               className="w-16 text-right"
13501:                               onClick={(e) => e.stopPropagation()}
13502:                             />
13503:                             <Button 
13504:                               variant="outline" 
13505:                               size="icon" 
13506:                               className="h-8 w-8"
13507:                               onClick={(e) => {
13508:                                 e.stopPropagation();
13509:                                 handleQuantityChange(productId, (quantities[productId] || 1) + 1);
13510:                               }}
13511:                             >
13512:                               <Plus className="h-4 w-4" />
13513:                             </Button>
13514:                           </div>
13515:                         </TableCell>
13516:                         <TableCell className="text-right">
13517:                           <Input
13518:                             type="number"
13519:                             min="0"
13520:                             step="0.01"
13521:                             value={price}
13522:                             onChange={(e) => handlePriceChange(productId, parseFloat(e.target.value) || 0)}
13523:                             className="w-24 text-right"
13524:                             onClick={(e) => e.stopPropagation()}
13525:                           />
13526:                         </TableCell>
13527:                         <TableCell className="text-right font-medium">
13528:                           ${total.toFixed(2)}
13529:                         </TableCell>
13530:                         <TableCell>
13531:                           <Button 
13532:                             variant="ghost" 
13533:                             size="icon" 
13534:                             onClick={(e) => {
13535:                               e.stopPropagation();
13536:                               handleProductSelect(product);
13537:                             }}
13538:                           >
13539:                             <X className="h-4 w-4" />
13540:                           </Button>
13541:                         </TableCell>
13542:                       </TableRow>
13543:                     );
13544:                   })}
13545:                 </TableBody>
13546:               </Table>
13547:             </div>
13548:           )}
13549:         </div>
13550:         
13551:         <DialogFooter>
13552:           <Button variant="outline" onClick={() => setIsOpen(false)}>
13553:             Cancel
13554:           </Button>
13555:           <Button onClick={handleConfirm} disabled={Object.keys(selectedProducts).length === 0}>
13556:             Add {Object.keys(selectedProducts).length} Products
13557:           </Button>
13558:         </DialogFooter>
13559:       </DialogContent>
13560:     </Dialog>
13561:   );
13562: }
13563: ```
13564: 
13565: ## components\shared\delete-button.tsx
13566: 
13567: - Characters: 2619
13568: - Tokens: 0
13569: 
13570: ```text
13571: "use client";
13572: 
13573: import { useState } from "react";
13574: import { Trash2 } from "lucide-react";
13575: import { Button } from "@/components/ui/button";
13576: import {
13577:   AlertDialog,
13578:   AlertDialogAction,
13579:   AlertDialogCancel,
13580:   AlertDialogContent,
13581:   AlertDialogDescription,
13582:   AlertDialogFooter,
13583:   AlertDialogHeader,
13584:   AlertDialogTitle,
13585: } from "@/components/ui/alert-dialog";
13586: import { useToast } from "@/hooks/use-toast";
13587: 
13588: interface DeleteButtonProps {
13589:   id: string;
13590:   name: string;
13591:   onDelete: (id: string) => Promise<void>;
13592:   disabled?: boolean;
13593:   disabledReason?: string;
13594: }
13595: 
13596: export function DeleteButton({
13597:   id,
13598:   name,
13599:   onDelete,
13600:   disabled = false,
13601:   disabledReason = "This item cannot be deleted",
13602: }: DeleteButtonProps) {
13603:   const [open, setOpen] = useState(false);
13604:   const [isDeleting, setIsDeleting] = useState(false);
13605:   const { toast } = useToast();
13606: 
13607:   const handleDelete = async () => {
13608:     try {
13609:       setIsDeleting(true);
13610:       await onDelete(id);
13611:       toast({
13612:         title: "Deleted successfully",
13613:         description: `${name} has been deleted.`,
13614:       });
13615:       setOpen(false);
13616:     } catch (error) {
13617:       toast({
13618:         title: "Error",
13619:         description: error instanceof Error ? error.message : "Failed to delete",
13620:         variant: "destructive",
13621:       });
13622:     } finally {
13623:       setIsDeleting(false);
13624:     }
13625:   };
13626: 
13627:   return (
13628:     <>
13629:       <Button
13630:         variant="ghost"
13631:         size="icon"
13632:         className="text-destructive hover:bg-destructive/10 hover:text-destructive"
13633:         onClick={() => setOpen(true)}
13634:         disabled={disabled}
13635:         title={disabled ? disabledReason : "Delete"}
13636:       >
13637:         <Trash2 className="h-4 w-4" />
13638:       </Button>
13639: 
13640:       <AlertDialog open={open} onOpenChange={setOpen}>
13641:         <AlertDialogContent>
13642:           <AlertDialogHeader>
13643:             <AlertDialogTitle>Are you sure?</AlertDialogTitle>
13644:             <AlertDialogDescription>
13645:               This will permanently delete <strong>{name}</strong>. This action cannot be undone.
13646:             </AlertDialogDescription>
13647:           </AlertDialogHeader>
13648:           <AlertDialogFooter>
13649:             <AlertDialogCancel disabled={isDeleting}>Cancel</AlertDialogCancel>
13650:             <AlertDialogAction
13651:               onClick={(e) => {
13652:                 e.preventDefault();
13653:                 handleDelete();
13654:               }}
13655:               disabled={isDeleting}
13656:               className="bg-destructive text-destructive-foreground hover:bg-destructive/90"
13657:             >
13658:               {isDeleting ? "Deleting..." : "Delete"}
13659:             </AlertDialogAction>
13660:           </AlertDialogFooter>
13661:         </AlertDialogContent>
13662:       </AlertDialog>
13663:     </>
13664:   );
13665: }
13666: ```
13667: 
13668: ## components\theme-provider.tsx
13669: 
13670: - Characters: 331
13671: - Tokens: 0
13672: 
13673: ```text
13674: "use client";
13675: 
13676: import * as React from "react";
13677: import { ThemeProvider as NextThemesProvider } from "next-themes";
13678: import { type ThemeProviderProps } from "next-themes/dist/types";
13679: 
13680: export function ThemeProvider({ children, ...props }: ThemeProviderProps) {
13681:   return <NextThemesProvider {...props}>{children}</NextThemesProvider>;
13682: }
13683: ```
13684: 
13685: ## components\transfers\product-transfer-selector.tsx
13686: 
13687: - Characters: 16571
13688: - Tokens: 0
13689: 
13690: ```text
13691: "use client";
13692: 
13693: import { useState, useEffect } from "react";
13694: import { X, Search, Plus, Minus } from "lucide-react";
13695: import { Button } from "@/components/ui/button";
13696: import { Input } from "@/components/ui/input";
13697: import {
13698:   Dialog,
13699:   DialogContent,
13700:   DialogDescription,
13701:   DialogFooter,
13702:   DialogHeader,
13703:   DialogTitle,
13704:   DialogTrigger,
13705: } from "@/components/ui/dialog";
13706: import {
13707:   Table,
13708:   TableBody,
13709:   TableCell,
13710:   TableHead,
13711:   TableHeader,
13712:   TableRow,
13713: } from "@/components/ui/table";
13714: import { Badge } from "@/components/ui/badge";
13715: import { ScrollArea } from "@/components/ui/scroll-area";
13716: import { Checkbox } from "@/components/ui/checkbox";
13717: import { Alert, AlertDescription } from "@/components/ui/alert";
13718: 
13719: // Mock products data - this would normally be in a database
13720: const mockProducts = [
13721:   {
13722:     id: "1",
13723:     sku: "SH-001",
13724:     name: "Cotton T-Shirt",
13725:     description: "Comfortable cotton t-shirt for everyday wear",
13726:     category: "Shirts",
13727:     categories: ["1"],
13728:     costPrice: 12.50,
13729:     sellingPrice: 24.99,
13730:     stock: 120,
13731:     safetyStock: 20,
13732:   },
13733:   {
13734:     id: "2",
13735:     sku: "PA-001",
13736:     name: "Slim Fit Jeans",
13737:     description: "Stylish slim fit jeans for a modern look",
13738:     category: "Pants",
13739:     categories: ["2"],
13740:     costPrice: 18.75,
13741:     sellingPrice: 39.99,
13742:     stock: 85,
13743:     safetyStock: 15,
13744:   },
13745:   {
13746:     id: "3",
13747:     sku: "DR-001",
13748:     name: "Summer Dress",
13749:     description: "Light and airy dress for summer days",
13750:     category: "Dresses",
13751:     categories: ["3"],
13752:     costPrice: 22.00,
13753:     sellingPrice: 49.99,
13754:     stock: 42,
13755:     safetyStock: 10,
13756:   },
13757:   {
13758:     id: "4",
13759:     sku: "AC-001",
13760:     name: "Leather Belt",
13761:     description: "Classic leather belt with metal buckle",
13762:     category: "Accessories",
13763:     categories: ["4"],
13764:     costPrice: 8.25,
13765:     sellingPrice: 19.99,
13766:     stock: 65,
13767:     safetyStock: 12,
13768:   },
13769:   {
13770:     id: "5",
13771:     sku: "SH-002",
13772:     name: "Polo Shirt",
13773:     description: "Classic polo shirt with embroidered logo",
13774:     category: "Shirts",
13775:     categories: ["1"],
13776:     costPrice: 15.00,
13777:     sellingPrice: 29.99,
13778:     stock: 8,
13779:     safetyStock: 15,
13780:   },
13781: ];
13782: 
13783: // Mock inventory data - this would normally be in a database
13784: const mockInventory = [
13785:   { warehouseId: "1", productId: "1", quantity: 70 }, // Main Store - Cotton T-Shirt
13786:   { warehouseId: "1", productId: "2", quantity: 60 }, // Main Store - Slim Fit Jeans
13787:   { warehouseId: "1", productId: "3", quantity: 30 }, // Main Store - Summer Dress
13788:   { warehouseId: "1", productId: "4", quantity: 40 }, // Main Store - Leather Belt
13789:   { warehouseId: "1", productId: "5", quantity: 5 },  // Main Store - Polo Shirt
13790:   
13791:   { warehouseId: "2", productId: "1", quantity: 30 }, // Downtown Branch - Cotton T-Shirt
13792:   { warehouseId: "2", productId: "2", quantity: 15 }, // Downtown Branch - Slim Fit Jeans
13793:   { warehouseId: "2", productId: "3", quantity: 10 }, // Downtown Branch - Summer Dress
13794:   { warehouseId: "2", productId: "4", quantity: 15 }, // Downtown Branch - Leather Belt
13795:   { warehouseId: "2", productId: "5", quantity: 3 },  // Downtown Branch - Polo Shirt
13796:   
13797:   { warehouseId: "3", productId: "1", quantity: 20 }, // Mall Outlet - Cotton T-Shirt
13798:   { warehouseId: "3", productId: "2", quantity: 10 }, // Mall Outlet - Slim Fit Jeans
13799:   { warehouseId: "3", productId: "3", quantity: 2 },  // Mall Outlet - Summer Dress
13800:   { warehouseId: "3", productId: "4", quantity: 10 }, // Mall Outlet - Leather Belt
13801:   { warehouseId: "3", productId: "5", quantity: 0 },  // Mall Outlet - Polo Shirt
13802:   
13803:   { warehouseId: "4", productId: "1", quantity: 100 }, // Distribution Center - Cotton T-Shirt
13804:   { warehouseId: "4", productId: "2", quantity: 80 },  // Distribution Center - Slim Fit Jeans
13805:   { warehouseId: "4", productId: "3", quantity: 50 },  // Distribution Center - Summer Dress
13806:   { warehouseId: "4", productId: "4", quantity: 60 },  // Distribution Center - Leather Belt
13807:   { warehouseId: "4", productId: "5", quantity: 40 },  // Distribution Center - Polo Shirt
13808: ];
13809: 
13810: // Create a global variable to store the updated inventory if it doesn't exist
13811: if (typeof window !== 'undefined' && !window.hasOwnProperty('updatedInventory')) {
13812:   window.updatedInventory = [...mockInventory];
13813: }
13814: 
13815: interface ProductTransferSelectorProps {
13816:   onProductsSelected: (products: any[]) => void;
13817:   existingItems?: any[];
13818:   sourceWarehouseId?: string;
13819: }
13820: 
13821: export function ProductTransferSelector({ 
13822:   onProductsSelected, 
13823:   existingItems = [],
13824:   sourceWarehouseId = ""
13825: }: ProductTransferSelectorProps) {
13826:   const [isOpen, setIsOpen] = useState(false);
13827:   const [searchTerm, setSearchTerm] = useState("");
13828:   const [products, setProducts] = useState<any[]>([]);
13829:   const [selectedProducts, setSelectedProducts] = useState<Record<string, any>>({});
13830:   const [quantities, setQuantities] = useState<Record<string, number>>({});
13831:   const [warehouseInventory, setWarehouseInventory] = useState<Record<string, number>>({});
13832: 
13833:   // Load products from our mock database
13834:   useEffect(() => {
13835:     const loadProducts = () => {
13836:       const productsData = typeof window !== 'undefined' && window.updatedProducts 
13837:         ? window.updatedProducts 
13838:         : mockProducts;
13839:       setProducts(productsData);
13840:     };
13841:     
13842:     loadProducts();
13843:   }, []);
13844: 
13845:   // Load inventory for the selected warehouse
13846:   useEffect(() => {
13847:     if (sourceWarehouseId) {
13848:       const loadInventory = () => {
13849:         const inventoryData = typeof window !== 'undefined' && window.updatedInventory
13850:           ? window.updatedInventory
13851:           : mockInventory;
13852:         
13853:         // Filter inventory for the selected warehouse
13854:         const warehouseItems = inventoryData.filter(item => item.warehouseId === sourceWarehouseId);
13855:         
13856:         // Create a map of product ID to quantity
13857:         const inventoryMap: Record<string, number> = {};
13858:         warehouseItems.forEach(item => {
13859:           inventoryMap[item.productId] = item.quantity;
13860:         });
13861:         
13862:         setWarehouseInventory(inventoryMap);
13863:       };
13864:       
13865:       loadInventory();
13866:     }
13867:   }, [sourceWarehouseId]);
13868: 
13869:   // Initialize with existing items if provided
13870:   useEffect(() => {
13871:     if (existingItems && existingItems.length > 0) {
13872:       const selectedMap: Record<string, any> = {};
13873:       const quantityMap: Record<string, number> = {};
13874:       
13875:       existingItems.forEach(item => {
13876:         selectedMap[item.productId] = {
13877:           id: item.productId,
13878:           sku: item.sku,
13879:           name: item.name,
13880:         };
13881:         quantityMap[item.productId] = item.quantity;
13882:       });
13883:       
13884:       setSelectedProducts(selectedMap);
13885:       setQuantities(quantityMap);
13886:     }
13887:   }, [existingItems]);
13888: 
13889:   const filteredProducts = products.filter(product => 
13890:     (product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
13891:     product.sku.toLowerCase().includes(searchTerm.toLowerCase()) ||
13892:     product.category.toLowerCase().includes(searchTerm.toLowerCase())) &&
13893:     // Only show products that have inventory in the source warehouse
13894:     (warehouseInventory[product.id] > 0)
13895:   );
13896: 
13897:   const handleProductSelect = (product: any) => {
13898:     setSelectedProducts(prev => {
13899:       const newSelected = { ...prev };
13900:       
13901:       if (newSelected[product.id]) {
13902:         delete newSelected[product.id];
13903:       } else {
13904:         newSelected[product.id] = {
13905:           id: product.id,
13906:           sku: product.sku,
13907:           name: product.name,
13908:         };
13909:         
13910:         // Initialize quantity if not already set
13911:         if (!quantities[product.id]) {
13912:           setQuantities(prev => ({
13913:             ...prev,
13914:             [product.id]: 1
13915:           }));
13916:         }
13917:       }
13918:       
13919:       return newSelected;
13920:     });
13921:   };
13922: 
13923:   const handleQuantityChange = (productId: string, value: number) => {
13924:     if (value < 1) value = 1;
13925:     
13926:     // Don't allow more than available inventory
13927:     const maxAvailable = warehouseInventory[productId] || 0;
13928:     if (value > maxAvailable) value = maxAvailable;
13929:     
13930:     setQuantities(prev => ({
13931:       ...prev,
13932:       [productId]: value
13933:     }));
13934:   };
13935: 
13936:   const handleConfirm = () => {
13937:     const selectedItems = Object.keys(selectedProducts).map(productId => {
13938:       const product = selectedProducts[productId];
13939:       return {
13940:         id: `item-${Date.now()}-${productId}`, // Generate a unique ID for the item
13941:         productId: product.id,
13942:         sku: product.sku,
13943:         name: product.name,
13944:         quantity: quantities[productId] || 1,
13945:       };
13946:     });
13947:     
13948:     onProductsSelected(selectedItems);
13949:     setIsOpen(false);
13950:   };
13951: 
13952:   const isProductSelected = (productId: string) => {
13953:     return !!selectedProducts[productId];
13954:   };
13955: 
13956:   const getAvailableQuantity = (productId: string) => {
13957:     return warehouseInventory[productId] || 0;
13958:   };
13959: 
13960:   return (
13961:     <Dialog open={isOpen} onOpenChange={setIsOpen}>
13962:       <DialogTrigger asChild>
13963:         <Button disabled={!sourceWarehouseId}>
13964:           <Plus className="mr-2 h-4 w-4" />
13965:           Add Products
13966:         </Button>
13967:       </DialogTrigger>
13968:       <DialogContent className="sm:max-w-[900px]">
13969:         <DialogHeader>
13970:           <DialogTitle>Select Products to Transfer</DialogTitle>
13971:           <DialogDescription>
13972:             Select products from the source warehouse to transfer
13973:           </DialogDescription>
13974:         </DialogHeader>
13975:         
13976:         {!sourceWarehouseId ? (
13977:           <Alert>
13978:             <AlertDescription>
13979:               Please select a source warehouse first to see available products.
13980:             </AlertDescription>
13981:           </Alert>
13982:         ) : (
13983:           <>
13984:             <div className="flex items-center space-x-2 py-4">
13985:               <Search className="h-5 w-5 text-muted-foreground" />
13986:               <Input
13987:                 placeholder="Search by name, SKU, or category..."
13988:                 value={searchTerm}
13989:                 onChange={(e) => setSearchTerm(e.target.value)}
13990:                 className="flex-1"
13991:               />
13992:             </div>
13993:             
13994:             <div className="grid grid-cols-1 gap-4">
13995:               <ScrollArea className="h-[300px]">
13996:                 <Table>
13997:                   <TableHeader>
13998:                     <TableRow>
13999:                       <TableHead className="w-[50px]"></TableHead>
14000:                       <TableHead>SKU</TableHead>
14001:                       <TableHead>Name</TableHead>
14002:                       <TableHead>Category</TableHead>
14003:                       <TableHead className="text-right">Available</TableHead>
14004:                     </TableRow>
14005:                   </TableHeader>
14006:                   <TableBody>
14007:                     {filteredProducts.map((product) => (
14008:                       <TableRow 
14009:                         key={product.id} 
14010:                         className={isProductSelected(product.id) ? "bg-muted/50" : ""}
14011:                         onClick={() => handleProductSelect(product)}
14012:                       >
14013:                         <TableCell>
14014:                           <Checkbox 
14015:                             checked={isProductSelected(product.id)}
14016:                             onCheckedChange={() => handleProductSelect(product)}
14017:                           />
14018:                         </TableCell>
14019:                         <TableCell className="font-medium">{product.sku}</TableCell>
14020:                         <TableCell>{product.name}</TableCell>
14021:                         <TableCell>{product.category}</TableCell>
14022:                         <TableCell className="text-right">{getAvailableQuantity(product.id)}</TableCell>
14023:                       </TableRow>
14024:                     ))}
14025:                     {filteredProducts.length === 0 && (
14026:                       <TableRow>
14027:                         <TableCell colSpan={5} className="text-center py-4 text-muted-foreground">
14028:                           {searchTerm ? 
14029:                             "No products found matching your search" : 
14030:                             "No products available in the selected warehouse"}
14031:                         </TableCell>
14032:                       </TableRow>
14033:                     )}
14034:                   </TableBody>
14035:                 </Table>
14036:               </ScrollArea>
14037:               
14038:               {Object.keys(selectedProducts).length > 0 && (
14039:                 <div className="mt-4">
14040:                   <h3 className="text-lg font-medium mb-2">Selected Products</h3>
14041:                   <Table>
14042:                     <TableHeader>
14043:                       <TableRow>
14044:                         <TableHead>Product</TableHead>
14045:                         <TableHead className="text-right">Quantity</TableHead>
14046:                         <TableHead className="text-right">Available</TableHead>
14047:                         <TableHead className="w-[50px]"></TableHead>
14048:                       </TableRow>
14049:                     </TableHeader>
14050:                     <TableBody>
14051:                       {Object.keys(selectedProducts).map((productId) => {
14052:                         const product = selectedProducts[productId];
14053:                         const quantity = quantities[productId] || 1;
14054:                         const available = getAvailableQuantity(productId);
14055:                         
14056:                         return (
14057:                           <TableRow key={productId}>
14058:                             <TableCell>
14059:                               <div>
14060:                                 <p className="font-medium">{product.name}</p>
14061:                                 <p className="text-sm text-muted-foreground">{product.sku}</p>
14062:                               </div>
14063:                             </TableCell>
14064:                             <TableCell className="text-right">
14065:                               <div className="flex items-center justify-end space-x-2">
14066:                                 <Button 
14067:                                   variant="outline" 
14068:                                   size="icon" 
14069:                                   className="h-8 w-8"
14070:                                   onClick={(e) => {
14071:                                     e.stopPropagation();
14072:                                     handleQuantityChange(productId, (quantities[productId] || 1) - 1);
14073:                                   }}
14074:                                 >
14075:                                   <Minus className="h-4 w-4" />
14076:                                 </Button>
14077:                                 <Input
14078:                                   type="number"
14079:                                   min="1"
14080:                                   max={available}
14081:                                   value={quantity}
14082:                                   onChange={(e) => handleQuantityChange(productId, parseInt(e.target.value) || 1)}
14083:                                   className="w-16 text-right"
14084:                                   onClick={(e) => e.stopPropagation()}
14085:                                 />
14086:                                 <Button 
14087:                                   variant="outline" 
14088:                                   size="icon" 
14089:                                   className="h-8 w-8"
14090:                                   onClick={(e) => {
14091:                                     e.stopPropagation();
14092:                                     handleQuantityChange(productId, (quantities[productId] || 1) + 1);
14093:                                   }}
14094:                                 >
14095:                                   <Plus className="h-4 w-4" />
14096:                                 </Button>
14097:                               </div>
14098:                             </TableCell>
14099:                             <TableCell className="text-right">
14100:                               {available}
14101:                             </TableCell>
14102:                             <TableCell>
14103:                               <Button 
14104:                                 variant="ghost" 
14105:                                 size="icon" 
14106:                                 onClick={(e) => {
14107:                                   e.stopPropagation();
14108:                                   handleProductSelect(product);
14109:                                 }}
14110:                               >
14111:                                 <X className="h-4 w-4" />
14112:                               </Button>
14113:                             </TableCell>
14114:                           </TableRow>
14115:                         );
14116:                       })}
14117:                     </TableBody>
14118:                   </Table>
14119:                 </div>
14120:               )}
14121:             </div>
14122:           </>
14123:         )}
14124:         
14125:         <DialogFooter>
14126:           <Button variant="outline" onClick={() => setIsOpen(false)}>
14127:             Cancel
14128:           </Button>
14129:           <Button 
14130:             onClick={handleConfirm} 
14131:             disabled={Object.keys(selectedProducts).length === 0 || !sourceWarehouseId}
14132:           >
14133:             Add {Object.keys(selectedProducts).length} Products
14134:           </Button>
14135:         </DialogFooter>
14136:       </DialogContent>
14137:     </Dialog>
14138:   );
14139: }
14140: ```
14141: 
14142: ## components\ui\accordion.tsx
14143: 
14144: - Characters: 2003
14145: - Tokens: 0
14146: 
14147: ```text
14148: 'use client';
14149: 
14150: import * as React from 'react';
14151: import * as AccordionPrimitive from '@radix-ui/react-accordion';
14152: import { ChevronDown } from 'lucide-react';
14153: 
14154: import { cn } from '@/lib/utils';
14155: 
14156: const Accordion = AccordionPrimitive.Root;
14157: 
14158: const AccordionItem = React.forwardRef<
14159:   React.ElementRef<typeof AccordionPrimitive.Item>,
14160:   React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>
14161: >(({ className, ...props }, ref) => (
14162:   <AccordionPrimitive.Item
14163:     ref={ref}
14164:     className={cn('border-b', className)}
14165:     {...props}
14166:   />
14167: ));
14168: AccordionItem.displayName = 'AccordionItem';
14169: 
14170: const AccordionTrigger = React.forwardRef<
14171:   React.ElementRef<typeof AccordionPrimitive.Trigger>,
14172:   React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>
14173: >(({ className, children, ...props }, ref) => (
14174:   <AccordionPrimitive.Header className="flex">
14175:     <AccordionPrimitive.Trigger
14176:       ref={ref}
14177:       className={cn(
14178:         'flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180',
14179:         className
14180:       )}
14181:       {...props}
14182:     >
14183:       {children}
14184:       <ChevronDown className="h-4 w-4 shrink-0 transition-transform duration-200" />
14185:     </AccordionPrimitive.Trigger>
14186:   </AccordionPrimitive.Header>
14187: ));
14188: AccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName;
14189: 
14190: const AccordionContent = React.forwardRef<
14191:   React.ElementRef<typeof AccordionPrimitive.Content>,
14192:   React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>
14193: >(({ className, children, ...props }, ref) => (
14194:   <AccordionPrimitive.Content
14195:     ref={ref}
14196:     className="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"
14197:     {...props}
14198:   >
14199:     <div className={cn('pb-4 pt-0', className)}>{children}</div>
14200:   </AccordionPrimitive.Content>
14201: ));
14202: 
14203: AccordionContent.displayName = AccordionPrimitive.Content.displayName;
14204: 
14205: export { Accordion, AccordionItem, AccordionTrigger, AccordionContent };
14206: ```
14207: 
14208: ## components\ui\alert-dialog.tsx
14209: 
14210: - Characters: 4432
14211: - Tokens: 0
14212: 
14213: ```text
14214: "use client"
14215: 
14216: import * as React from "react"
14217: import * as AlertDialogPrimitive from "@radix-ui/react-alert-dialog"
14218: 
14219: import { cn } from "@/lib/utils"
14220: import { buttonVariants } from "@/components/ui/button"
14221: 
14222: const AlertDialog = AlertDialogPrimitive.Root
14223: 
14224: const AlertDialogTrigger = AlertDialogPrimitive.Trigger
14225: 
14226: const AlertDialogPortal = AlertDialogPrimitive.Portal
14227: 
14228: const AlertDialogOverlay = React.forwardRef<
14229:   React.ElementRef<typeof AlertDialogPrimitive.Overlay>,
14230:   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>
14231: >(({ className, ...props }, ref) => (
14232:   <AlertDialogPrimitive.Overlay
14233:     className={cn(
14234:       "fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
14235:       className
14236:     )}
14237:     {...props}
14238:     ref={ref}
14239:   />
14240: ))
14241: AlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName
14242: 
14243: const AlertDialogContent = React.forwardRef<
14244:   React.ElementRef<typeof AlertDialogPrimitive.Content>,
14245:   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>
14246: >(({ className, ...props }, ref) => (
14247:   <AlertDialogPortal>
14248:     <AlertDialogOverlay />
14249:     <AlertDialogPrimitive.Content
14250:       ref={ref}
14251:       className={cn(
14252:         "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
14253:         className
14254:       )}
14255:       {...props}
14256:     />
14257:   </AlertDialogPortal>
14258: ))
14259: AlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName
14260: 
14261: const AlertDialogHeader = ({
14262:   className,
14263:   ...props
14264: }: React.HTMLAttributes<HTMLDivElement>) => (
14265:   <div
14266:     className={cn(
14267:       "flex flex-col space-y-2 text-center sm:text-left",
14268:       className
14269:     )}
14270:     {...props}
14271:   />
14272: )
14273: AlertDialogHeader.displayName = "AlertDialogHeader"
14274: 
14275: const AlertDialogFooter = ({
14276:   className,
14277:   ...props
14278: }: React.HTMLAttributes<HTMLDivElement>) => (
14279:   <div
14280:     className={cn(
14281:       "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
14282:       className
14283:     )}
14284:     {...props}
14285:   />
14286: )
14287: AlertDialogFooter.displayName = "AlertDialogFooter"
14288: 
14289: const AlertDialogTitle = React.forwardRef<
14290:   React.ElementRef<typeof AlertDialogPrimitive.Title>,
14291:   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>
14292: >(({ className, ...props }, ref) => (
14293:   <AlertDialogPrimitive.Title
14294:     ref={ref}
14295:     className={cn("text-lg font-semibold", className)}
14296:     {...props}
14297:   />
14298: ))
14299: AlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName
14300: 
14301: const AlertDialogDescription = React.forwardRef<
14302:   React.ElementRef<typeof AlertDialogPrimitive.Description>,
14303:   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>
14304: >(({ className, ...props }, ref) => (
14305:   <AlertDialogPrimitive.Description
14306:     ref={ref}
14307:     className={cn("text-sm text-muted-foreground", className)}
14308:     {...props}
14309:   />
14310: ))
14311: AlertDialogDescription.displayName =
14312:   AlertDialogPrimitive.Description.displayName
14313: 
14314: const AlertDialogAction = React.forwardRef<
14315:   React.ElementRef<typeof AlertDialogPrimitive.Action>,
14316:   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>
14317: >(({ className, ...props }, ref) => (
14318:   <AlertDialogPrimitive.Action
14319:     ref={ref}
14320:     className={cn(buttonVariants(), className)}
14321:     {...props}
14322:   />
14323: ))
14324: AlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName
14325: 
14326: const AlertDialogCancel = React.forwardRef<
14327:   React.ElementRef<typeof AlertDialogPrimitive.Cancel>,
14328:   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>
14329: >(({ className, ...props }, ref) => (
14330:   <AlertDialogPrimitive.Cancel
14331:     ref={ref}
14332:     className={cn(
14333:       buttonVariants({ variant: "outline" }),
14334:       "mt-2 sm:mt-0",
14335:       className
14336:     )}
14337:     {...props}
14338:   />
14339: ))
14340: AlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName
14341: 
14342: export {
14343:   AlertDialog,
14344:   AlertDialogPortal,
14345:   AlertDialogOverlay,
14346:   AlertDialogTrigger,
14347:   AlertDialogContent,
14348:   AlertDialogHeader,
14349:   AlertDialogFooter,
14350:   AlertDialogTitle,
14351:   AlertDialogDescription,
14352:   AlertDialogAction,
14353:   AlertDialogCancel,
14354: }
14355: ```
14356: 
14357: ## components\ui\alert.tsx
14358: 
14359: - Characters: 1594
14360: - Tokens: 0
14361: 
14362: ```text
14363: import * as React from 'react';
14364: import { cva, type VariantProps } from 'class-variance-authority';
14365: 
14366: import { cn } from '@/lib/utils';
14367: 
14368: const alertVariants = cva(
14369:   'relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground',
14370:   {
14371:     variants: {
14372:       variant: {
14373:         default: 'bg-background text-foreground',
14374:         destructive:
14375:           'border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive',
14376:       },
14377:     },
14378:     defaultVariants: {
14379:       variant: 'default',
14380:     },
14381:   }
14382: );
14383: 
14384: const Alert = React.forwardRef<
14385:   HTMLDivElement,
14386:   React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>
14387: >(({ className, variant, ...props }, ref) => (
14388:   <div
14389:     ref={ref}
14390:     role="alert"
14391:     className={cn(alertVariants({ variant }), className)}
14392:     {...props}
14393:   />
14394: ));
14395: Alert.displayName = 'Alert';
14396: 
14397: const AlertTitle = React.forwardRef<
14398:   HTMLParagraphElement,
14399:   React.HTMLAttributes<HTMLHeadingElement>
14400: >(({ className, ...props }, ref) => (
14401:   <h5
14402:     ref={ref}
14403:     className={cn('mb-1 font-medium leading-none tracking-tight', className)}
14404:     {...props}
14405:   />
14406: ));
14407: AlertTitle.displayName = 'AlertTitle';
14408: 
14409: const AlertDescription = React.forwardRef<
14410:   HTMLParagraphElement,
14411:   React.HTMLAttributes<HTMLParagraphElement>
14412: >(({ className, ...props }, ref) => (
14413:   <div
14414:     ref={ref}
14415:     className={cn('text-sm [&_p]:leading-relaxed', className)}
14416:     {...props}
14417:   />
14418: ));
14419: AlertDescription.displayName = 'AlertDescription';
14420: 
14421: export { Alert, AlertTitle, AlertDescription };
14422: ```
14423: 
14424: ## components\ui\aspect-ratio.tsx
14425: 
14426: - Characters: 157
14427: - Tokens: 0
14428: 
14429: ```text
14430: 'use client';
14431: 
14432: import * as AspectRatioPrimitive from '@radix-ui/react-aspect-ratio';
14433: 
14434: const AspectRatio = AspectRatioPrimitive.Root;
14435: 
14436: export { AspectRatio };
14437: ```
14438: 
14439: ## components\ui\avatar.tsx
14440: 
14441: - Characters: 1429
14442: - Tokens: 0
14443: 
14444: ```text
14445: 'use client';
14446: 
14447: import * as React from 'react';
14448: import * as AvatarPrimitive from '@radix-ui/react-avatar';
14449: 
14450: import { cn } from '@/lib/utils';
14451: 
14452: const Avatar = React.forwardRef<
14453:   React.ElementRef<typeof AvatarPrimitive.Root>,
14454:   React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>
14455: >(({ className, ...props }, ref) => (
14456:   <AvatarPrimitive.Root
14457:     ref={ref}
14458:     className={cn(
14459:       'relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full',
14460:       className
14461:     )}
14462:     {...props}
14463:   />
14464: ));
14465: Avatar.displayName = AvatarPrimitive.Root.displayName;
14466: 
14467: const AvatarImage = React.forwardRef<
14468:   React.ElementRef<typeof AvatarPrimitive.Image>,
14469:   React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>
14470: >(({ className, ...props }, ref) => (
14471:   <AvatarPrimitive.Image
14472:     ref={ref}
14473:     className={cn('aspect-square h-full w-full', className)}
14474:     {...props}
14475:   />
14476: ));
14477: AvatarImage.displayName = AvatarPrimitive.Image.displayName;
14478: 
14479: const AvatarFallback = React.forwardRef<
14480:   React.ElementRef<typeof AvatarPrimitive.Fallback>,
14481:   React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>
14482: >(({ className, ...props }, ref) => (
14483:   <AvatarPrimitive.Fallback
14484:     ref={ref}
14485:     className={cn(
14486:       'flex h-full w-full items-center justify-center rounded-full bg-muted',
14487:       className
14488:     )}
14489:     {...props}
14490:   />
14491: ));
14492: AvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;
14493: 
14494: export { Avatar, AvatarImage, AvatarFallback };
14495: ```
14496: 
14497: ## components\ui\badge.tsx
14498: 
14499: - Characters: 1133
14500: - Tokens: 0
14501: 
14502: ```text
14503: import * as React from 'react';
14504: import { cva, type VariantProps } from 'class-variance-authority';
14505: 
14506: import { cn } from '@/lib/utils';
14507: 
14508: const badgeVariants = cva(
14509:   'inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',
14510:   {
14511:     variants: {
14512:       variant: {
14513:         default:
14514:           'border-transparent bg-primary text-primary-foreground hover:bg-primary/80',
14515:         secondary:
14516:           'border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80',
14517:         destructive:
14518:           'border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80',
14519:         outline: 'text-foreground',
14520:       },
14521:     },
14522:     defaultVariants: {
14523:       variant: 'default',
14524:     },
14525:   }
14526: );
14527: 
14528: export interface BadgeProps
14529:   extends React.HTMLAttributes<HTMLDivElement>,
14530:     VariantProps<typeof badgeVariants> {}
14531: 
14532: function Badge({ className, variant, ...props }: BadgeProps) {
14533:   return (
14534:     <div className={cn(badgeVariants({ variant }), className)} {...props} />
14535:   );
14536: }
14537: 
14538: export { Badge, badgeVariants };
14539: ```
14540: 
14541: ## components\ui\breadcrumb.tsx
14542: 
14543: - Characters: 2723
14544: - Tokens: 0
14545: 
14546: ```text
14547: import * as React from 'react';
14548: import { Slot } from '@radix-ui/react-slot';
14549: import { ChevronRight, MoreHorizontal } from 'lucide-react';
14550: 
14551: import { cn } from '@/lib/utils';
14552: 
14553: const Breadcrumb = React.forwardRef<
14554:   HTMLElement,
14555:   React.ComponentPropsWithoutRef<'nav'> & {
14556:     separator?: React.ReactNode;
14557:   }
14558: >(({ ...props }, ref) => <nav ref={ref} aria-label="breadcrumb" {...props} />);
14559: Breadcrumb.displayName = 'Breadcrumb';
14560: 
14561: const BreadcrumbList = React.forwardRef<
14562:   HTMLOListElement,
14563:   React.ComponentPropsWithoutRef<'ol'>
14564: >(({ className, ...props }, ref) => (
14565:   <ol
14566:     ref={ref}
14567:     className={cn(
14568:       'flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5',
14569:       className
14570:     )}
14571:     {...props}
14572:   />
14573: ));
14574: BreadcrumbList.displayName = 'BreadcrumbList';
14575: 
14576: const BreadcrumbItem = React.forwardRef<
14577:   HTMLLIElement,
14578:   React.ComponentPropsWithoutRef<'li'>
14579: >(({ className, ...props }, ref) => (
14580:   <li
14581:     ref={ref}
14582:     className={cn('inline-flex items-center gap-1.5', className)}
14583:     {...props}
14584:   />
14585: ));
14586: BreadcrumbItem.displayName = 'BreadcrumbItem';
14587: 
14588: const BreadcrumbLink = React.forwardRef<
14589:   HTMLAnchorElement,
14590:   React.ComponentPropsWithoutRef<'a'> & {
14591:     asChild?: boolean;
14592:   }
14593: >(({ asChild, className, ...props }, ref) => {
14594:   const Comp = asChild ? Slot : 'a';
14595: 
14596:   return (
14597:     <Comp
14598:       ref={ref}
14599:       className={cn('transition-colors hover:text-foreground', className)}
14600:       {...props}
14601:     />
14602:   );
14603: });
14604: BreadcrumbLink.displayName = 'BreadcrumbLink';
14605: 
14606: const BreadcrumbPage = React.forwardRef<
14607:   HTMLSpanElement,
14608:   React.ComponentPropsWithoutRef<'span'>
14609: >(({ className, ...props }, ref) => (
14610:   <span
14611:     ref={ref}
14612:     role="link"
14613:     aria-disabled="true"
14614:     aria-current="page"
14615:     className={cn('font-normal text-foreground', className)}
14616:     {...props}
14617:   />
14618: ));
14619: BreadcrumbPage.displayName = 'BreadcrumbPage';
14620: 
14621: const BreadcrumbSeparator = ({
14622:   children,
14623:   className,
14624:   ...props
14625: }: React.ComponentProps<'li'>) => (
14626:   <li
14627:     role="presentation"
14628:     aria-hidden="true"
14629:     className={cn('[&>svg]:size-3.5', className)}
14630:     {...props}
14631:   >
14632:     {children ?? <ChevronRight />}
14633:   </li>
14634: );
14635: BreadcrumbSeparator.displayName = 'BreadcrumbSeparator';
14636: 
14637: const BreadcrumbEllipsis = ({
14638:   className,
14639:   ...props
14640: }: React.ComponentProps<'span'>) => (
14641:   <span
14642:     role="presentation"
14643:     aria-hidden="true"
14644:     className={cn('flex h-9 w-9 items-center justify-center', className)}
14645:     {...props}
14646:   >
14647:     <MoreHorizontal className="h-4 w-4" />
14648:     <span className="sr-only">More</span>
14649:   </span>
14650: );
14651: BreadcrumbEllipsis.displayName = 'BreadcrumbElipssis';
14652: 
14653: export {
14654:   Breadcrumb,
14655:   BreadcrumbList,
14656:   BreadcrumbItem,
14657:   BreadcrumbLink,
14658:   BreadcrumbPage,
14659:   BreadcrumbSeparator,
14660:   BreadcrumbEllipsis,
14661: };
14662: ```
14663: 
14664: ## components\ui\button.tsx
14665: 
14666: - Characters: 1845
14667: - Tokens: 0
14668: 
14669: ```text
14670: import * as React from 'react';
14671: import { Slot } from '@radix-ui/react-slot';
14672: import { cva, type VariantProps } from 'class-variance-authority';
14673: 
14674: import { cn } from '@/lib/utils';
14675: 
14676: const buttonVariants = cva(
14677:   'inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',
14678:   {
14679:     variants: {
14680:       variant: {
14681:         default: 'bg-primary text-primary-foreground hover:bg-primary/90',
14682:         destructive:
14683:           'bg-destructive text-destructive-foreground hover:bg-destructive/90',
14684:         outline:
14685:           'border border-input bg-background hover:bg-accent hover:text-accent-foreground',
14686:         secondary:
14687:           'bg-secondary text-secondary-foreground hover:bg-secondary/80',
14688:         ghost: 'hover:bg-accent hover:text-accent-foreground',
14689:         link: 'text-primary underline-offset-4 hover:underline',
14690:       },
14691:       size: {
14692:         default: 'h-10 px-4 py-2',
14693:         sm: 'h-9 rounded-md px-3',
14694:         lg: 'h-11 rounded-md px-8',
14695:         icon: 'h-10 w-10',
14696:       },
14697:     },
14698:     defaultVariants: {
14699:       variant: 'default',
14700:       size: 'default',
14701:     },
14702:   }
14703: );
14704: 
14705: export interface ButtonProps
14706:   extends React.ButtonHTMLAttributes<HTMLButtonElement>,
14707:     VariantProps<typeof buttonVariants> {
14708:   asChild?: boolean;
14709: }
14710: 
14711: const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
14712:   ({ className, variant, size, asChild = false, ...props }, ref) => {
14713:     const Comp = asChild ? Slot : 'button';
14714:     return (
14715:       <Comp
14716:         className={cn(buttonVariants({ variant, size, className }))}
14717:         ref={ref}
14718:         {...props}
14719:       />
14720:     );
14721:   }
14722: );
14723: Button.displayName = 'Button';
14724: 
14725: export { Button, buttonVariants };
14726: ```
14727: 
14728: ## components\ui\calendar.tsx
14729: 
14730: - Characters: 2632
14731: - Tokens: 0
14732: 
14733: ```text
14734: 'use client';
14735: 
14736: import * as React from 'react';
14737: import { ChevronLeft, ChevronRight } from 'lucide-react';
14738: import { DayPicker } from 'react-day-picker';
14739: 
14740: import { cn } from '@/lib/utils';
14741: import { buttonVariants } from '@/components/ui/button';
14742: 
14743: export type CalendarProps = React.ComponentProps<typeof DayPicker>;
14744: 
14745: function Calendar({
14746:   className,
14747:   classNames,
14748:   showOutsideDays = true,
14749:   ...props
14750: }: CalendarProps) {
14751:   return (
14752:     <DayPicker
14753:       showOutsideDays={showOutsideDays}
14754:       className={cn('p-3', className)}
14755:       classNames={{
14756:         months: 'flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0',
14757:         month: 'space-y-4',
14758:         caption: 'flex justify-center pt-1 relative items-center',
14759:         caption_label: 'text-sm font-medium',
14760:         nav: 'space-x-1 flex items-center',
14761:         nav_button: cn(
14762:           buttonVariants({ variant: 'outline' }),
14763:           'h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100'
14764:         ),
14765:         nav_button_previous: 'absolute left-1',
14766:         nav_button_next: 'absolute right-1',
14767:         table: 'w-full border-collapse space-y-1',
14768:         head_row: 'flex',
14769:         head_cell:
14770:           'text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]',
14771:         row: 'flex w-full mt-2',
14772:         cell: 'h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20',
14773:         day: cn(
14774:           buttonVariants({ variant: 'ghost' }),
14775:           'h-9 w-9 p-0 font-normal aria-selected:opacity-100'
14776:         ),
14777:         day_range_end: 'day-range-end',
14778:         day_selected:
14779:           'bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground',
14780:         day_today: 'bg-accent text-accent-foreground',
14781:         day_outside:
14782:           'day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30',
14783:         day_disabled: 'text-muted-foreground opacity-50',
14784:         day_range_middle:
14785:           'aria-selected:bg-accent aria-selected:text-accent-foreground',
14786:         day_hidden: 'invisible',
14787:         ...classNames,
14788:       }}
14789:       components={{
14790:         IconLeft: ({ ...props }) => <ChevronLeft className="h-4 w-4" />,
14791:         IconRight: ({ ...props }) => <ChevronRight className="h-4 w-4" />,
14792:       }}
14793:       {...props}
14794:     />
14795:   );
14796: }
14797: Calendar.displayName = 'Calendar';
14798: 
14799: export { Calendar };
14800: ```
14801: 
14802: ## components\ui\card.tsx
14803: 
14804: - Characters: 1904
14805: - Tokens: 0
14806: 
14807: ```text
14808: import * as React from 'react';
14809: 
14810: import { cn } from '@/lib/utils';
14811: 
14812: const Card = React.forwardRef<
14813:   HTMLDivElement,
14814:   React.HTMLAttributes<HTMLDivElement>
14815: >(({ className, ...props }, ref) => (
14816:   <div
14817:     ref={ref}
14818:     className={cn(
14819:       'rounded-lg border bg-card text-card-foreground shadow-sm',
14820:       className
14821:     )}
14822:     {...props}
14823:   />
14824: ));
14825: Card.displayName = 'Card';
14826: 
14827: const CardHeader = React.forwardRef<
14828:   HTMLDivElement,
14829:   React.HTMLAttributes<HTMLDivElement>
14830: >(({ className, ...props }, ref) => (
14831:   <div
14832:     ref={ref}
14833:     className={cn('flex flex-col space-y-1.5 p-6', className)}
14834:     {...props}
14835:   />
14836: ));
14837: CardHeader.displayName = 'CardHeader';
14838: 
14839: const CardTitle = React.forwardRef<
14840:   HTMLParagraphElement,
14841:   React.HTMLAttributes<HTMLHeadingElement>
14842: >(({ className, ...props }, ref) => (
14843:   <h3
14844:     ref={ref}
14845:     className={cn(
14846:       'text-2xl font-semibold leading-none tracking-tight',
14847:       className
14848:     )}
14849:     {...props}
14850:   />
14851: ));
14852: CardTitle.displayName = 'CardTitle';
14853: 
14854: const CardDescription = React.forwardRef<
14855:   HTMLParagraphElement,
14856:   React.HTMLAttributes<HTMLParagraphElement>
14857: >(({ className, ...props }, ref) => (
14858:   <p
14859:     ref={ref}
14860:     className={cn('text-sm text-muted-foreground', className)}
14861:     {...props}
14862:   />
14863: ));
14864: CardDescription.displayName = 'CardDescription';
14865: 
14866: const CardContent = React.forwardRef<
14867:   HTMLDivElement,
14868:   React.HTMLAttributes<HTMLDivElement>
14869: >(({ className, ...props }, ref) => (
14870:   <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />
14871: ));
14872: CardContent.displayName = 'CardContent';
14873: 
14874: const CardFooter = React.forwardRef<
14875:   HTMLDivElement,
14876:   React.HTMLAttributes<HTMLDivElement>
14877: >(({ className, ...props }, ref) => (
14878:   <div
14879:     ref={ref}
14880:     className={cn('flex items-center p-6 pt-0', className)}
14881:     {...props}
14882:   />
14883: ));
14884: CardFooter.displayName = 'CardFooter';
14885: 
14886: export {
14887:   Card,
14888:   CardHeader,
14889:   CardFooter,
14890:   CardTitle,
14891:   CardDescription,
14892:   CardContent,
14893: };
14894: ```
14895: 
14896: ## components\ui\carousel.tsx
14897: 
14898: - Characters: 6295
14899: - Tokens: 0
14900: 
14901: ```text
14902: 'use client';
14903: 
14904: import * as React from 'react';
14905: import useEmblaCarousel, {
14906:   type UseEmblaCarouselType,
14907: } from 'embla-carousel-react';
14908: import { ArrowLeft, ArrowRight } from 'lucide-react';
14909: 
14910: import { cn } from '@/lib/utils';
14911: import { Button } from '@/components/ui/button';
14912: 
14913: type CarouselApi = UseEmblaCarouselType[1];
14914: type UseCarouselParameters = Parameters<typeof useEmblaCarousel>;
14915: type CarouselOptions = UseCarouselParameters[0];
14916: type CarouselPlugin = UseCarouselParameters[1];
14917: 
14918: type CarouselProps = {
14919:   opts?: CarouselOptions;
14920:   plugins?: CarouselPlugin;
14921:   orientation?: 'horizontal' | 'vertical';
14922:   setApi?: (api: CarouselApi) => void;
14923: };
14924: 
14925: type CarouselContextProps = {
14926:   carouselRef: ReturnType<typeof useEmblaCarousel>[0];
14927:   api: ReturnType<typeof useEmblaCarousel>[1];
14928:   scrollPrev: () => void;
14929:   scrollNext: () => void;
14930:   canScrollPrev: boolean;
14931:   canScrollNext: boolean;
14932: } & CarouselProps;
14933: 
14934: const CarouselContext = React.createContext<CarouselContextProps | null>(null);
14935: 
14936: function useCarousel() {
14937:   const context = React.useContext(CarouselContext);
14938: 
14939:   if (!context) {
14940:     throw new Error('useCarousel must be used within a <Carousel />');
14941:   }
14942: 
14943:   return context;
14944: }
14945: 
14946: const Carousel = React.forwardRef<
14947:   HTMLDivElement,
14948:   React.HTMLAttributes<HTMLDivElement> & CarouselProps
14949: >(
14950:   (
14951:     {
14952:       orientation = 'horizontal',
14953:       opts,
14954:       setApi,
14955:       plugins,
14956:       className,
14957:       children,
14958:       ...props
14959:     },
14960:     ref
14961:   ) => {
14962:     const [carouselRef, api] = useEmblaCarousel(
14963:       {
14964:         ...opts,
14965:         axis: orientation === 'horizontal' ? 'x' : 'y',
14966:       },
14967:       plugins
14968:     );
14969:     const [canScrollPrev, setCanScrollPrev] = React.useState(false);
14970:     const [canScrollNext, setCanScrollNext] = React.useState(false);
14971: 
14972:     const onSelect = React.useCallback((api: CarouselApi) => {
14973:       if (!api) {
14974:         return;
14975:       }
14976: 
14977:       setCanScrollPrev(api.canScrollPrev());
14978:       setCanScrollNext(api.canScrollNext());
14979:     }, []);
14980: 
14981:     const scrollPrev = React.useCallback(() => {
14982:       api?.scrollPrev();
14983:     }, [api]);
14984: 
14985:     const scrollNext = React.useCallback(() => {
14986:       api?.scrollNext();
14987:     }, [api]);
14988: 
14989:     const handleKeyDown = React.useCallback(
14990:       (event: React.KeyboardEvent<HTMLDivElement>) => {
14991:         if (event.key === 'ArrowLeft') {
14992:           event.preventDefault();
14993:           scrollPrev();
14994:         } else if (event.key === 'ArrowRight') {
14995:           event.preventDefault();
14996:           scrollNext();
14997:         }
14998:       },
14999:       [scrollPrev, scrollNext]
15000:     );
15001: 
15002:     React.useEffect(() => {
15003:       if (!api || !setApi) {
15004:         return;
15005:       }
15006: 
15007:       setApi(api);
15008:     }, [api, setApi]);
15009: 
15010:     React.useEffect(() => {
15011:       if (!api) {
15012:         return;
15013:       }
15014: 
15015:       onSelect(api);
15016:       api.on('reInit', onSelect);
15017:       api.on('select', onSelect);
15018: 
15019:       return () => {
15020:         api?.off('select', onSelect);
15021:       };
15022:     }, [api, onSelect]);
15023: 
15024:     return (
15025:       <CarouselContext.Provider
15026:         value={{
15027:           carouselRef,
15028:           api: api,
15029:           opts,
15030:           orientation:
15031:             orientation || (opts?.axis === 'y' ? 'vertical' : 'horizontal'),
15032:           scrollPrev,
15033:           scrollNext,
15034:           canScrollPrev,
15035:           canScrollNext,
15036:         }}
15037:       >
15038:         <div
15039:           ref={ref}
15040:           onKeyDownCapture={handleKeyDown}
15041:           className={cn('relative', className)}
15042:           role="region"
15043:           aria-roledescription="carousel"
15044:           {...props}
15045:         >
15046:           {children}
15047:         </div>
15048:       </CarouselContext.Provider>
15049:     );
15050:   }
15051: );
15052: Carousel.displayName = 'Carousel';
15053: 
15054: const CarouselContent = React.forwardRef<
15055:   HTMLDivElement,
15056:   React.HTMLAttributes<HTMLDivElement>
15057: >(({ className, ...props }, ref) => {
15058:   const { carouselRef, orientation } = useCarousel();
15059: 
15060:   return (
15061:     <div ref={carouselRef} className="overflow-hidden">
15062:       <div
15063:         ref={ref}
15064:         className={cn(
15065:           'flex',
15066:           orientation === 'horizontal' ? '-ml-4' : '-mt-4 flex-col',
15067:           className
15068:         )}
15069:         {...props}
15070:       />
15071:     </div>
15072:   );
15073: });
15074: CarouselContent.displayName = 'CarouselContent';
15075: 
15076: const CarouselItem = React.forwardRef<
15077:   HTMLDivElement,
15078:   React.HTMLAttributes<HTMLDivElement>
15079: >(({ className, ...props }, ref) => {
15080:   const { orientation } = useCarousel();
15081: 
15082:   return (
15083:     <div
15084:       ref={ref}
15085:       role="group"
15086:       aria-roledescription="slide"
15087:       className={cn(
15088:         'min-w-0 shrink-0 grow-0 basis-full',
15089:         orientation === 'horizontal' ? 'pl-4' : 'pt-4',
15090:         className
15091:       )}
15092:       {...props}
15093:     />
15094:   );
15095: });
15096: CarouselItem.displayName = 'CarouselItem';
15097: 
15098: const CarouselPrevious = React.forwardRef<
15099:   HTMLButtonElement,
15100:   React.ComponentProps<typeof Button>
15101: >(({ className, variant = 'outline', size = 'icon', ...props }, ref) => {
15102:   const { orientation, scrollPrev, canScrollPrev } = useCarousel();
15103: 
15104:   return (
15105:     <Button
15106:       ref={ref}
15107:       variant={variant}
15108:       size={size}
15109:       className={cn(
15110:         'absolute  h-8 w-8 rounded-full',
15111:         orientation === 'horizontal'
15112:           ? '-left-12 top-1/2 -translate-y-1/2'
15113:           : '-top-12 left-1/2 -translate-x-1/2 rotate-90',
15114:         className
15115:       )}
15116:       disabled={!canScrollPrev}
15117:       onClick={scrollPrev}
15118:       {...props}
15119:     >
15120:       <ArrowLeft className="h-4 w-4" />
15121:       <span className="sr-only">Previous slide</span>
15122:     </Button>
15123:   );
15124: });
15125: CarouselPrevious.displayName = 'CarouselPrevious';
15126: 
15127: const CarouselNext = React.forwardRef<
15128:   HTMLButtonElement,
15129:   React.ComponentProps<typeof Button>
15130: >(({ className, variant = 'outline', size = 'icon', ...props }, ref) => {
15131:   const { orientation, scrollNext, canScrollNext } = useCarousel();
15132: 
15133:   return (
15134:     <Button
15135:       ref={ref}
15136:       variant={variant}
15137:       size={size}
15138:       className={cn(
15139:         'absolute h-8 w-8 rounded-full',
15140:         orientation === 'horizontal'
15141:           ? '-right-12 top-1/2 -translate-y-1/2'
15142:           : '-bottom-12 left-1/2 -translate-x-1/2 rotate-90',
15143:         className
15144:       )}
15145:       disabled={!canScrollNext}
15146:       onClick={scrollNext}
15147:       {...props}
15148:     >
15149:       <ArrowRight className="h-4 w-4" />
15150:       <span className="sr-only">Next slide</span>
15151:     </Button>
15152:   );
15153: });
15154: CarouselNext.displayName = 'CarouselNext';
15155: 
15156: export {
15157:   type CarouselApi,
15158:   Carousel,
15159:   CarouselContent,
15160:   CarouselItem,
15161:   CarouselPrevious,
15162:   CarouselNext,
15163: };
15164: ```
15165: 
15166: ## components\ui\chart.tsx
15167: 
15168: - Characters: 10550
15169: - Tokens: 0
15170: 
15171: ```text
15172: 'use client';
15173: 
15174: import * as React from 'react';
15175: import * as RechartsPrimitive from 'recharts';
15176: 
15177: import { cn } from '@/lib/utils';
15178: 
15179: // Format: { THEME_NAME: CSS_SELECTOR }
15180: const THEMES = { light: '', dark: '.dark' } as const;
15181: 
15182: export type ChartConfig = {
15183:   [k in string]: {
15184:     label?: React.ReactNode;
15185:     icon?: React.ComponentType;
15186:   } & (
15187:     | { color?: string; theme?: never }
15188:     | { color?: never; theme: Record<keyof typeof THEMES, string> }
15189:   );
15190: };
15191: 
15192: type ChartContextProps = {
15193:   config: ChartConfig;
15194: };
15195: 
15196: const ChartContext = React.createContext<ChartContextProps | null>(null);
15197: 
15198: function useChart() {
15199:   const context = React.useContext(ChartContext);
15200: 
15201:   if (!context) {
15202:     throw new Error('useChart must be used within a <ChartContainer />');
15203:   }
15204: 
15205:   return context;
15206: }
15207: 
15208: const ChartContainer = React.forwardRef<
15209:   HTMLDivElement,
15210:   React.ComponentProps<'div'> & {
15211:     config: ChartConfig;
15212:     children: React.ComponentProps<
15213:       typeof RechartsPrimitive.ResponsiveContainer
15214:     >['children'];
15215:   }
15216: >(({ id, className, children, config, ...props }, ref) => {
15217:   const uniqueId = React.useId();
15218:   const chartId = `chart-${id || uniqueId.replace(/:/g, '')}`;
15219: 
15220:   return (
15221:     <ChartContext.Provider value={{ config }}>
15222:       <div
15223:         data-chart={chartId}
15224:         ref={ref}
15225:         className={cn(
15226:           "flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",
15227:           className
15228:         )}
15229:         {...props}
15230:       >
15231:         <ChartStyle id={chartId} config={config} />
15232:         <RechartsPrimitive.ResponsiveContainer>
15233:           {children}
15234:         </RechartsPrimitive.ResponsiveContainer>
15235:       </div>
15236:     </ChartContext.Provider>
15237:   );
15238: });
15239: ChartContainer.displayName = 'Chart';
15240: 
15241: const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {
15242:   const colorConfig = Object.entries(config).filter(
15243:     ([_, config]) => config.theme || config.color
15244:   );
15245: 
15246:   if (!colorConfig.length) {
15247:     return null;
15248:   }
15249: 
15250:   return (
15251:     <style
15252:       dangerouslySetInnerHTML={{
15253:         __html: Object.entries(THEMES)
15254:           .map(
15255:             ([theme, prefix]) => `
15256: ${prefix} [data-chart=${id}] {
15257: ${colorConfig
15258:   .map(([key, itemConfig]) => {
15259:     const color =
15260:       itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||
15261:       itemConfig.color;
15262:     return color ? `  --color-${key}: ${color};` : null;
15263:   })
15264:   .join('\n')}
15265: }
15266: `
15267:           )
15268:           .join('\n'),
15269:       }}
15270:     />
15271:   );
15272: };
15273: 
15274: const ChartTooltip = RechartsPrimitive.Tooltip;
15275: 
15276: const ChartTooltipContent = React.forwardRef<
15277:   HTMLDivElement,
15278:   React.ComponentProps<typeof RechartsPrimitive.Tooltip> &
15279:     React.ComponentProps<'div'> & {
15280:       hideLabel?: boolean;
15281:       hideIndicator?: boolean;
15282:       indicator?: 'line' | 'dot' | 'dashed';
15283:       nameKey?: string;
15284:       labelKey?: string;
15285:     }
15286: >(
15287:   (
15288:     {
15289:       active,
15290:       payload,
15291:       className,
15292:       indicator = 'dot',
15293:       hideLabel = false,
15294:       hideIndicator = false,
15295:       label,
15296:       labelFormatter,
15297:       labelClassName,
15298:       formatter,
15299:       color,
15300:       nameKey,
15301:       labelKey,
15302:     },
15303:     ref
15304:   ) => {
15305:     const { config } = useChart();
15306: 
15307:     const tooltipLabel = React.useMemo(() => {
15308:       if (hideLabel || !payload?.length) {
15309:         return null;
15310:       }
15311: 
15312:       const [item] = payload;
15313:       const key = `${labelKey || item.dataKey || item.name || 'value'}`;
15314:       const itemConfig = getPayloadConfigFromPayload(config, item, key);
15315:       const value =
15316:         !labelKey && typeof label === 'string'
15317:           ? config[label as keyof typeof config]?.label || label
15318:           : itemConfig?.label;
15319: 
15320:       if (labelFormatter) {
15321:         return (
15322:           <div className={cn('font-medium', labelClassName)}>
15323:             {labelFormatter(value, payload)}
15324:           </div>
15325:         );
15326:       }
15327: 
15328:       if (!value) {
15329:         return null;
15330:       }
15331: 
15332:       return <div className={cn('font-medium', labelClassName)}>{value}</div>;
15333:     }, [
15334:       label,
15335:       labelFormatter,
15336:       payload,
15337:       hideLabel,
15338:       labelClassName,
15339:       config,
15340:       labelKey,
15341:     ]);
15342: 
15343:     if (!active || !payload?.length) {
15344:       return null;
15345:     }
15346: 
15347:     const nestLabel = payload.length === 1 && indicator !== 'dot';
15348: 
15349:     return (
15350:       <div
15351:         ref={ref}
15352:         className={cn(
15353:           'grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl',
15354:           className
15355:         )}
15356:       >
15357:         {!nestLabel ? tooltipLabel : null}
15358:         <div className="grid gap-1.5">
15359:           {payload.map((item, index) => {
15360:             const key = `${nameKey || item.name || item.dataKey || 'value'}`;
15361:             const itemConfig = getPayloadConfigFromPayload(config, item, key);
15362:             const indicatorColor = color || item.payload.fill || item.color;
15363: 
15364:             return (
15365:               <div
15366:                 key={item.dataKey}
15367:                 className={cn(
15368:                   'flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground',
15369:                   indicator === 'dot' && 'items-center'
15370:                 )}
15371:               >
15372:                 {formatter && item?.value !== undefined && item.name ? (
15373:                   formatter(item.value, item.name, item, index, item.payload)
15374:                 ) : (
15375:                   <>
15376:                     {itemConfig?.icon ? (
15377:                       <itemConfig.icon />
15378:                     ) : (
15379:                       !hideIndicator && (
15380:                         <div
15381:                           className={cn(
15382:                             'shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]',
15383:                             {
15384:                               'h-2.5 w-2.5': indicator === 'dot',
15385:                               'w-1': indicator === 'line',
15386:                               'w-0 border-[1.5px] border-dashed bg-transparent':
15387:                                 indicator === 'dashed',
15388:                               'my-0.5': nestLabel && indicator === 'dashed',
15389:                             }
15390:                           )}
15391:                           style={
15392:                             {
15393:                               '--color-bg': indicatorColor,
15394:                               '--color-border': indicatorColor,
15395:                             } as React.CSSProperties
15396:                           }
15397:                         />
15398:                       )
15399:                     )}
15400:                     <div
15401:                       className={cn(
15402:                         'flex flex-1 justify-between leading-none',
15403:                         nestLabel ? 'items-end' : 'items-center'
15404:                       )}
15405:                     >
15406:                       <div className="grid gap-1.5">
15407:                         {nestLabel ? tooltipLabel : null}
15408:                         <span className="text-muted-foreground">
15409:                           {itemConfig?.label || item.name}
15410:                         </span>
15411:                       </div>
15412:                       {item.value && (
15413:                         <span className="font-mono font-medium tabular-nums text-foreground">
15414:                           {item.value.toLocaleString()}
15415:                         </span>
15416:                       )}
15417:                     </div>
15418:                   </>
15419:                 )}
15420:               </div>
15421:             );
15422:           })}
15423:         </div>
15424:       </div>
15425:     );
15426:   }
15427: );
15428: ChartTooltipContent.displayName = 'ChartTooltip';
15429: 
15430: const ChartLegend = RechartsPrimitive.Legend;
15431: 
15432: const ChartLegendContent = React.forwardRef<
15433:   HTMLDivElement,
15434:   React.ComponentProps<'div'> &
15435:     Pick<RechartsPrimitive.LegendProps, 'payload' | 'verticalAlign'> & {
15436:       hideIcon?: boolean;
15437:       nameKey?: string;
15438:     }
15439: >(
15440:   (
15441:     { className, hideIcon = false, payload, verticalAlign = 'bottom', nameKey },
15442:     ref
15443:   ) => {
15444:     const { config } = useChart();
15445: 
15446:     if (!payload?.length) {
15447:       return null;
15448:     }
15449: 
15450:     return (
15451:       <div
15452:         ref={ref}
15453:         className={cn(
15454:           'flex items-center justify-center gap-4',
15455:           verticalAlign === 'top' ? 'pb-3' : 'pt-3',
15456:           className
15457:         )}
15458:       >
15459:         {payload.map((item) => {
15460:           const key = `${nameKey || item.dataKey || 'value'}`;
15461:           const itemConfig = getPayloadConfigFromPayload(config, item, key);
15462: 
15463:           return (
15464:             <div
15465:               key={item.value}
15466:               className={cn(
15467:                 'flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground'
15468:               )}
15469:             >
15470:               {itemConfig?.icon && !hideIcon ? (
15471:                 <itemConfig.icon />
15472:               ) : (
15473:                 <div
15474:                   className="h-2 w-2 shrink-0 rounded-[2px]"
15475:                   style={{
15476:                     backgroundColor: item.color,
15477:                   }}
15478:                 />
15479:               )}
15480:               {itemConfig?.label}
15481:             </div>
15482:           );
15483:         })}
15484:       </div>
15485:     );
15486:   }
15487: );
15488: ChartLegendContent.displayName = 'ChartLegend';
15489: 
15490: // Helper to extract item config from a payload.
15491: function getPayloadConfigFromPayload(
15492:   config: ChartConfig,
15493:   payload: unknown,
15494:   key: string
15495: ) {
15496:   if (typeof payload !== 'object' || payload === null) {
15497:     return undefined;
15498:   }
15499: 
15500:   const payloadPayload =
15501:     'payload' in payload &&
15502:     typeof payload.payload === 'object' &&
15503:     payload.payload !== null
15504:       ? payload.payload
15505:       : undefined;
15506: 
15507:   let configLabelKey: string = key;
15508: 
15509:   if (
15510:     key in payload &&
15511:     typeof payload[key as keyof typeof payload] === 'string'
15512:   ) {
15513:     configLabelKey = payload[key as keyof typeof payload] as string;
15514:   } else if (
15515:     payloadPayload &&
15516:     key in payloadPayload &&
15517:     typeof payloadPayload[key as keyof typeof payloadPayload] === 'string'
15518:   ) {
15519:     configLabelKey = payloadPayload[
15520:       key as keyof typeof payloadPayload
15521:     ] as string;
15522:   }
15523: 
15524:   return configLabelKey in config
15525:     ? config[configLabelKey]
15526:     : config[key as keyof typeof config];
15527: }
15528: 
15529: export {
15530:   ChartContainer,
15531:   ChartTooltip,
15532:   ChartTooltipContent,
15533:   ChartLegend,
15534:   ChartLegendContent,
15535:   ChartStyle,
15536: };
15537: ```
15538: 
15539: ## components\ui\checkbox.tsx
15540: 
15541: - Characters: 1077
15542: - Tokens: 0
15543: 
15544: ```text
15545: 'use client';
15546: 
15547: import * as React from 'react';
15548: import * as CheckboxPrimitive from '@radix-ui/react-checkbox';
15549: import { Check } from 'lucide-react';
15550: 
15551: import { cn } from '@/lib/utils';
15552: 
15553: const Checkbox = React.forwardRef<
15554:   React.ElementRef<typeof CheckboxPrimitive.Root>,
15555:   React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>
15556: >(({ className, ...props }, ref) => (
15557:   <CheckboxPrimitive.Root
15558:     ref={ref}
15559:     className={cn(
15560:       'peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground',
15561:       className
15562:     )}
15563:     {...props}
15564:   >
15565:     <CheckboxPrimitive.Indicator
15566:       className={cn('flex items-center justify-center text-current')}
15567:     >
15568:       <Check className="h-4 w-4" />
15569:     </CheckboxPrimitive.Indicator>
15570:   </CheckboxPrimitive.Root>
15571: ));
15572: Checkbox.displayName = CheckboxPrimitive.Root.displayName;
15573: 
15574: export { Checkbox };
15575: ```
15576: 
15577: ## components\ui\collapsible.tsx
15578: 
15579: - Characters: 334
15580: - Tokens: 0
15581: 
15582: ```text
15583: 'use client';
15584: 
15585: import * as CollapsiblePrimitive from '@radix-ui/react-collapsible';
15586: 
15587: const Collapsible = CollapsiblePrimitive.Root;
15588: 
15589: const CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger;
15590: 
15591: const CollapsibleContent = CollapsiblePrimitive.CollapsibleContent;
15592: 
15593: export { Collapsible, CollapsibleTrigger, CollapsibleContent };
15594: ```
15595: 
15596: ## components\ui\command.tsx
15597: 
15598: - Characters: 4919
15599: - Tokens: 0
15600: 
15601: ```text
15602: 'use client';
15603: 
15604: import * as React from 'react';
15605: import { type DialogProps } from '@radix-ui/react-dialog';
15606: import { Command as CommandPrimitive } from 'cmdk';
15607: import { Search } from 'lucide-react';
15608: 
15609: import { cn } from '@/lib/utils';
15610: import { Dialog, DialogContent } from '@/components/ui/dialog';
15611: 
15612: const Command = React.forwardRef<
15613:   React.ElementRef<typeof CommandPrimitive>,
15614:   React.ComponentPropsWithoutRef<typeof CommandPrimitive>
15615: >(({ className, ...props }, ref) => (
15616:   <CommandPrimitive
15617:     ref={ref}
15618:     className={cn(
15619:       'flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground',
15620:       className
15621:     )}
15622:     {...props}
15623:   />
15624: ));
15625: Command.displayName = CommandPrimitive.displayName;
15626: 
15627: interface CommandDialogProps extends DialogProps {}
15628: 
15629: const CommandDialog = ({ children, ...props }: CommandDialogProps) => {
15630:   return (
15631:     <Dialog {...props}>
15632:       <DialogContent className="overflow-hidden p-0 shadow-lg">
15633:         <Command className="[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5">
15634:           {children}
15635:         </Command>
15636:       </DialogContent>
15637:     </Dialog>
15638:   );
15639: };
15640: 
15641: const CommandInput = React.forwardRef<
15642:   React.ElementRef<typeof CommandPrimitive.Input>,
15643:   React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>
15644: >(({ className, ...props }, ref) => (
15645:   <div className="flex items-center border-b px-3" cmdk-input-wrapper="">
15646:     <Search className="mr-2 h-4 w-4 shrink-0 opacity-50" />
15647:     <CommandPrimitive.Input
15648:       ref={ref}
15649:       className={cn(
15650:         'flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50',
15651:         className
15652:       )}
15653:       {...props}
15654:     />
15655:   </div>
15656: ));
15657: 
15658: CommandInput.displayName = CommandPrimitive.Input.displayName;
15659: 
15660: const CommandList = React.forwardRef<
15661:   React.ElementRef<typeof CommandPrimitive.List>,
15662:   React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>
15663: >(({ className, ...props }, ref) => (
15664:   <CommandPrimitive.List
15665:     ref={ref}
15666:     className={cn('max-h-[300px] overflow-y-auto overflow-x-hidden', className)}
15667:     {...props}
15668:   />
15669: ));
15670: 
15671: CommandList.displayName = CommandPrimitive.List.displayName;
15672: 
15673: const CommandEmpty = React.forwardRef<
15674:   React.ElementRef<typeof CommandPrimitive.Empty>,
15675:   React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>
15676: >((props, ref) => (
15677:   <CommandPrimitive.Empty
15678:     ref={ref}
15679:     className="py-6 text-center text-sm"
15680:     {...props}
15681:   />
15682: ));
15683: 
15684: CommandEmpty.displayName = CommandPrimitive.Empty.displayName;
15685: 
15686: const CommandGroup = React.forwardRef<
15687:   React.ElementRef<typeof CommandPrimitive.Group>,
15688:   React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>
15689: >(({ className, ...props }, ref) => (
15690:   <CommandPrimitive.Group
15691:     ref={ref}
15692:     className={cn(
15693:       'overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground',
15694:       className
15695:     )}
15696:     {...props}
15697:   />
15698: ));
15699: 
15700: CommandGroup.displayName = CommandPrimitive.Group.displayName;
15701: 
15702: const CommandSeparator = React.forwardRef<
15703:   React.ElementRef<typeof CommandPrimitive.Separator>,
15704:   React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>
15705: >(({ className, ...props }, ref) => (
15706:   <CommandPrimitive.Separator
15707:     ref={ref}
15708:     className={cn('-mx-1 h-px bg-border', className)}
15709:     {...props}
15710:   />
15711: ));
15712: CommandSeparator.displayName = CommandPrimitive.Separator.displayName;
15713: 
15714: const CommandItem = React.forwardRef<
15715:   React.ElementRef<typeof CommandPrimitive.Item>,
15716:   React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>
15717: >(({ className, ...props }, ref) => (
15718:   <CommandPrimitive.Item
15719:     ref={ref}
15720:     className={cn(
15721:       "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",
15722:       className
15723:     )}
15724:     {...props}
15725:   />
15726: ));
15727: 
15728: CommandItem.displayName = CommandPrimitive.Item.displayName;
15729: 
15730: const CommandShortcut = ({
15731:   className,
15732:   ...props
15733: }: React.HTMLAttributes<HTMLSpanElement>) => {
15734:   return (
15735:     <span
15736:       className={cn(
15737:         'ml-auto text-xs tracking-widest text-muted-foreground',
15738:         className
15739:       )}
15740:       {...props}
15741:     />
15742:   );
15743: };
15744: CommandShortcut.displayName = 'CommandShortcut';
15745: 
15746: export {
15747:   Command,
15748:   CommandDialog,
15749:   CommandInput,
15750:   CommandList,
15751:   CommandEmpty,
15752:   CommandGroup,
15753:   CommandItem,
15754:   CommandShortcut,
15755:   CommandSeparator,
15756: };
15757: ```
15758: 
15759: ## components\ui\context-menu.tsx
15760: 
15761: - Characters: 7293
15762: - Tokens: 0
15763: 
15764: ```text
15765: 'use client';
15766: 
15767: import * as React from 'react';
15768: import * as ContextMenuPrimitive from '@radix-ui/react-context-menu';
15769: import { Check, ChevronRight, Circle } from 'lucide-react';
15770: 
15771: import { cn } from '@/lib/utils';
15772: 
15773: const ContextMenu = ContextMenuPrimitive.Root;
15774: 
15775: const ContextMenuTrigger = ContextMenuPrimitive.Trigger;
15776: 
15777: const ContextMenuGroup = ContextMenuPrimitive.Group;
15778: 
15779: const ContextMenuPortal = ContextMenuPrimitive.Portal;
15780: 
15781: const ContextMenuSub = ContextMenuPrimitive.Sub;
15782: 
15783: const ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup;
15784: 
15785: const ContextMenuSubTrigger = React.forwardRef<
15786:   React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,
15787:   React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {
15788:     inset?: boolean;
15789:   }
15790: >(({ className, inset, children, ...props }, ref) => (
15791:   <ContextMenuPrimitive.SubTrigger
15792:     ref={ref}
15793:     className={cn(
15794:       'flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground',
15795:       inset && 'pl-8',
15796:       className
15797:     )}
15798:     {...props}
15799:   >
15800:     {children}
15801:     <ChevronRight className="ml-auto h-4 w-4" />
15802:   </ContextMenuPrimitive.SubTrigger>
15803: ));
15804: ContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName;
15805: 
15806: const ContextMenuSubContent = React.forwardRef<
15807:   React.ElementRef<typeof ContextMenuPrimitive.SubContent>,
15808:   React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>
15809: >(({ className, ...props }, ref) => (
15810:   <ContextMenuPrimitive.SubContent
15811:     ref={ref}
15812:     className={cn(
15813:       'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
15814:       className
15815:     )}
15816:     {...props}
15817:   />
15818: ));
15819: ContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName;
15820: 
15821: const ContextMenuContent = React.forwardRef<
15822:   React.ElementRef<typeof ContextMenuPrimitive.Content>,
15823:   React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>
15824: >(({ className, ...props }, ref) => (
15825:   <ContextMenuPrimitive.Portal>
15826:     <ContextMenuPrimitive.Content
15827:       ref={ref}
15828:       className={cn(
15829:         'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
15830:         className
15831:       )}
15832:       {...props}
15833:     />
15834:   </ContextMenuPrimitive.Portal>
15835: ));
15836: ContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName;
15837: 
15838: const ContextMenuItem = React.forwardRef<
15839:   React.ElementRef<typeof ContextMenuPrimitive.Item>,
15840:   React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {
15841:     inset?: boolean;
15842:   }
15843: >(({ className, inset, ...props }, ref) => (
15844:   <ContextMenuPrimitive.Item
15845:     ref={ref}
15846:     className={cn(
15847:       'relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
15848:       inset && 'pl-8',
15849:       className
15850:     )}
15851:     {...props}
15852:   />
15853: ));
15854: ContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName;
15855: 
15856: const ContextMenuCheckboxItem = React.forwardRef<
15857:   React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,
15858:   React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>
15859: >(({ className, children, checked, ...props }, ref) => (
15860:   <ContextMenuPrimitive.CheckboxItem
15861:     ref={ref}
15862:     className={cn(
15863:       'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
15864:       className
15865:     )}
15866:     checked={checked}
15867:     {...props}
15868:   >
15869:     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
15870:       <ContextMenuPrimitive.ItemIndicator>
15871:         <Check className="h-4 w-4" />
15872:       </ContextMenuPrimitive.ItemIndicator>
15873:     </span>
15874:     {children}
15875:   </ContextMenuPrimitive.CheckboxItem>
15876: ));
15877: ContextMenuCheckboxItem.displayName =
15878:   ContextMenuPrimitive.CheckboxItem.displayName;
15879: 
15880: const ContextMenuRadioItem = React.forwardRef<
15881:   React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,
15882:   React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>
15883: >(({ className, children, ...props }, ref) => (
15884:   <ContextMenuPrimitive.RadioItem
15885:     ref={ref}
15886:     className={cn(
15887:       'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
15888:       className
15889:     )}
15890:     {...props}
15891:   >
15892:     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
15893:       <ContextMenuPrimitive.ItemIndicator>
15894:         <Circle className="h-2 w-2 fill-current" />
15895:       </ContextMenuPrimitive.ItemIndicator>
15896:     </span>
15897:     {children}
15898:   </ContextMenuPrimitive.RadioItem>
15899: ));
15900: ContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName;
15901: 
15902: const ContextMenuLabel = React.forwardRef<
15903:   React.ElementRef<typeof ContextMenuPrimitive.Label>,
15904:   React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {
15905:     inset?: boolean;
15906:   }
15907: >(({ className, inset, ...props }, ref) => (
15908:   <ContextMenuPrimitive.Label
15909:     ref={ref}
15910:     className={cn(
15911:       'px-2 py-1.5 text-sm font-semibold text-foreground',
15912:       inset && 'pl-8',
15913:       className
15914:     )}
15915:     {...props}
15916:   />
15917: ));
15918: ContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName;
15919: 
15920: const ContextMenuSeparator = React.forwardRef<
15921:   React.ElementRef<typeof ContextMenuPrimitive.Separator>,
15922:   React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>
15923: >(({ className, ...props }, ref) => (
15924:   <ContextMenuPrimitive.Separator
15925:     ref={ref}
15926:     className={cn('-mx-1 my-1 h-px bg-border', className)}
15927:     {...props}
15928:   />
15929: ));
15930: ContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName;
15931: 
15932: const ContextMenuShortcut = ({
15933:   className,
15934:   ...props
15935: }: React.HTMLAttributes<HTMLSpanElement>) => {
15936:   return (
15937:     <span
15938:       className={cn(
15939:         'ml-auto text-xs tracking-widest text-muted-foreground',
15940:         className
15941:       )}
15942:       {...props}
15943:     />
15944:   );
15945: };
15946: ContextMenuShortcut.displayName = 'ContextMenuShortcut';
15947: 
15948: export {
15949:   ContextMenu,
15950:   ContextMenuTrigger,
15951:   ContextMenuContent,
15952:   ContextMenuItem,
15953:   ContextMenuCheckboxItem,
15954:   ContextMenuRadioItem,
15955:   ContextMenuLabel,
15956:   ContextMenuSeparator,
15957:   ContextMenuShortcut,
15958:   ContextMenuGroup,
15959:   ContextMenuPortal,
15960:   ContextMenuSub,
15961:   ContextMenuSubContent,
15962:   ContextMenuSubTrigger,
15963:   ContextMenuRadioGroup,
15964: };
15965: ```
15966: 
15967: ## components\ui\dialog.tsx
15968: 
15969: - Characters: 3870
15970: - Tokens: 0
15971: 
15972: ```text
15973: 'use client';
15974: 
15975: import * as React from 'react';
15976: import * as DialogPrimitive from '@radix-ui/react-dialog';
15977: import { X } from 'lucide-react';
15978: 
15979: import { cn } from '@/lib/utils';
15980: 
15981: const Dialog = DialogPrimitive.Root;
15982: 
15983: const DialogTrigger = DialogPrimitive.Trigger;
15984: 
15985: const DialogPortal = DialogPrimitive.Portal;
15986: 
15987: const DialogClose = DialogPrimitive.Close;
15988: 
15989: const DialogOverlay = React.forwardRef<
15990:   React.ElementRef<typeof DialogPrimitive.Overlay>,
15991:   React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
15992: >(({ className, ...props }, ref) => (
15993:   <DialogPrimitive.Overlay
15994:     ref={ref}
15995:     className={cn(
15996:       'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',
15997:       className
15998:     )}
15999:     {...props}
16000:   />
16001: ));
16002: DialogOverlay.displayName = DialogPrimitive.Overlay.displayName;
16003: 
16004: const DialogContent = React.forwardRef<
16005:   React.ElementRef<typeof DialogPrimitive.Content>,
16006:   React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
16007: >(({ className, children, ...props }, ref) => (
16008:   <DialogPortal>
16009:     <DialogOverlay />
16010:     <DialogPrimitive.Content
16011:       ref={ref}
16012:       className={cn(
16013:         'fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg',
16014:         className
16015:       )}
16016:       {...props}
16017:     >
16018:       {children}
16019:       <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
16020:         <X className="h-4 w-4" />
16021:         <span className="sr-only">Close</span>
16022:       </DialogPrimitive.Close>
16023:     </DialogPrimitive.Content>
16024:   </DialogPortal>
16025: ));
16026: DialogContent.displayName = DialogPrimitive.Content.displayName;
16027: 
16028: const DialogHeader = ({
16029:   className,
16030:   ...props
16031: }: React.HTMLAttributes<HTMLDivElement>) => (
16032:   <div
16033:     className={cn(
16034:       'flex flex-col space-y-1.5 text-center sm:text-left',
16035:       className
16036:     )}
16037:     {...props}
16038:   />
16039: );
16040: DialogHeader.displayName = 'DialogHeader';
16041: 
16042: const DialogFooter = ({
16043:   className,
16044:   ...props
16045: }: React.HTMLAttributes<HTMLDivElement>) => (
16046:   <div
16047:     className={cn(
16048:       'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',
16049:       className
16050:     )}
16051:     {...props}
16052:   />
16053: );
16054: DialogFooter.displayName = 'DialogFooter';
16055: 
16056: const DialogTitle = React.forwardRef<
16057:   React.ElementRef<typeof DialogPrimitive.Title>,
16058:   React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
16059: >(({ className, ...props }, ref) => (
16060:   <DialogPrimitive.Title
16061:     ref={ref}
16062:     className={cn(
16063:       'text-lg font-semibold leading-none tracking-tight',
16064:       className
16065:     )}
16066:     {...props}
16067:   />
16068: ));
16069: DialogTitle.displayName = DialogPrimitive.Title.displayName;
16070: 
16071: const DialogDescription = React.forwardRef<
16072:   React.ElementRef<typeof DialogPrimitive.Description>,
16073:   React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
16074: >(({ className, ...props }, ref) => (
16075:   <DialogPrimitive.Description
16076:     ref={ref}
16077:     className={cn('text-sm text-muted-foreground', className)}
16078:     {...props}
16079:   />
16080: ));
16081: DialogDescription.displayName = DialogPrimitive.Description.displayName;
16082: 
16083: export {
16084:   Dialog,
16085:   DialogPortal,
16086:   DialogOverlay,
16087:   DialogClose,
16088:   DialogTrigger,
16089:   DialogContent,
16090:   DialogHeader,
16091:   DialogFooter,
16092:   DialogTitle,
16093:   DialogDescription,
16094: };
16095: ```
16096: 
16097: ## components\ui\drawer.tsx
16098: 
16099: - Characters: 3042
16100: - Tokens: 0
16101: 
16102: ```text
16103: 'use client';
16104: 
16105: import * as React from 'react';
16106: import { Drawer as DrawerPrimitive } from 'vaul';
16107: 
16108: import { cn } from '@/lib/utils';
16109: 
16110: const Drawer = ({
16111:   shouldScaleBackground = true,
16112:   ...props
16113: }: React.ComponentProps<typeof DrawerPrimitive.Root>) => (
16114:   <DrawerPrimitive.Root
16115:     shouldScaleBackground={shouldScaleBackground}
16116:     {...props}
16117:   />
16118: );
16119: Drawer.displayName = 'Drawer';
16120: 
16121: const DrawerTrigger = DrawerPrimitive.Trigger;
16122: 
16123: const DrawerPortal = DrawerPrimitive.Portal;
16124: 
16125: const DrawerClose = DrawerPrimitive.Close;
16126: 
16127: const DrawerOverlay = React.forwardRef<
16128:   React.ElementRef<typeof DrawerPrimitive.Overlay>,
16129:   React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>
16130: >(({ className, ...props }, ref) => (
16131:   <DrawerPrimitive.Overlay
16132:     ref={ref}
16133:     className={cn('fixed inset-0 z-50 bg-black/80', className)}
16134:     {...props}
16135:   />
16136: ));
16137: DrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName;
16138: 
16139: const DrawerContent = React.forwardRef<
16140:   React.ElementRef<typeof DrawerPrimitive.Content>,
16141:   React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>
16142: >(({ className, children, ...props }, ref) => (
16143:   <DrawerPortal>
16144:     <DrawerOverlay />
16145:     <DrawerPrimitive.Content
16146:       ref={ref}
16147:       className={cn(
16148:         'fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background',
16149:         className
16150:       )}
16151:       {...props}
16152:     >
16153:       <div className="mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted" />
16154:       {children}
16155:     </DrawerPrimitive.Content>
16156:   </DrawerPortal>
16157: ));
16158: DrawerContent.displayName = 'DrawerContent';
16159: 
16160: const DrawerHeader = ({
16161:   className,
16162:   ...props
16163: }: React.HTMLAttributes<HTMLDivElement>) => (
16164:   <div
16165:     className={cn('grid gap-1.5 p-4 text-center sm:text-left', className)}
16166:     {...props}
16167:   />
16168: );
16169: DrawerHeader.displayName = 'DrawerHeader';
16170: 
16171: const DrawerFooter = ({
16172:   className,
16173:   ...props
16174: }: React.HTMLAttributes<HTMLDivElement>) => (
16175:   <div
16176:     className={cn('mt-auto flex flex-col gap-2 p-4', className)}
16177:     {...props}
16178:   />
16179: );
16180: DrawerFooter.displayName = 'DrawerFooter';
16181: 
16182: const DrawerTitle = React.forwardRef<
16183:   React.ElementRef<typeof DrawerPrimitive.Title>,
16184:   React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>
16185: >(({ className, ...props }, ref) => (
16186:   <DrawerPrimitive.Title
16187:     ref={ref}
16188:     className={cn(
16189:       'text-lg font-semibold leading-none tracking-tight',
16190:       className
16191:     )}
16192:     {...props}
16193:   />
16194: ));
16195: DrawerTitle.displayName = DrawerPrimitive.Title.displayName;
16196: 
16197: const DrawerDescription = React.forwardRef<
16198:   React.ElementRef<typeof DrawerPrimitive.Description>,
16199:   React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>
16200: >(({ className, ...props }, ref) => (
16201:   <DrawerPrimitive.Description
16202:     ref={ref}
16203:     className={cn('text-sm text-muted-foreground', className)}
16204:     {...props}
16205:   />
16206: ));
16207: DrawerDescription.displayName = DrawerPrimitive.Description.displayName;
16208: 
16209: export {
16210:   Drawer,
16211:   DrawerPortal,
16212:   DrawerOverlay,
16213:   DrawerTrigger,
16214:   DrawerClose,
16215:   DrawerContent,
16216:   DrawerHeader,
16217:   DrawerFooter,
16218:   DrawerTitle,
16219:   DrawerDescription,
16220: };
16221: ```
16222: 
16223: ## components\ui\dropdown-menu.tsx
16224: 
16225: - Characters: 7342
16226: - Tokens: 0
16227: 
16228: ```text
16229: 'use client';
16230: 
16231: import * as React from 'react';
16232: import * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu';
16233: import { Check, ChevronRight, Circle } from 'lucide-react';
16234: 
16235: import { cn } from '@/lib/utils';
16236: 
16237: const DropdownMenu = DropdownMenuPrimitive.Root;
16238: 
16239: const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;
16240: 
16241: const DropdownMenuGroup = DropdownMenuPrimitive.Group;
16242: 
16243: const DropdownMenuPortal = DropdownMenuPrimitive.Portal;
16244: 
16245: const DropdownMenuSub = DropdownMenuPrimitive.Sub;
16246: 
16247: const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;
16248: 
16249: const DropdownMenuSubTrigger = React.forwardRef<
16250:   React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,
16251:   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {
16252:     inset?: boolean;
16253:   }
16254: >(({ className, inset, children, ...props }, ref) => (
16255:   <DropdownMenuPrimitive.SubTrigger
16256:     ref={ref}
16257:     className={cn(
16258:       'flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent',
16259:       inset && 'pl-8',
16260:       className
16261:     )}
16262:     {...props}
16263:   >
16264:     {children}
16265:     <ChevronRight className="ml-auto h-4 w-4" />
16266:   </DropdownMenuPrimitive.SubTrigger>
16267: ));
16268: DropdownMenuSubTrigger.displayName =
16269:   DropdownMenuPrimitive.SubTrigger.displayName;
16270: 
16271: const DropdownMenuSubContent = React.forwardRef<
16272:   React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,
16273:   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>
16274: >(({ className, ...props }, ref) => (
16275:   <DropdownMenuPrimitive.SubContent
16276:     ref={ref}
16277:     className={cn(
16278:       'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
16279:       className
16280:     )}
16281:     {...props}
16282:   />
16283: ));
16284: DropdownMenuSubContent.displayName =
16285:   DropdownMenuPrimitive.SubContent.displayName;
16286: 
16287: const DropdownMenuContent = React.forwardRef<
16288:   React.ElementRef<typeof DropdownMenuPrimitive.Content>,
16289:   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>
16290: >(({ className, sideOffset = 4, ...props }, ref) => (
16291:   <DropdownMenuPrimitive.Portal>
16292:     <DropdownMenuPrimitive.Content
16293:       ref={ref}
16294:       sideOffset={sideOffset}
16295:       className={cn(
16296:         'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
16297:         className
16298:       )}
16299:       {...props}
16300:     />
16301:   </DropdownMenuPrimitive.Portal>
16302: ));
16303: DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;
16304: 
16305: const DropdownMenuItem = React.forwardRef<
16306:   React.ElementRef<typeof DropdownMenuPrimitive.Item>,
16307:   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {
16308:     inset?: boolean;
16309:   }
16310: >(({ className, inset, ...props }, ref) => (
16311:   <DropdownMenuPrimitive.Item
16312:     ref={ref}
16313:     className={cn(
16314:       'relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
16315:       inset && 'pl-8',
16316:       className
16317:     )}
16318:     {...props}
16319:   />
16320: ));
16321: DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;
16322: 
16323: const DropdownMenuCheckboxItem = React.forwardRef<
16324:   React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,
16325:   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>
16326: >(({ className, children, checked, ...props }, ref) => (
16327:   <DropdownMenuPrimitive.CheckboxItem
16328:     ref={ref}
16329:     className={cn(
16330:       'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
16331:       className
16332:     )}
16333:     checked={checked}
16334:     {...props}
16335:   >
16336:     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
16337:       <DropdownMenuPrimitive.ItemIndicator>
16338:         <Check className="h-4 w-4" />
16339:       </DropdownMenuPrimitive.ItemIndicator>
16340:     </span>
16341:     {children}
16342:   </DropdownMenuPrimitive.CheckboxItem>
16343: ));
16344: DropdownMenuCheckboxItem.displayName =
16345:   DropdownMenuPrimitive.CheckboxItem.displayName;
16346: 
16347: const DropdownMenuRadioItem = React.forwardRef<
16348:   React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,
16349:   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>
16350: >(({ className, children, ...props }, ref) => (
16351:   <DropdownMenuPrimitive.RadioItem
16352:     ref={ref}
16353:     className={cn(
16354:       'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
16355:       className
16356:     )}
16357:     {...props}
16358:   >
16359:     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
16360:       <DropdownMenuPrimitive.ItemIndicator>
16361:         <Circle className="h-2 w-2 fill-current" />
16362:       </DropdownMenuPrimitive.ItemIndicator>
16363:     </span>
16364:     {children}
16365:   </DropdownMenuPrimitive.RadioItem>
16366: ));
16367: DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;
16368: 
16369: const DropdownMenuLabel = React.forwardRef<
16370:   React.ElementRef<typeof DropdownMenuPrimitive.Label>,
16371:   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {
16372:     inset?: boolean;
16373:   }
16374: >(({ className, inset, ...props }, ref) => (
16375:   <DropdownMenuPrimitive.Label
16376:     ref={ref}
16377:     className={cn(
16378:       'px-2 py-1.5 text-sm font-semibold',
16379:       inset && 'pl-8',
16380:       className
16381:     )}
16382:     {...props}
16383:   />
16384: ));
16385: DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;
16386: 
16387: const DropdownMenuSeparator = React.forwardRef<
16388:   React.ElementRef<typeof DropdownMenuPrimitive.Separator>,
16389:   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>
16390: >(({ className, ...props }, ref) => (
16391:   <DropdownMenuPrimitive.Separator
16392:     ref={ref}
16393:     className={cn('-mx-1 my-1 h-px bg-muted', className)}
16394:     {...props}
16395:   />
16396: ));
16397: DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;
16398: 
16399: const DropdownMenuShortcut = ({
16400:   className,
16401:   ...props
16402: }: React.HTMLAttributes<HTMLSpanElement>) => {
16403:   return (
16404:     <span
16405:       className={cn('ml-auto text-xs tracking-widest opacity-60', className)}
16406:       {...props}
16407:     />
16408:   );
16409: };
16410: DropdownMenuShortcut.displayName = 'DropdownMenuShortcut';
16411: 
16412: export {
16413:   DropdownMenu,
16414:   DropdownMenuTrigger,
16415:   DropdownMenuContent,
16416:   DropdownMenuItem,
16417:   DropdownMenuCheckboxItem,
16418:   DropdownMenuRadioItem,
16419:   DropdownMenuLabel,
16420:   DropdownMenuSeparator,
16421:   DropdownMenuShortcut,
16422:   DropdownMenuGroup,
16423:   DropdownMenuPortal,
16424:   DropdownMenuSub,
16425:   DropdownMenuSubContent,
16426:   DropdownMenuSubTrigger,
16427:   DropdownMenuRadioGroup,
16428: };
16429: ```
16430: 
16431: ## components\ui\form.tsx
16432: 
16433: - Characters: 4149
16434: - Tokens: 0
16435: 
16436: ```text
16437: 'use client';
16438: 
16439: import * as React from 'react';
16440: import * as LabelPrimitive from '@radix-ui/react-label';
16441: import { Slot } from '@radix-ui/react-slot';
16442: import {
16443:   Controller,
16444:   ControllerProps,
16445:   FieldPath,
16446:   FieldValues,
16447:   FormProvider,
16448:   useFormContext,
16449: } from 'react-hook-form';
16450: 
16451: import { cn } from '@/lib/utils';
16452: import { Label } from '@/components/ui/label';
16453: 
16454: const Form = FormProvider;
16455: 
16456: type FormFieldContextValue<
16457:   TFieldValues extends FieldValues = FieldValues,
16458:   TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
16459: > = {
16460:   name: TName;
16461: };
16462: 
16463: const FormFieldContext = React.createContext<FormFieldContextValue>(
16464:   {} as FormFieldContextValue
16465: );
16466: 
16467: const FormField = <
16468:   TFieldValues extends FieldValues = FieldValues,
16469:   TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
16470: >({
16471:   ...props
16472: }: ControllerProps<TFieldValues, TName>) => {
16473:   return (
16474:     <FormFieldContext.Provider value={{ name: props.name }}>
16475:       <Controller {...props} />
16476:     </FormFieldContext.Provider>
16477:   );
16478: };
16479: 
16480: const useFormField = () => {
16481:   const fieldContext = React.useContext(FormFieldContext);
16482:   const itemContext = React.useContext(FormItemContext);
16483:   const { getFieldState, formState } = useFormContext();
16484: 
16485:   const fieldState = getFieldState(fieldContext.name, formState);
16486: 
16487:   if (!fieldContext) {
16488:     throw new Error('useFormField should be used within <FormField>');
16489:   }
16490: 
16491:   const { id } = itemContext;
16492: 
16493:   return {
16494:     id,
16495:     name: fieldContext.name,
16496:     formItemId: `${id}-form-item`,
16497:     formDescriptionId: `${id}-form-item-description`,
16498:     formMessageId: `${id}-form-item-message`,
16499:     ...fieldState,
16500:   };
16501: };
16502: 
16503: type FormItemContextValue = {
16504:   id: string;
16505: };
16506: 
16507: const FormItemContext = React.createContext<FormItemContextValue>(
16508:   {} as FormItemContextValue
16509: );
16510: 
16511: const FormItem = React.forwardRef<
16512:   HTMLDivElement,
16513:   React.HTMLAttributes<HTMLDivElement>
16514: >(({ className, ...props }, ref) => {
16515:   const id = React.useId();
16516: 
16517:   return (
16518:     <FormItemContext.Provider value={{ id }}>
16519:       <div ref={ref} className={cn('space-y-2', className)} {...props} />
16520:     </FormItemContext.Provider>
16521:   );
16522: });
16523: FormItem.displayName = 'FormItem';
16524: 
16525: const FormLabel = React.forwardRef<
16526:   React.ElementRef<typeof LabelPrimitive.Root>,
16527:   React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>
16528: >(({ className, ...props }, ref) => {
16529:   const { error, formItemId } = useFormField();
16530: 
16531:   return (
16532:     <Label
16533:       ref={ref}
16534:       className={cn(error && 'text-destructive', className)}
16535:       htmlFor={formItemId}
16536:       {...props}
16537:     />
16538:   );
16539: });
16540: FormLabel.displayName = 'FormLabel';
16541: 
16542: const FormControl = React.forwardRef<
16543:   React.ElementRef<typeof Slot>,
16544:   React.ComponentPropsWithoutRef<typeof Slot>
16545: >(({ ...props }, ref) => {
16546:   const { error, formItemId, formDescriptionId, formMessageId } =
16547:     useFormField();
16548: 
16549:   return (
16550:     <Slot
16551:       ref={ref}
16552:       id={formItemId}
16553:       aria-describedby={
16554:         !error
16555:           ? `${formDescriptionId}`
16556:           : `${formDescriptionId} ${formMessageId}`
16557:       }
16558:       aria-invalid={!!error}
16559:       {...props}
16560:     />
16561:   );
16562: });
16563: FormControl.displayName = 'FormControl';
16564: 
16565: const FormDescription = React.forwardRef<
16566:   HTMLParagraphElement,
16567:   React.HTMLAttributes<HTMLParagraphElement>
16568: >(({ className, ...props }, ref) => {
16569:   const { formDescriptionId } = useFormField();
16570: 
16571:   return (
16572:     <p
16573:       ref={ref}
16574:       id={formDescriptionId}
16575:       className={cn('text-sm text-muted-foreground', className)}
16576:       {...props}
16577:     />
16578:   );
16579: });
16580: FormDescription.displayName = 'FormDescription';
16581: 
16582: const FormMessage = React.forwardRef<
16583:   HTMLParagraphElement,
16584:   React.HTMLAttributes<HTMLParagraphElement>
16585: >(({ className, children, ...props }, ref) => {
16586:   const { error, formMessageId } = useFormField();
16587:   const body = error ? String(error?.message) : children;
16588: 
16589:   if (!body) {
16590:     return null;
16591:   }
16592: 
16593:   return (
16594:     <p
16595:       ref={ref}
16596:       id={formMessageId}
16597:       className={cn('text-sm font-medium text-destructive', className)}
16598:       {...props}
16599:     >
16600:       {body}
16601:     </p>
16602:   );
16603: });
16604: FormMessage.displayName = 'FormMessage';
16605: 
16606: export {
16607:   useFormField,
16608:   Form,
16609:   FormItem,
16610:   FormLabel,
16611:   FormControl,
16612:   FormDescription,
16613:   FormMessage,
16614:   FormField,
16615: };
16616: ```
16617: 
16618: ## components\ui\hover-card.tsx
16619: 
16620: - Characters: 1206
16621: - Tokens: 0
16622: 
16623: ```text
16624: 'use client';
16625: 
16626: import * as React from 'react';
16627: import * as HoverCardPrimitive from '@radix-ui/react-hover-card';
16628: 
16629: import { cn } from '@/lib/utils';
16630: 
16631: const HoverCard = HoverCardPrimitive.Root;
16632: 
16633: const HoverCardTrigger = HoverCardPrimitive.Trigger;
16634: 
16635: const HoverCardContent = React.forwardRef<
16636:   React.ElementRef<typeof HoverCardPrimitive.Content>,
16637:   React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>
16638: >(({ className, align = 'center', sideOffset = 4, ...props }, ref) => (
16639:   <HoverCardPrimitive.Content
16640:     ref={ref}
16641:     align={align}
16642:     sideOffset={sideOffset}
16643:     className={cn(
16644:       'z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
16645:       className
16646:     )}
16647:     {...props}
16648:   />
16649: ));
16650: HoverCardContent.displayName = HoverCardPrimitive.Content.displayName;
16651: 
16652: export { HoverCard, HoverCardTrigger, HoverCardContent };
16653: ```
16654: 
16655: ## components\ui\input-otp.tsx
16656: 
16657: - Characters: 2184
16658: - Tokens: 0
16659: 
16660: ```text
16661: 'use client';
16662: 
16663: import * as React from 'react';
16664: import { OTPInput, OTPInputContext } from 'input-otp';
16665: import { Dot } from 'lucide-react';
16666: 
16667: import { cn } from '@/lib/utils';
16668: 
16669: const InputOTP = React.forwardRef<
16670:   React.ElementRef<typeof OTPInput>,
16671:   React.ComponentPropsWithoutRef<typeof OTPInput>
16672: >(({ className, containerClassName, ...props }, ref) => (
16673:   <OTPInput
16674:     ref={ref}
16675:     containerClassName={cn(
16676:       'flex items-center gap-2 has-[:disabled]:opacity-50',
16677:       containerClassName
16678:     )}
16679:     className={cn('disabled:cursor-not-allowed', className)}
16680:     {...props}
16681:   />
16682: ));
16683: InputOTP.displayName = 'InputOTP';
16684: 
16685: const InputOTPGroup = React.forwardRef<
16686:   React.ElementRef<'div'>,
16687:   React.ComponentPropsWithoutRef<'div'>
16688: >(({ className, ...props }, ref) => (
16689:   <div ref={ref} className={cn('flex items-center', className)} {...props} />
16690: ));
16691: InputOTPGroup.displayName = 'InputOTPGroup';
16692: 
16693: const InputOTPSlot = React.forwardRef<
16694:   React.ElementRef<'div'>,
16695:   React.ComponentPropsWithoutRef<'div'> & { index: number }
16696: >(({ index, className, ...props }, ref) => {
16697:   const inputOTPContext = React.useContext(OTPInputContext);
16698:   const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index];
16699: 
16700:   return (
16701:     <div
16702:       ref={ref}
16703:       className={cn(
16704:         'relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md',
16705:         isActive && 'z-10 ring-2 ring-ring ring-offset-background',
16706:         className
16707:       )}
16708:       {...props}
16709:     >
16710:       {char}
16711:       {hasFakeCaret && (
16712:         <div className="pointer-events-none absolute inset-0 flex items-center justify-center">
16713:           <div className="h-4 w-px animate-caret-blink bg-foreground duration-1000" />
16714:         </div>
16715:       )}
16716:     </div>
16717:   );
16718: });
16719: InputOTPSlot.displayName = 'InputOTPSlot';
16720: 
16721: const InputOTPSeparator = React.forwardRef<
16722:   React.ElementRef<'div'>,
16723:   React.ComponentPropsWithoutRef<'div'>
16724: >(({ ...props }, ref) => (
16725:   <div ref={ref} role="separator" {...props}>
16726:     <Dot />
16727:   </div>
16728: ));
16729: InputOTPSeparator.displayName = 'InputOTPSeparator';
16730: 
16731: export { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator };
16732: ```
16733: 
16734: ## components\ui\input.tsx
16735: 
16736: - Characters: 850
16737: - Tokens: 0
16738: 
16739: ```text
16740: import * as React from 'react';
16741: 
16742: import { cn } from '@/lib/utils';
16743: 
16744: export interface InputProps
16745:   extends React.InputHTMLAttributes<HTMLInputElement> {}
16746: 
16747: const Input = React.forwardRef<HTMLInputElement, InputProps>(
16748:   ({ className, type, ...props }, ref) => {
16749:     return (
16750:       <input
16751:         type={type}
16752:         className={cn(
16753:           'flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',
16754:           className
16755:         )}
16756:         ref={ref}
16757:         {...props}
16758:       />
16759:     );
16760:   }
16761: );
16762: Input.displayName = 'Input';
16763: 
16764: export { Input };
16765: ```
16766: 
16767: ## components\ui\label.tsx
16768: 
16769: - Characters: 732
16770: - Tokens: 0
16771: 
16772: ```text
16773: 'use client';
16774: 
16775: import * as React from 'react';
16776: import * as LabelPrimitive from '@radix-ui/react-label';
16777: import { cva, type VariantProps } from 'class-variance-authority';
16778: 
16779: import { cn } from '@/lib/utils';
16780: 
16781: const labelVariants = cva(
16782:   'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70'
16783: );
16784: 
16785: const Label = React.forwardRef<
16786:   React.ElementRef<typeof LabelPrimitive.Root>,
16787:   React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &
16788:     VariantProps<typeof labelVariants>
16789: >(({ className, ...props }, ref) => (
16790:   <LabelPrimitive.Root
16791:     ref={ref}
16792:     className={cn(labelVariants(), className)}
16793:     {...props}
16794:   />
16795: ));
16796: Label.displayName = LabelPrimitive.Root.displayName;
16797: 
16798: export { Label };
16799: ```
16800: 
16801: ## components\ui\menubar.tsx
16802: 
16803: - Characters: 8024
16804: - Tokens: 0
16805: 
16806: ```text
16807: 'use client';
16808: 
16809: import * as React from 'react';
16810: import * as MenubarPrimitive from '@radix-ui/react-menubar';
16811: import { Check, ChevronRight, Circle } from 'lucide-react';
16812: 
16813: import { cn } from '@/lib/utils';
16814: 
16815: const MenubarMenu = MenubarPrimitive.Menu;
16816: 
16817: const MenubarGroup = MenubarPrimitive.Group;
16818: 
16819: const MenubarPortal = MenubarPrimitive.Portal;
16820: 
16821: const MenubarSub = MenubarPrimitive.Sub;
16822: 
16823: const MenubarRadioGroup = MenubarPrimitive.RadioGroup;
16824: 
16825: const Menubar = React.forwardRef<
16826:   React.ElementRef<typeof MenubarPrimitive.Root>,
16827:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>
16828: >(({ className, ...props }, ref) => (
16829:   <MenubarPrimitive.Root
16830:     ref={ref}
16831:     className={cn(
16832:       'flex h-10 items-center space-x-1 rounded-md border bg-background p-1',
16833:       className
16834:     )}
16835:     {...props}
16836:   />
16837: ));
16838: Menubar.displayName = MenubarPrimitive.Root.displayName;
16839: 
16840: const MenubarTrigger = React.forwardRef<
16841:   React.ElementRef<typeof MenubarPrimitive.Trigger>,
16842:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>
16843: >(({ className, ...props }, ref) => (
16844:   <MenubarPrimitive.Trigger
16845:     ref={ref}
16846:     className={cn(
16847:       'flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground',
16848:       className
16849:     )}
16850:     {...props}
16851:   />
16852: ));
16853: MenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName;
16854: 
16855: const MenubarSubTrigger = React.forwardRef<
16856:   React.ElementRef<typeof MenubarPrimitive.SubTrigger>,
16857:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {
16858:     inset?: boolean;
16859:   }
16860: >(({ className, inset, children, ...props }, ref) => (
16861:   <MenubarPrimitive.SubTrigger
16862:     ref={ref}
16863:     className={cn(
16864:       'flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground',
16865:       inset && 'pl-8',
16866:       className
16867:     )}
16868:     {...props}
16869:   >
16870:     {children}
16871:     <ChevronRight className="ml-auto h-4 w-4" />
16872:   </MenubarPrimitive.SubTrigger>
16873: ));
16874: MenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName;
16875: 
16876: const MenubarSubContent = React.forwardRef<
16877:   React.ElementRef<typeof MenubarPrimitive.SubContent>,
16878:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>
16879: >(({ className, ...props }, ref) => (
16880:   <MenubarPrimitive.SubContent
16881:     ref={ref}
16882:     className={cn(
16883:       'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
16884:       className
16885:     )}
16886:     {...props}
16887:   />
16888: ));
16889: MenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName;
16890: 
16891: const MenubarContent = React.forwardRef<
16892:   React.ElementRef<typeof MenubarPrimitive.Content>,
16893:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>
16894: >(
16895:   (
16896:     { className, align = 'start', alignOffset = -4, sideOffset = 8, ...props },
16897:     ref
16898:   ) => (
16899:     <MenubarPrimitive.Portal>
16900:       <MenubarPrimitive.Content
16901:         ref={ref}
16902:         align={align}
16903:         alignOffset={alignOffset}
16904:         sideOffset={sideOffset}
16905:         className={cn(
16906:           'z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
16907:           className
16908:         )}
16909:         {...props}
16910:       />
16911:     </MenubarPrimitive.Portal>
16912:   )
16913: );
16914: MenubarContent.displayName = MenubarPrimitive.Content.displayName;
16915: 
16916: const MenubarItem = React.forwardRef<
16917:   React.ElementRef<typeof MenubarPrimitive.Item>,
16918:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {
16919:     inset?: boolean;
16920:   }
16921: >(({ className, inset, ...props }, ref) => (
16922:   <MenubarPrimitive.Item
16923:     ref={ref}
16924:     className={cn(
16925:       'relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
16926:       inset && 'pl-8',
16927:       className
16928:     )}
16929:     {...props}
16930:   />
16931: ));
16932: MenubarItem.displayName = MenubarPrimitive.Item.displayName;
16933: 
16934: const MenubarCheckboxItem = React.forwardRef<
16935:   React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,
16936:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>
16937: >(({ className, children, checked, ...props }, ref) => (
16938:   <MenubarPrimitive.CheckboxItem
16939:     ref={ref}
16940:     className={cn(
16941:       'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
16942:       className
16943:     )}
16944:     checked={checked}
16945:     {...props}
16946:   >
16947:     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
16948:       <MenubarPrimitive.ItemIndicator>
16949:         <Check className="h-4 w-4" />
16950:       </MenubarPrimitive.ItemIndicator>
16951:     </span>
16952:     {children}
16953:   </MenubarPrimitive.CheckboxItem>
16954: ));
16955: MenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName;
16956: 
16957: const MenubarRadioItem = React.forwardRef<
16958:   React.ElementRef<typeof MenubarPrimitive.RadioItem>,
16959:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>
16960: >(({ className, children, ...props }, ref) => (
16961:   <MenubarPrimitive.RadioItem
16962:     ref={ref}
16963:     className={cn(
16964:       'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
16965:       className
16966:     )}
16967:     {...props}
16968:   >
16969:     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
16970:       <MenubarPrimitive.ItemIndicator>
16971:         <Circle className="h-2 w-2 fill-current" />
16972:       </MenubarPrimitive.ItemIndicator>
16973:     </span>
16974:     {children}
16975:   </MenubarPrimitive.RadioItem>
16976: ));
16977: MenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName;
16978: 
16979: const MenubarLabel = React.forwardRef<
16980:   React.ElementRef<typeof MenubarPrimitive.Label>,
16981:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {
16982:     inset?: boolean;
16983:   }
16984: >(({ className, inset, ...props }, ref) => (
16985:   <MenubarPrimitive.Label
16986:     ref={ref}
16987:     className={cn(
16988:       'px-2 py-1.5 text-sm font-semibold',
16989:       inset && 'pl-8',
16990:       className
16991:     )}
16992:     {...props}
16993:   />
16994: ));
16995: MenubarLabel.displayName = MenubarPrimitive.Label.displayName;
16996: 
16997: const MenubarSeparator = React.forwardRef<
16998:   React.ElementRef<typeof MenubarPrimitive.Separator>,
16999:   React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>
17000: >(({ className, ...props }, ref) => (
17001:   <MenubarPrimitive.Separator
17002:     ref={ref}
17003:     className={cn('-mx-1 my-1 h-px bg-muted', className)}
17004:     {...props}
17005:   />
17006: ));
17007: MenubarSeparator.displayName = MenubarPrimitive.Separator.displayName;
17008: 
17009: const MenubarShortcut = ({
17010:   className,
17011:   ...props
17012: }: React.HTMLAttributes<HTMLSpanElement>) => {
17013:   return (
17014:     <span
17015:       className={cn(
17016:         'ml-auto text-xs tracking-widest text-muted-foreground',
17017:         className
17018:       )}
17019:       {...props}
17020:     />
17021:   );
17022: };
17023: MenubarShortcut.displayname = 'MenubarShortcut';
17024: 
17025: export {
17026:   Menubar,
17027:   MenubarMenu,
17028:   MenubarTrigger,
17029:   MenubarContent,
17030:   MenubarItem,
17031:   MenubarSeparator,
17032:   MenubarLabel,
17033:   MenubarCheckboxItem,
17034:   MenubarRadioGroup,
17035:   MenubarRadioItem,
17036:   MenubarPortal,
17037:   MenubarSubContent,
17038:   MenubarSubTrigger,
17039:   MenubarGroup,
17040:   MenubarSub,
17041:   MenubarShortcut,
17042: };
17043: ```
17044: 
17045: ## components\ui\navigation-menu.tsx
17046: 
17047: - Characters: 5066
17048: - Tokens: 0
17049: 
17050: ```text
17051: import * as React from 'react';
17052: import * as NavigationMenuPrimitive from '@radix-ui/react-navigation-menu';
17053: import { cva } from 'class-variance-authority';
17054: import { ChevronDown } from 'lucide-react';
17055: 
17056: import { cn } from '@/lib/utils';
17057: 
17058: const NavigationMenu = React.forwardRef<
17059:   React.ElementRef<typeof NavigationMenuPrimitive.Root>,
17060:   React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>
17061: >(({ className, children, ...props }, ref) => (
17062:   <NavigationMenuPrimitive.Root
17063:     ref={ref}
17064:     className={cn(
17065:       'relative z-10 flex max-w-max flex-1 items-center justify-center',
17066:       className
17067:     )}
17068:     {...props}
17069:   >
17070:     {children}
17071:     <NavigationMenuViewport />
17072:   </NavigationMenuPrimitive.Root>
17073: ));
17074: NavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName;
17075: 
17076: const NavigationMenuList = React.forwardRef<
17077:   React.ElementRef<typeof NavigationMenuPrimitive.List>,
17078:   React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>
17079: >(({ className, ...props }, ref) => (
17080:   <NavigationMenuPrimitive.List
17081:     ref={ref}
17082:     className={cn(
17083:       'group flex flex-1 list-none items-center justify-center space-x-1',
17084:       className
17085:     )}
17086:     {...props}
17087:   />
17088: ));
17089: NavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName;
17090: 
17091: const NavigationMenuItem = NavigationMenuPrimitive.Item;
17092: 
17093: const navigationMenuTriggerStyle = cva(
17094:   'group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50'
17095: );
17096: 
17097: const NavigationMenuTrigger = React.forwardRef<
17098:   React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,
17099:   React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>
17100: >(({ className, children, ...props }, ref) => (
17101:   <NavigationMenuPrimitive.Trigger
17102:     ref={ref}
17103:     className={cn(navigationMenuTriggerStyle(), 'group', className)}
17104:     {...props}
17105:   >
17106:     {children}{' '}
17107:     <ChevronDown
17108:       className="relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180"
17109:       aria-hidden="true"
17110:     />
17111:   </NavigationMenuPrimitive.Trigger>
17112: ));
17113: NavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName;
17114: 
17115: const NavigationMenuContent = React.forwardRef<
17116:   React.ElementRef<typeof NavigationMenuPrimitive.Content>,
17117:   React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>
17118: >(({ className, ...props }, ref) => (
17119:   <NavigationMenuPrimitive.Content
17120:     ref={ref}
17121:     className={cn(
17122:       'left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ',
17123:       className
17124:     )}
17125:     {...props}
17126:   />
17127: ));
17128: NavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName;
17129: 
17130: const NavigationMenuLink = NavigationMenuPrimitive.Link;
17131: 
17132: const NavigationMenuViewport = React.forwardRef<
17133:   React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,
17134:   React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>
17135: >(({ className, ...props }, ref) => (
17136:   <div className={cn('absolute left-0 top-full flex justify-center')}>
17137:     <NavigationMenuPrimitive.Viewport
17138:       className={cn(
17139:         'origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]',
17140:         className
17141:       )}
17142:       ref={ref}
17143:       {...props}
17144:     />
17145:   </div>
17146: ));
17147: NavigationMenuViewport.displayName =
17148:   NavigationMenuPrimitive.Viewport.displayName;
17149: 
17150: const NavigationMenuIndicator = React.forwardRef<
17151:   React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,
17152:   React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>
17153: >(({ className, ...props }, ref) => (
17154:   <NavigationMenuPrimitive.Indicator
17155:     ref={ref}
17156:     className={cn(
17157:       'top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in',
17158:       className
17159:     )}
17160:     {...props}
17161:   >
17162:     <div className="relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md" />
17163:   </NavigationMenuPrimitive.Indicator>
17164: ));
17165: NavigationMenuIndicator.displayName =
17166:   NavigationMenuPrimitive.Indicator.displayName;
17167: 
17168: export {
17169:   navigationMenuTriggerStyle,
17170:   NavigationMenu,
17171:   NavigationMenuList,
17172:   NavigationMenuItem,
17173:   NavigationMenuContent,
17174:   NavigationMenuTrigger,
17175:   NavigationMenuLink,
17176:   NavigationMenuIndicator,
17177:   NavigationMenuViewport,
17178: };
17179: ```
17180: 
17181: ## components\ui\pagination.tsx
17182: 
17183: - Characters: 2771
17184: - Tokens: 0
17185: 
17186: ```text
17187: import * as React from 'react';
17188: import { ChevronLeft, ChevronRight, MoreHorizontal } from 'lucide-react';
17189: 
17190: import { cn } from '@/lib/utils';
17191: import { ButtonProps, buttonVariants } from '@/components/ui/button';
17192: 
17193: const Pagination = ({ className, ...props }: React.ComponentProps<'nav'>) => (
17194:   <nav
17195:     role="navigation"
17196:     aria-label="pagination"
17197:     className={cn('mx-auto flex w-full justify-center', className)}
17198:     {...props}
17199:   />
17200: );
17201: Pagination.displayName = 'Pagination';
17202: 
17203: const PaginationContent = React.forwardRef<
17204:   HTMLUListElement,
17205:   React.ComponentProps<'ul'>
17206: >(({ className, ...props }, ref) => (
17207:   <ul
17208:     ref={ref}
17209:     className={cn('flex flex-row items-center gap-1', className)}
17210:     {...props}
17211:   />
17212: ));
17213: PaginationContent.displayName = 'PaginationContent';
17214: 
17215: const PaginationItem = React.forwardRef<
17216:   HTMLLIElement,
17217:   React.ComponentProps<'li'>
17218: >(({ className, ...props }, ref) => (
17219:   <li ref={ref} className={cn('', className)} {...props} />
17220: ));
17221: PaginationItem.displayName = 'PaginationItem';
17222: 
17223: type PaginationLinkProps = {
17224:   isActive?: boolean;
17225: } & Pick<ButtonProps, 'size'> &
17226:   React.ComponentProps<'a'>;
17227: 
17228: const PaginationLink = ({
17229:   className,
17230:   isActive,
17231:   size = 'icon',
17232:   ...props
17233: }: PaginationLinkProps) => (
17234:   <a
17235:     aria-current={isActive ? 'page' : undefined}
17236:     className={cn(
17237:       buttonVariants({
17238:         variant: isActive ? 'outline' : 'ghost',
17239:         size,
17240:       }),
17241:       className
17242:     )}
17243:     {...props}
17244:   />
17245: );
17246: PaginationLink.displayName = 'PaginationLink';
17247: 
17248: const PaginationPrevious = ({
17249:   className,
17250:   ...props
17251: }: React.ComponentProps<typeof PaginationLink>) => (
17252:   <PaginationLink
17253:     aria-label="Go to previous page"
17254:     size="default"
17255:     className={cn('gap-1 pl-2.5', className)}
17256:     {...props}
17257:   >
17258:     <ChevronLeft className="h-4 w-4" />
17259:     <span>Previous</span>
17260:   </PaginationLink>
17261: );
17262: PaginationPrevious.displayName = 'PaginationPrevious';
17263: 
17264: const PaginationNext = ({
17265:   className,
17266:   ...props
17267: }: React.ComponentProps<typeof PaginationLink>) => (
17268:   <PaginationLink
17269:     aria-label="Go to next page"
17270:     size="default"
17271:     className={cn('gap-1 pr-2.5', className)}
17272:     {...props}
17273:   >
17274:     <span>Next</span>
17275:     <ChevronRight className="h-4 w-4" />
17276:   </PaginationLink>
17277: );
17278: PaginationNext.displayName = 'PaginationNext';
17279: 
17280: const PaginationEllipsis = ({
17281:   className,
17282:   ...props
17283: }: React.ComponentProps<'span'>) => (
17284:   <span
17285:     aria-hidden
17286:     className={cn('flex h-9 w-9 items-center justify-center', className)}
17287:     {...props}
17288:   >
17289:     <MoreHorizontal className="h-4 w-4" />
17290:     <span className="sr-only">More pages</span>
17291:   </span>
17292: );
17293: PaginationEllipsis.displayName = 'PaginationEllipsis';
17294: 
17295: export {
17296:   Pagination,
17297:   PaginationContent,
17298:   PaginationEllipsis,
17299:   PaginationItem,
17300:   PaginationLink,
17301:   PaginationNext,
17302:   PaginationPrevious,
17303: };
17304: ```
17305: 
17306: ## components\ui\popover.tsx
17307: 
17308: - Characters: 1252
17309: - Tokens: 0
17310: 
17311: ```text
17312: 'use client';
17313: 
17314: import * as React from 'react';
17315: import * as PopoverPrimitive from '@radix-ui/react-popover';
17316: 
17317: import { cn } from '@/lib/utils';
17318: 
17319: const Popover = PopoverPrimitive.Root;
17320: 
17321: const PopoverTrigger = PopoverPrimitive.Trigger;
17322: 
17323: const PopoverContent = React.forwardRef<
17324:   React.ElementRef<typeof PopoverPrimitive.Content>,
17325:   React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>
17326: >(({ className, align = 'center', sideOffset = 4, ...props }, ref) => (
17327:   <PopoverPrimitive.Portal>
17328:     <PopoverPrimitive.Content
17329:       ref={ref}
17330:       align={align}
17331:       sideOffset={sideOffset}
17332:       className={cn(
17333:         'z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
17334:         className
17335:       )}
17336:       {...props}
17337:     />
17338:   </PopoverPrimitive.Portal>
17339: ));
17340: PopoverContent.displayName = PopoverPrimitive.Content.displayName;
17341: 
17342: export { Popover, PopoverTrigger, PopoverContent };
17343: ```
17344: 
17345: ## components\ui\progress.tsx
17346: 
17347: - Characters: 797
17348: - Tokens: 0
17349: 
17350: ```text
17351: 'use client';
17352: 
17353: import * as React from 'react';
17354: import * as ProgressPrimitive from '@radix-ui/react-progress';
17355: 
17356: import { cn } from '@/lib/utils';
17357: 
17358: const Progress = React.forwardRef<
17359:   React.ElementRef<typeof ProgressPrimitive.Root>,
17360:   React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>
17361: >(({ className, value, ...props }, ref) => (
17362:   <ProgressPrimitive.Root
17363:     ref={ref}
17364:     className={cn(
17365:       'relative h-4 w-full overflow-hidden rounded-full bg-secondary',
17366:       className
17367:     )}
17368:     {...props}
17369:   >
17370:     <ProgressPrimitive.Indicator
17371:       className="h-full w-full flex-1 bg-primary transition-all"
17372:       style={{ transform: `translateX(-${100 - (value || 0)}%)` }}
17373:     />
17374:   </ProgressPrimitive.Root>
17375: ));
17376: Progress.displayName = ProgressPrimitive.Root.displayName;
17377: 
17378: export { Progress };
17379: ```
17380: 
17381: ## components\ui\radio-group.tsx
17382: 
17383: - Characters: 1492
17384: - Tokens: 0
17385: 
17386: ```text
17387: 'use client';
17388: 
17389: import * as React from 'react';
17390: import * as RadioGroupPrimitive from '@radix-ui/react-radio-group';
17391: import { Circle } from 'lucide-react';
17392: 
17393: import { cn } from '@/lib/utils';
17394: 
17395: const RadioGroup = React.forwardRef<
17396:   React.ElementRef<typeof RadioGroupPrimitive.Root>,
17397:   React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>
17398: >(({ className, ...props }, ref) => {
17399:   return (
17400:     <RadioGroupPrimitive.Root
17401:       className={cn('grid gap-2', className)}
17402:       {...props}
17403:       ref={ref}
17404:     />
17405:   );
17406: });
17407: RadioGroup.displayName = RadioGroupPrimitive.Root.displayName;
17408: 
17409: const RadioGroupItem = React.forwardRef<
17410:   React.ElementRef<typeof RadioGroupPrimitive.Item>,
17411:   React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>
17412: >(({ className, ...props }, ref) => {
17413:   return (
17414:     <RadioGroupPrimitive.Item
17415:       ref={ref}
17416:       className={cn(
17417:         'aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',
17418:         className
17419:       )}
17420:       {...props}
17421:     >
17422:       <RadioGroupPrimitive.Indicator className="flex items-center justify-center">
17423:         <Circle className="h-2.5 w-2.5 fill-current text-current" />
17424:       </RadioGroupPrimitive.Indicator>
17425:     </RadioGroupPrimitive.Item>
17426:   );
17427: });
17428: RadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName;
17429: 
17430: export { RadioGroup, RadioGroupItem };
17431: ```
17432: 
17433: ## components\ui\resizable.tsx
17434: 
17435: - Characters: 1731
17436: - Tokens: 0
17437: 
17438: ```text
17439: 'use client';
17440: 
17441: import { GripVertical } from 'lucide-react';
17442: import * as ResizablePrimitive from 'react-resizable-panels';
17443: 
17444: import { cn } from '@/lib/utils';
17445: 
17446: const ResizablePanelGroup = ({
17447:   className,
17448:   ...props
17449: }: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (
17450:   <ResizablePrimitive.PanelGroup
17451:     className={cn(
17452:       'flex h-full w-full data-[panel-group-direction=vertical]:flex-col',
17453:       className
17454:     )}
17455:     {...props}
17456:   />
17457: );
17458: 
17459: const ResizablePanel = ResizablePrimitive.Panel;
17460: 
17461: const ResizableHandle = ({
17462:   withHandle,
17463:   className,
17464:   ...props
17465: }: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {
17466:   withHandle?: boolean;
17467: }) => (
17468:   <ResizablePrimitive.PanelResizeHandle
17469:     className={cn(
17470:       'relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90',
17471:       className
17472:     )}
17473:     {...props}
17474:   >
17475:     {withHandle && (
17476:       <div className="z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border">
17477:         <GripVertical className="h-2.5 w-2.5" />
17478:       </div>
17479:     )}
17480:   </ResizablePrimitive.PanelResizeHandle>
17481: );
17482: 
17483: export { ResizablePanelGroup, ResizablePanel, ResizableHandle };
17484: ```
17485: 
17486: ## components\ui\scroll-area.tsx
17487: 
17488: - Characters: 1664
17489: - Tokens: 0
17490: 
17491: ```text
17492: 'use client';
17493: 
17494: import * as React from 'react';
17495: import * as ScrollAreaPrimitive from '@radix-ui/react-scroll-area';
17496: 
17497: import { cn } from '@/lib/utils';
17498: 
17499: const ScrollArea = React.forwardRef<
17500:   React.ElementRef<typeof ScrollAreaPrimitive.Root>,
17501:   React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>
17502: >(({ className, children, ...props }, ref) => (
17503:   <ScrollAreaPrimitive.Root
17504:     ref={ref}
17505:     className={cn('relative overflow-hidden', className)}
17506:     {...props}
17507:   >
17508:     <ScrollAreaPrimitive.Viewport className="h-full w-full rounded-[inherit]">
17509:       {children}
17510:     </ScrollAreaPrimitive.Viewport>
17511:     <ScrollBar />
17512:     <ScrollAreaPrimitive.Corner />
17513:   </ScrollAreaPrimitive.Root>
17514: ));
17515: ScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;
17516: 
17517: const ScrollBar = React.forwardRef<
17518:   React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,
17519:   React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>
17520: >(({ className, orientation = 'vertical', ...props }, ref) => (
17521:   <ScrollAreaPrimitive.ScrollAreaScrollbar
17522:     ref={ref}
17523:     orientation={orientation}
17524:     className={cn(
17525:       'flex touch-none select-none transition-colors',
17526:       orientation === 'vertical' &&
17527:         'h-full w-2.5 border-l border-l-transparent p-[1px]',
17528:       orientation === 'horizontal' &&
17529:         'h-2.5 flex-col border-t border-t-transparent p-[1px]',
17530:       className
17531:     )}
17532:     {...props}
17533:   >
17534:     <ScrollAreaPrimitive.ScrollAreaThumb className="relative flex-1 rounded-full bg-border" />
17535:   </ScrollAreaPrimitive.ScrollAreaScrollbar>
17536: ));
17537: ScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName;
17538: 
17539: export { ScrollArea, ScrollBar };
17540: ```
17541: 
17542: ## components\ui\select.tsx
17543: 
17544: - Characters: 5651
17545: - Tokens: 0
17546: 
17547: ```text
17548: 'use client';
17549: 
17550: import * as React from 'react';
17551: import * as SelectPrimitive from '@radix-ui/react-select';
17552: import { Check, ChevronDown, ChevronUp } from 'lucide-react';
17553: 
17554: import { cn } from '@/lib/utils';
17555: 
17556: const Select = SelectPrimitive.Root;
17557: 
17558: const SelectGroup = SelectPrimitive.Group;
17559: 
17560: const SelectValue = SelectPrimitive.Value;
17561: 
17562: const SelectTrigger = React.forwardRef<
17563:   React.ElementRef<typeof SelectPrimitive.Trigger>,
17564:   React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>
17565: >(({ className, children, ...props }, ref) => (
17566:   <SelectPrimitive.Trigger
17567:     ref={ref}
17568:     className={cn(
17569:       'flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1',
17570:       className
17571:     )}
17572:     {...props}
17573:   >
17574:     {children}
17575:     <SelectPrimitive.Icon asChild>
17576:       <ChevronDown className="h-4 w-4 opacity-50" />
17577:     </SelectPrimitive.Icon>
17578:   </SelectPrimitive.Trigger>
17579: ));
17580: SelectTrigger.displayName = SelectPrimitive.Trigger.displayName;
17581: 
17582: const SelectScrollUpButton = React.forwardRef<
17583:   React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,
17584:   React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>
17585: >(({ className, ...props }, ref) => (
17586:   <SelectPrimitive.ScrollUpButton
17587:     ref={ref}
17588:     className={cn(
17589:       'flex cursor-default items-center justify-center py-1',
17590:       className
17591:     )}
17592:     {...props}
17593:   >
17594:     <ChevronUp className="h-4 w-4" />
17595:   </SelectPrimitive.ScrollUpButton>
17596: ));
17597: SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;
17598: 
17599: const SelectScrollDownButton = React.forwardRef<
17600:   React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,
17601:   React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>
17602: >(({ className, ...props }, ref) => (
17603:   <SelectPrimitive.ScrollDownButton
17604:     ref={ref}
17605:     className={cn(
17606:       'flex cursor-default items-center justify-center py-1',
17607:       className
17608:     )}
17609:     {...props}
17610:   >
17611:     <ChevronDown className="h-4 w-4" />
17612:   </SelectPrimitive.ScrollDownButton>
17613: ));
17614: SelectScrollDownButton.displayName =
17615:   SelectPrimitive.ScrollDownButton.displayName;
17616: 
17617: const SelectContent = React.forwardRef<
17618:   React.ElementRef<typeof SelectPrimitive.Content>,
17619:   React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>
17620: >(({ className, children, position = 'popper', ...props }, ref) => (
17621:   <SelectPrimitive.Portal>
17622:     <SelectPrimitive.Content
17623:       ref={ref}
17624:       className={cn(
17625:         'relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
17626:         position === 'popper' &&
17627:           'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',
17628:         className
17629:       )}
17630:       position={position}
17631:       {...props}
17632:     >
17633:       <SelectScrollUpButton />
17634:       <SelectPrimitive.Viewport
17635:         className={cn(
17636:           'p-1',
17637:           position === 'popper' &&
17638:             'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]'
17639:         )}
17640:       >
17641:         {children}
17642:       </SelectPrimitive.Viewport>
17643:       <SelectScrollDownButton />
17644:     </SelectPrimitive.Content>
17645:   </SelectPrimitive.Portal>
17646: ));
17647: SelectContent.displayName = SelectPrimitive.Content.displayName;
17648: 
17649: const SelectLabel = React.forwardRef<
17650:   React.ElementRef<typeof SelectPrimitive.Label>,
17651:   React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>
17652: >(({ className, ...props }, ref) => (
17653:   <SelectPrimitive.Label
17654:     ref={ref}
17655:     className={cn('py-1.5 pl-8 pr-2 text-sm font-semibold', className)}
17656:     {...props}
17657:   />
17658: ));
17659: SelectLabel.displayName = SelectPrimitive.Label.displayName;
17660: 
17661: const SelectItem = React.forwardRef<
17662:   React.ElementRef<typeof SelectPrimitive.Item>,
17663:   React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>
17664: >(({ className, children, ...props }, ref) => (
17665:   <SelectPrimitive.Item
17666:     ref={ref}
17667:     className={cn(
17668:       'relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
17669:       className
17670:     )}
17671:     {...props}
17672:   >
17673:     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
17674:       <SelectPrimitive.ItemIndicator>
17675:         <Check className="h-4 w-4" />
17676:       </SelectPrimitive.ItemIndicator>
17677:     </span>
17678: 
17679:     <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
17680:   </SelectPrimitive.Item>
17681: ));
17682: SelectItem.displayName = SelectPrimitive.Item.displayName;
17683: 
17684: const SelectSeparator = React.forwardRef<
17685:   React.ElementRef<typeof SelectPrimitive.Separator>,
17686:   React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>
17687: >(({ className, ...props }, ref) => (
17688:   <SelectPrimitive.Separator
17689:     ref={ref}
17690:     className={cn('-mx-1 my-1 h-px bg-muted', className)}
17691:     {...props}
17692:   />
17693: ));
17694: SelectSeparator.displayName = SelectPrimitive.Separator.displayName;
17695: 
17696: export {
17697:   Select,
17698:   SelectGroup,
17699:   SelectValue,
17700:   SelectTrigger,
17701:   SelectContent,
17702:   SelectLabel,
17703:   SelectItem,
17704:   SelectSeparator,
17705:   SelectScrollUpButton,
17706:   SelectScrollDownButton,
17707: };
17708: ```
17709: 
17710: ## components\ui\separator.tsx
17711: 
17712: - Characters: 776
17713: - Tokens: 0
17714: 
17715: ```text
17716: 'use client';
17717: 
17718: import * as React from 'react';
17719: import * as SeparatorPrimitive from '@radix-ui/react-separator';
17720: 
17721: import { cn } from '@/lib/utils';
17722: 
17723: const Separator = React.forwardRef<
17724:   React.ElementRef<typeof SeparatorPrimitive.Root>,
17725:   React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>
17726: >(
17727:   (
17728:     { className, orientation = 'horizontal', decorative = true, ...props },
17729:     ref
17730:   ) => (
17731:     <SeparatorPrimitive.Root
17732:       ref={ref}
17733:       decorative={decorative}
17734:       orientation={orientation}
17735:       className={cn(
17736:         'shrink-0 bg-border',
17737:         orientation === 'horizontal' ? 'h-[1px] w-full' : 'h-full w-[1px]',
17738:         className
17739:       )}
17740:       {...props}
17741:     />
17742:   )
17743: );
17744: Separator.displayName = SeparatorPrimitive.Root.displayName;
17745: 
17746: export { Separator };
17747: ```
17748: 
17749: ## components\ui\sheet.tsx
17750: 
17751: - Characters: 4304
17752: - Tokens: 0
17753: 
17754: ```text
17755: 'use client';
17756: 
17757: import * as React from 'react';
17758: import * as SheetPrimitive from '@radix-ui/react-dialog';
17759: import { cva, type VariantProps } from 'class-variance-authority';
17760: import { X } from 'lucide-react';
17761: 
17762: import { cn } from '@/lib/utils';
17763: 
17764: const Sheet = SheetPrimitive.Root;
17765: 
17766: const SheetTrigger = SheetPrimitive.Trigger;
17767: 
17768: const SheetClose = SheetPrimitive.Close;
17769: 
17770: const SheetPortal = SheetPrimitive.Portal;
17771: 
17772: const SheetOverlay = React.forwardRef<
17773:   React.ElementRef<typeof SheetPrimitive.Overlay>,
17774:   React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>
17775: >(({ className, ...props }, ref) => (
17776:   <SheetPrimitive.Overlay
17777:     className={cn(
17778:       'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',
17779:       className
17780:     )}
17781:     {...props}
17782:     ref={ref}
17783:   />
17784: ));
17785: SheetOverlay.displayName = SheetPrimitive.Overlay.displayName;
17786: 
17787: const sheetVariants = cva(
17788:   'fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500',
17789:   {
17790:     variants: {
17791:       side: {
17792:         top: 'inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top',
17793:         bottom:
17794:           'inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom',
17795:         left: 'inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm',
17796:         right:
17797:           'inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm',
17798:       },
17799:     },
17800:     defaultVariants: {
17801:       side: 'right',
17802:     },
17803:   }
17804: );
17805: 
17806: interface SheetContentProps
17807:   extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,
17808:     VariantProps<typeof sheetVariants> {}
17809: 
17810: const SheetContent = React.forwardRef<
17811:   React.ElementRef<typeof SheetPrimitive.Content>,
17812:   SheetContentProps
17813: >(({ side = 'right', className, children, ...props }, ref) => (
17814:   <SheetPortal>
17815:     <SheetOverlay />
17816:     <SheetPrimitive.Content
17817:       ref={ref}
17818:       className={cn(sheetVariants({ side }), className)}
17819:       {...props}
17820:     >
17821:       {children}
17822:       <SheetPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary">
17823:         <X className="h-4 w-4" />
17824:         <span className="sr-only">Close</span>
17825:       </SheetPrimitive.Close>
17826:     </SheetPrimitive.Content>
17827:   </SheetPortal>
17828: ));
17829: SheetContent.displayName = SheetPrimitive.Content.displayName;
17830: 
17831: const SheetHeader = ({
17832:   className,
17833:   ...props
17834: }: React.HTMLAttributes<HTMLDivElement>) => (
17835:   <div
17836:     className={cn(
17837:       'flex flex-col space-y-2 text-center sm:text-left',
17838:       className
17839:     )}
17840:     {...props}
17841:   />
17842: );
17843: SheetHeader.displayName = 'SheetHeader';
17844: 
17845: const SheetFooter = ({
17846:   className,
17847:   ...props
17848: }: React.HTMLAttributes<HTMLDivElement>) => (
17849:   <div
17850:     className={cn(
17851:       'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',
17852:       className
17853:     )}
17854:     {...props}
17855:   />
17856: );
17857: SheetFooter.displayName = 'SheetFooter';
17858: 
17859: const SheetTitle = React.forwardRef<
17860:   React.ElementRef<typeof SheetPrimitive.Title>,
17861:   React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>
17862: >(({ className, ...props }, ref) => (
17863:   <SheetPrimitive.Title
17864:     ref={ref}
17865:     className={cn('text-lg font-semibold text-foreground', className)}
17866:     {...props}
17867:   />
17868: ));
17869: SheetTitle.displayName = SheetPrimitive.Title.displayName;
17870: 
17871: const SheetDescription = React.forwardRef<
17872:   React.ElementRef<typeof SheetPrimitive.Description>,
17873:   React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>
17874: >(({ className, ...props }, ref) => (
17875:   <SheetPrimitive.Description
17876:     ref={ref}
17877:     className={cn('text-sm text-muted-foreground', className)}
17878:     {...props}
17879:   />
17880: ));
17881: SheetDescription.displayName = SheetPrimitive.Description.displayName;
17882: 
17883: export {
17884:   Sheet,
17885:   SheetPortal,
17886:   SheetOverlay,
17887:   SheetTrigger,
17888:   SheetClose,
17889:   SheetContent,
17890:   SheetHeader,
17891:   SheetFooter,
17892:   SheetTitle,
17893:   SheetDescription,
17894: };
17895: ```
17896: 
17897: ## components\ui\skeleton.tsx
17898: 
17899: - Characters: 260
17900: - Tokens: 0
17901: 
17902: ```text
17903: import { cn } from "@/lib/utils"
17904: 
17905: function Skeleton({
17906:   className,
17907:   ...props
17908: }: React.HTMLAttributes<HTMLDivElement>) {
17909:   return (
17910:     <div
17911:       className={cn("animate-pulse rounded-md bg-muted", className)}
17912:       {...props}
17913:     />
17914:   )
17915: }
17916: 
17917: export { Skeleton }
17918: ```
17919: 
17920: ## components\ui\slider.tsx
17921: 
17922: - Characters: 1097
17923: - Tokens: 0
17924: 
17925: ```text
17926: 'use client';
17927: 
17928: import * as React from 'react';
17929: import * as SliderPrimitive from '@radix-ui/react-slider';
17930: 
17931: import { cn } from '@/lib/utils';
17932: 
17933: const Slider = React.forwardRef<
17934:   React.ElementRef<typeof SliderPrimitive.Root>,
17935:   React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>
17936: >(({ className, ...props }, ref) => (
17937:   <SliderPrimitive.Root
17938:     ref={ref}
17939:     className={cn(
17940:       'relative flex w-full touch-none select-none items-center',
17941:       className
17942:     )}
17943:     {...props}
17944:   >
17945:     <SliderPrimitive.Track className="relative h-2 w-full grow overflow-hidden rounded-full bg-secondary">
17946:       <SliderPrimitive.Range className="absolute h-full bg-primary" />
17947:     </SliderPrimitive.Track>
17948:     <SliderPrimitive.Thumb className="block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50" />
17949:   </SliderPrimitive.Root>
17950: ));
17951: Slider.displayName = SliderPrimitive.Root.displayName;
17952: 
17953: export { Slider };
17954: ```
17955: 
17956: ## components\ui\sonner.tsx
17957: 
17958: - Characters: 901
17959: - Tokens: 0
17960: 
17961: ```text
17962: 'use client';
17963: 
17964: import { useTheme } from 'next-themes';
17965: import { Toaster as Sonner } from 'sonner';
17966: 
17967: type ToasterProps = React.ComponentProps<typeof Sonner>;
17968: 
17969: const Toaster = ({ ...props }: ToasterProps) => {
17970:   const { theme = 'system' } = useTheme();
17971: 
17972:   return (
17973:     <Sonner
17974:       theme={theme as ToasterProps['theme']}
17975:       className="toaster group"
17976:       toastOptions={{
17977:         classNames: {
17978:           toast:
17979:             'group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg',
17980:           description: 'group-[.toast]:text-muted-foreground',
17981:           actionButton:
17982:             'group-[.toast]:bg-primary group-[.toast]:text-primary-foreground',
17983:           cancelButton:
17984:             'group-[.toast]:bg-muted group-[.toast]:text-muted-foreground',
17985:         },
17986:       }}
17987:       {...props}
17988:     />
17989:   );
17990: };
17991: 
17992: export { Toaster };
17993: ```
17994: 
17995: ## components\ui\switch.tsx
17996: 
17997: - Characters: 1159
17998: - Tokens: 0
17999: 
18000: ```text
18001: 'use client';
18002: 
18003: import * as React from 'react';
18004: import * as SwitchPrimitives from '@radix-ui/react-switch';
18005: 
18006: import { cn } from '@/lib/utils';
18007: 
18008: const Switch = React.forwardRef<
18009:   React.ElementRef<typeof SwitchPrimitives.Root>,
18010:   React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>
18011: >(({ className, ...props }, ref) => (
18012:   <SwitchPrimitives.Root
18013:     className={cn(
18014:       'peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input',
18015:       className
18016:     )}
18017:     {...props}
18018:     ref={ref}
18019:   >
18020:     <SwitchPrimitives.Thumb
18021:       className={cn(
18022:         'pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0'
18023:       )}
18024:     />
18025:   </SwitchPrimitives.Root>
18026: ));
18027: Switch.displayName = SwitchPrimitives.Root.displayName;
18028: 
18029: export { Switch };
18030: ```
18031: 
18032: ## components\ui\table.tsx
18033: 
18034: - Characters: 2783
18035: - Tokens: 0
18036: 
18037: ```text
18038: import * as React from 'react';
18039: 
18040: import { cn } from '@/lib/utils';
18041: 
18042: const Table = React.forwardRef<
18043:   HTMLTableElement,
18044:   React.HTMLAttributes<HTMLTableElement>
18045: >(({ className, ...props }, ref) => (
18046:   <div className="relative w-full overflow-auto">
18047:     <table
18048:       ref={ref}
18049:       className={cn('w-full caption-bottom text-sm', className)}
18050:       {...props}
18051:     />
18052:   </div>
18053: ));
18054: Table.displayName = 'Table';
18055: 
18056: const TableHeader = React.forwardRef<
18057:   HTMLTableSectionElement,
18058:   React.HTMLAttributes<HTMLTableSectionElement>
18059: >(({ className, ...props }, ref) => (
18060:   <thead ref={ref} className={cn('[&_tr]:border-b', className)} {...props} />
18061: ));
18062: TableHeader.displayName = 'TableHeader';
18063: 
18064: const TableBody = React.forwardRef<
18065:   HTMLTableSectionElement,
18066:   React.HTMLAttributes<HTMLTableSectionElement>
18067: >(({ className, ...props }, ref) => (
18068:   <tbody
18069:     ref={ref}
18070:     className={cn('[&_tr:last-child]:border-0', className)}
18071:     {...props}
18072:   />
18073: ));
18074: TableBody.displayName = 'TableBody';
18075: 
18076: const TableFooter = React.forwardRef<
18077:   HTMLTableSectionElement,
18078:   React.HTMLAttributes<HTMLTableSectionElement>
18079: >(({ className, ...props }, ref) => (
18080:   <tfoot
18081:     ref={ref}
18082:     className={cn(
18083:       'border-t bg-muted/50 font-medium [&>tr]:last:border-b-0',
18084:       className
18085:     )}
18086:     {...props}
18087:   />
18088: ));
18089: TableFooter.displayName = 'TableFooter';
18090: 
18091: const TableRow = React.forwardRef<
18092:   HTMLTableRowElement,
18093:   React.HTMLAttributes<HTMLTableRowElement>
18094: >(({ className, ...props }, ref) => (
18095:   <tr
18096:     ref={ref}
18097:     className={cn(
18098:       'border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted',
18099:       className
18100:     )}
18101:     {...props}
18102:   />
18103: ));
18104: TableRow.displayName = 'TableRow';
18105: 
18106: const TableHead = React.forwardRef<
18107:   HTMLTableCellElement,
18108:   React.ThHTMLAttributes<HTMLTableCellElement>
18109: >(({ className, ...props }, ref) => (
18110:   <th
18111:     ref={ref}
18112:     className={cn(
18113:       'h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0',
18114:       className
18115:     )}
18116:     {...props}
18117:   />
18118: ));
18119: TableHead.displayName = 'TableHead';
18120: 
18121: const TableCell = React.forwardRef<
18122:   HTMLTableCellElement,
18123:   React.TdHTMLAttributes<HTMLTableCellElement>
18124: >(({ className, ...props }, ref) => (
18125:   <td
18126:     ref={ref}
18127:     className={cn('p-4 align-middle [&:has([role=checkbox])]:pr-0', className)}
18128:     {...props}
18129:   />
18130: ));
18131: TableCell.displayName = 'TableCell';
18132: 
18133: const TableCaption = React.forwardRef<
18134:   HTMLTableCaptionElement,
18135:   React.HTMLAttributes<HTMLTableCaptionElement>
18136: >(({ className, ...props }, ref) => (
18137:   <caption
18138:     ref={ref}
18139:     className={cn('mt-4 text-sm text-muted-foreground', className)}
18140:     {...props}
18141:   />
18142: ));
18143: TableCaption.displayName = 'TableCaption';
18144: 
18145: export {
18146:   Table,
18147:   TableHeader,
18148:   TableBody,
18149:   TableFooter,
18150:   TableHead,
18151:   TableRow,
18152:   TableCell,
18153:   TableCaption,
18154: };
18155: ```
18156: 
18157: ## components\ui\tabs.tsx
18158: 
18159: - Characters: 1908
18160: - Tokens: 0
18161: 
18162: ```text
18163: 'use client';
18164: 
18165: import * as React from 'react';
18166: import * as TabsPrimitive from '@radix-ui/react-tabs';
18167: 
18168: import { cn } from '@/lib/utils';
18169: 
18170: const Tabs = TabsPrimitive.Root;
18171: 
18172: const TabsList = React.forwardRef<
18173:   React.ElementRef<typeof TabsPrimitive.List>,
18174:   React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>
18175: >(({ className, ...props }, ref) => (
18176:   <TabsPrimitive.List
18177:     ref={ref}
18178:     className={cn(
18179:       'inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground',
18180:       className
18181:     )}
18182:     {...props}
18183:   />
18184: ));
18185: TabsList.displayName = TabsPrimitive.List.displayName;
18186: 
18187: const TabsTrigger = React.forwardRef<
18188:   React.ElementRef<typeof TabsPrimitive.Trigger>,
18189:   React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>
18190: >(({ className, ...props }, ref) => (
18191:   <TabsPrimitive.Trigger
18192:     ref={ref}
18193:     className={cn(
18194:       'inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm',
18195:       className
18196:     )}
18197:     {...props}
18198:   />
18199: ));
18200: TabsTrigger.displayName = TabsPrimitive.Trigger.displayName;
18201: 
18202: const TabsContent = React.forwardRef<
18203:   React.ElementRef<typeof TabsPrimitive.Content>,
18204:   React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>
18205: >(({ className, ...props }, ref) => (
18206:   <TabsPrimitive.Content
18207:     ref={ref}
18208:     className={cn(
18209:       'mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2',
18210:       className
18211:     )}
18212:     {...props}
18213:   />
18214: ));
18215: TabsContent.displayName = TabsPrimitive.Content.displayName;
18216: 
18217: export { Tabs, TabsList, TabsTrigger, TabsContent };
18218: ```
18219: 
18220: ## components\ui\textarea.tsx
18221: 
18222: - Characters: 777
18223: - Tokens: 0
18224: 
18225: ```text
18226: import * as React from 'react';
18227: 
18228: import { cn } from '@/lib/utils';
18229: 
18230: export interface TextareaProps
18231:   extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}
18232: 
18233: const Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(
18234:   ({ className, ...props }, ref) => {
18235:     return (
18236:       <textarea
18237:         className={cn(
18238:           'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',
18239:           className
18240:         )}
18241:         ref={ref}
18242:         {...props}
18243:       />
18244:     );
18245:   }
18246: );
18247: Textarea.displayName = 'Textarea';
18248: 
18249: export { Textarea };
18250: ```
18251: 
18252: ## components\ui\toast.tsx
18253: 
18254: - Characters: 4882
18255: - Tokens: 0
18256: 
18257: ```text
18258: 'use client';
18259: 
18260: import * as React from 'react';
18261: import * as ToastPrimitives from '@radix-ui/react-toast';
18262: import { cva, type VariantProps } from 'class-variance-authority';
18263: import { X } from 'lucide-react';
18264: 
18265: import { cn } from '@/lib/utils';
18266: 
18267: const ToastProvider = ToastPrimitives.Provider;
18268: 
18269: const ToastViewport = React.forwardRef<
18270:   React.ElementRef<typeof ToastPrimitives.Viewport>,
18271:   React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>
18272: >(({ className, ...props }, ref) => (
18273:   <ToastPrimitives.Viewport
18274:     ref={ref}
18275:     className={cn(
18276:       'fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]',
18277:       className
18278:     )}
18279:     {...props}
18280:   />
18281: ));
18282: ToastViewport.displayName = ToastPrimitives.Viewport.displayName;
18283: 
18284: const toastVariants = cva(
18285:   'group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full',
18286:   {
18287:     variants: {
18288:       variant: {
18289:         default: 'border bg-background text-foreground',
18290:         destructive:
18291:           'destructive group border-destructive bg-destructive text-destructive-foreground',
18292:       },
18293:     },
18294:     defaultVariants: {
18295:       variant: 'default',
18296:     },
18297:   }
18298: );
18299: 
18300: const Toast = React.forwardRef<
18301:   React.ElementRef<typeof ToastPrimitives.Root>,
18302:   React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &
18303:     VariantProps<typeof toastVariants>
18304: >(({ className, variant, ...props }, ref) => {
18305:   return (
18306:     <ToastPrimitives.Root
18307:       ref={ref}
18308:       className={cn(toastVariants({ variant }), className)}
18309:       {...props}
18310:     />
18311:   );
18312: });
18313: Toast.displayName = ToastPrimitives.Root.displayName;
18314: 
18315: const ToastAction = React.forwardRef<
18316:   React.ElementRef<typeof ToastPrimitives.Action>,
18317:   React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>
18318: >(({ className, ...props }, ref) => (
18319:   <ToastPrimitives.Action
18320:     ref={ref}
18321:     className={cn(
18322:       'inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive',
18323:       className
18324:     )}
18325:     {...props}
18326:   />
18327: ));
18328: ToastAction.displayName = ToastPrimitives.Action.displayName;
18329: 
18330: const ToastClose = React.forwardRef<
18331:   React.ElementRef<typeof ToastPrimitives.Close>,
18332:   React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>
18333: >(({ className, ...props }, ref) => (
18334:   <ToastPrimitives.Close
18335:     ref={ref}
18336:     className={cn(
18337:       'absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600',
18338:       className
18339:     )}
18340:     toast-close=""
18341:     {...props}
18342:   >
18343:     <X className="h-4 w-4" />
18344:   </ToastPrimitives.Close>
18345: ));
18346: ToastClose.displayName = ToastPrimitives.Close.displayName;
18347: 
18348: const ToastTitle = React.forwardRef<
18349:   React.ElementRef<typeof ToastPrimitives.Title>,
18350:   React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>
18351: >(({ className, ...props }, ref) => (
18352:   <ToastPrimitives.Title
18353:     ref={ref}
18354:     className={cn('text-sm font-semibold', className)}
18355:     {...props}
18356:   />
18357: ));
18358: ToastTitle.displayName = ToastPrimitives.Title.displayName;
18359: 
18360: const ToastDescription = React.forwardRef<
18361:   React.ElementRef<typeof ToastPrimitives.Description>,
18362:   React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>
18363: >(({ className, ...props }, ref) => (
18364:   <ToastPrimitives.Description
18365:     ref={ref}
18366:     className={cn('text-sm opacity-90', className)}
18367:     {...props}
18368:   />
18369: ));
18370: ToastDescription.displayName = ToastPrimitives.Description.displayName;
18371: 
18372: type ToastProps = React.ComponentPropsWithoutRef<typeof Toast>;
18373: 
18374: type ToastActionElement = React.ReactElement<typeof ToastAction>;
18375: 
18376: export {
18377:   type ToastProps,
18378:   type ToastActionElement,
18379:   ToastProvider,
18380:   ToastViewport,
18381:   Toast,
18382:   ToastTitle,
18383:   ToastDescription,
18384:   ToastClose,
18385:   ToastAction,
18386: };
18387: ```
18388: 
18389: ## components\ui\toaster.tsx
18390: 
18391: - Characters: 791
18392: - Tokens: 0
18393: 
18394: ```text
18395: 'use client';
18396: 
18397: import { useToast } from '@/hooks/use-toast';
18398: import {
18399:   Toast,
18400:   ToastClose,
18401:   ToastDescription,
18402:   ToastProvider,
18403:   ToastTitle,
18404:   ToastViewport,
18405: } from '@/components/ui/toast';
18406: 
18407: export function Toaster() {
18408:   const { toasts } = useToast();
18409: 
18410:   return (
18411:     <ToastProvider>
18412:       {toasts.map(function ({ id, title, description, action, ...props }) {
18413:         return (
18414:           <Toast key={id} {...props}>
18415:             <div className="grid gap-1">
18416:               {title && <ToastTitle>{title}</ToastTitle>}
18417:               {description && (
18418:                 <ToastDescription>{description}</ToastDescription>
18419:               )}
18420:             </div>
18421:             {action}
18422:             <ToastClose />
18423:           </Toast>
18424:         );
18425:       })}
18426:       <ToastViewport />
18427:     </ToastProvider>
18428:   );
18429: }
18430: ```
18431: 
18432: ## components\ui\toggle-group.tsx
18433: 
18434: - Characters: 1766
18435: - Tokens: 0
18436: 
18437: ```text
18438: 'use client';
18439: 
18440: import * as React from 'react';
18441: import * as ToggleGroupPrimitive from '@radix-ui/react-toggle-group';
18442: import { type VariantProps } from 'class-variance-authority';
18443: 
18444: import { cn } from '@/lib/utils';
18445: import { toggleVariants } from '@/components/ui/toggle';
18446: 
18447: const ToggleGroupContext = React.createContext<
18448:   VariantProps<typeof toggleVariants>
18449: >({
18450:   size: 'default',
18451:   variant: 'default',
18452: });
18453: 
18454: const ToggleGroup = React.forwardRef<
18455:   React.ElementRef<typeof ToggleGroupPrimitive.Root>,
18456:   React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &
18457:     VariantProps<typeof toggleVariants>
18458: >(({ className, variant, size, children, ...props }, ref) => (
18459:   <ToggleGroupPrimitive.Root
18460:     ref={ref}
18461:     className={cn('flex items-center justify-center gap-1', className)}
18462:     {...props}
18463:   >
18464:     <ToggleGroupContext.Provider value={{ variant, size }}>
18465:       {children}
18466:     </ToggleGroupContext.Provider>
18467:   </ToggleGroupPrimitive.Root>
18468: ));
18469: 
18470: ToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName;
18471: 
18472: const ToggleGroupItem = React.forwardRef<
18473:   React.ElementRef<typeof ToggleGroupPrimitive.Item>,
18474:   React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &
18475:     VariantProps<typeof toggleVariants>
18476: >(({ className, children, variant, size, ...props }, ref) => {
18477:   const context = React.useContext(ToggleGroupContext);
18478: 
18479:   return (
18480:     <ToggleGroupPrimitive.Item
18481:       ref={ref}
18482:       className={cn(
18483:         toggleVariants({
18484:           variant: context.variant || variant,
18485:           size: context.size || size,
18486:         }),
18487:         className
18488:       )}
18489:       {...props}
18490:     >
18491:       {children}
18492:     </ToggleGroupPrimitive.Item>
18493:   );
18494: });
18495: 
18496: ToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName;
18497: 
18498: export { ToggleGroup, ToggleGroupItem };
18499: ```
18500: 
18501: ## components\ui\toggle.tsx
18502: 
18503: - Characters: 1457
18504: - Tokens: 0
18505: 
18506: ```text
18507: 'use client';
18508: 
18509: import * as React from 'react';
18510: import * as TogglePrimitive from '@radix-ui/react-toggle';
18511: import { cva, type VariantProps } from 'class-variance-authority';
18512: 
18513: import { cn } from '@/lib/utils';
18514: 
18515: const toggleVariants = cva(
18516:   'inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground',
18517:   {
18518:     variants: {
18519:       variant: {
18520:         default: 'bg-transparent',
18521:         outline:
18522:           'border border-input bg-transparent hover:bg-accent hover:text-accent-foreground',
18523:       },
18524:       size: {
18525:         default: 'h-10 px-3',
18526:         sm: 'h-9 px-2.5',
18527:         lg: 'h-11 px-5',
18528:       },
18529:     },
18530:     defaultVariants: {
18531:       variant: 'default',
18532:       size: 'default',
18533:     },
18534:   }
18535: );
18536: 
18537: const Toggle = React.forwardRef<
18538:   React.ElementRef<typeof TogglePrimitive.Root>,
18539:   React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &
18540:     VariantProps<typeof toggleVariants>
18541: >(({ className, variant, size, ...props }, ref) => (
18542:   <TogglePrimitive.Root
18543:     ref={ref}
18544:     className={cn(toggleVariants({ variant, size, className }))}
18545:     {...props}
18546:   />
18547: ));
18548: 
18549: Toggle.displayName = TogglePrimitive.Root.displayName;
18550: 
18551: export { Toggle, toggleVariants };
18552: ```
18553: 
18554: ## components\ui\tooltip.tsx
18555: 
18556: - Characters: 1168
18557: - Tokens: 0
18558: 
18559: ```text
18560: 'use client';
18561: 
18562: import * as React from 'react';
18563: import * as TooltipPrimitive from '@radix-ui/react-tooltip';
18564: 
18565: import { cn } from '@/lib/utils';
18566: 
18567: const TooltipProvider = TooltipPrimitive.Provider;
18568: 
18569: const Tooltip = TooltipPrimitive.Root;
18570: 
18571: const TooltipTrigger = TooltipPrimitive.Trigger;
18572: 
18573: const TooltipContent = React.forwardRef<
18574:   React.ElementRef<typeof TooltipPrimitive.Content>,
18575:   React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>
18576: >(({ className, sideOffset = 4, ...props }, ref) => (
18577:   <TooltipPrimitive.Content
18578:     ref={ref}
18579:     sideOffset={sideOffset}
18580:     className={cn(
18581:       'z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
18582:       className
18583:     )}
18584:     {...props}
18585:   />
18586: ));
18587: TooltipContent.displayName = TooltipPrimitive.Content.displayName;
18588: 
18589: export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };
18590: ```
18591: 
18592: ## components.json
18593: 
18594: - Characters: 416
18595: - Tokens: 0
18596: 
18597: ```json
18598: {
18599:   "$schema": "https://ui.shadcn.com/schema.json",
18600:   "style": "default",
18601:   "rsc": true,
18602:   "tsx": true,
18603:   "tailwind": {
18604:     "config": "tailwind.config.ts",
18605:     "css": "app/globals.css",
18606:     "baseColor": "neutral",
18607:     "cssVariables": true,
18608:     "prefix": ""
18609:   },
18610:   "aliases": {
18611:     "components": "@/components",
18612:     "utils": "@/lib/utils",
18613:     "ui": "@/components/ui",
18614:     "lib": "@/lib",
18615:     "hooks": "@/hooks"
18616:   }
18617: }
18618: ```
18619: 
18620: ## hooks\use-auth.tsx
18621: 
18622: - Characters: 3132
18623: - Tokens: 0
18624: 
18625: ```text
18626: "use client";
18627: 
18628: import React, { createContext, useContext, useEffect, useState } from 'react';
18629: import { useRouter } from 'next/navigation';
18630: import { UserRole } from '@prisma/client';
18631: 
18632: export interface AuthUser {
18633:   id: string;
18634:   email: string;
18635:   name: string;
18636:   role: UserRole;
18637: }
18638: 
18639: interface AuthContextType {
18640:   user: AuthUser | null;
18641:   token: string | null;
18642:   login: (email: string, password: string) => Promise<void>;
18643:   logout: () => void;
18644:   isLoading: boolean;
18645:   error: string | null;
18646: }
18647: 
18648: const AuthContext = createContext<AuthContextType>({
18649:   user: null,
18650:   token: null,
18651:   login: async () => {},
18652:   logout: () => {},
18653:   isLoading: false,
18654:   error: null,
18655: });
18656: 
18657: export const useAuth = () => useContext(AuthContext);
18658: 
18659: export function AuthProvider({ children }: { children: React.ReactNode }) {
18660:   const [user, setUser] = useState<AuthUser | null>(null);
18661:   const [token, setToken] = useState<string | null>(null);
18662:   const [isLoading, setIsLoading] = useState(false);
18663:   const [error, setError] = useState<string | null>(null);
18664:   const [isInitialized, setIsInitialized] = useState(false);
18665:   const router = useRouter();
18666: 
18667:   // Initialize auth state from localStorage
18668:   useEffect(() => {
18669:     if (typeof window !== 'undefined') {
18670:       const storedToken = localStorage.getItem("token");
18671:       const storedUser = localStorage.getItem("user");
18672: 
18673:       if (storedToken && storedUser) {
18674:         try {
18675:           setToken(storedToken);
18676:           setUser(JSON.parse(storedUser));
18677:         } catch (e) {
18678:           console.error("Failed to parse stored user:", e);
18679:           localStorage.removeItem("token");
18680:           localStorage.removeItem("user");
18681:         }
18682:       }
18683:       
18684:       setIsInitialized(true);
18685:     }
18686:   }, []);
18687: 
18688:   const login = async (email: string, password: string) => {
18689:     setIsLoading(true);
18690:     setError(null);
18691: 
18692:     try {
18693:       const response = await fetch("/api/auth/login", {
18694:         method: "POST",
18695:         headers: {
18696:           "Content-Type": "application/json",
18697:         },
18698:         body: JSON.stringify({ email, password }),
18699:       });
18700: 
18701:       const data = await response.json();
18702: 
18703:       if (!response.ok) {
18704:         throw new Error(data.error || "Login failed");
18705:       }
18706: 
18707:       // Store token and user in localStorage
18708:       if (typeof window !== 'undefined') {
18709:         localStorage.setItem("token", data.token);
18710:         localStorage.setItem("user", JSON.stringify(data.user));
18711:       }
18712: 
18713:       setToken(data.token);
18714:       setUser(data.user);
18715:       
18716:       return data;
18717:     } catch (err) {
18718:       const errorMessage = err instanceof Error ? err.message : "An unexpected error occurred";
18719:       setError(errorMessage);
18720:       throw err;
18721:     } finally {
18722:       setIsLoading(false);
18723:     }
18724:   };
18725: 
18726:   const logout = () => {
18727:     if (typeof window !== 'undefined') {
18728:       localStorage.removeItem("token");
18729:       localStorage.removeItem("user");
18730:     }
18731:     setToken(null);
18732:     setUser(null);
18733:     router.push("/login");
18734:   };
18735: 
18736:   const contextValue = {
18737:     user,
18738:     token,
18739:     login,
18740:     logout,
18741:     isLoading,
18742:     error
18743:   };
18744: 
18745:   return (
18746:     <AuthContext.Provider value={contextValue}>
18747:       {isInitialized ? children : null}
18748:     </AuthContext.Provider>
18749:   );
18750: }
18751: ```
18752: 
18753: ## hooks\use-toast.ts
18754: 
18755: - Characters: 4004
18756: - Tokens: 0
18757: 
18758: ```typescript
18759: 'use client';
18760: 
18761: // Inspired by react-hot-toast library
18762: import * as React from 'react';
18763: 
18764: import type { ToastActionElement, ToastProps } from '@/components/ui/toast';
18765: 
18766: const TOAST_LIMIT = 1;
18767: const TOAST_REMOVE_DELAY = 1000000;
18768: 
18769: type ToasterToast = ToastProps & {
18770:   id: string;
18771:   title?: React.ReactNode;
18772:   description?: React.ReactNode;
18773:   action?: ToastActionElement;
18774: };
18775: 
18776: const actionTypes = {
18777:   ADD_TOAST: 'ADD_TOAST',
18778:   UPDATE_TOAST: 'UPDATE_TOAST',
18779:   DISMISS_TOAST: 'DISMISS_TOAST',
18780:   REMOVE_TOAST: 'REMOVE_TOAST',
18781: } as const;
18782: 
18783: let count = 0;
18784: 
18785: function genId() {
18786:   count = (count + 1) % Number.MAX_SAFE_INTEGER;
18787:   return count.toString();
18788: }
18789: 
18790: type ActionType = typeof actionTypes;
18791: 
18792: type Action =
18793:   | {
18794:       type: ActionType['ADD_TOAST'];
18795:       toast: ToasterToast;
18796:     }
18797:   | {
18798:       type: ActionType['UPDATE_TOAST'];
18799:       toast: Partial<ToasterToast>;
18800:     }
18801:   | {
18802:       type: ActionType['DISMISS_TOAST'];
18803:       toastId?: ToasterToast['id'];
18804:     }
18805:   | {
18806:       type: ActionType['REMOVE_TOAST'];
18807:       toastId?: ToasterToast['id'];
18808:     };
18809: 
18810: interface State {
18811:   toasts: ToasterToast[];
18812: }
18813: 
18814: const toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>();
18815: 
18816: const addToRemoveQueue = (toastId: string) => {
18817:   if (toastTimeouts.has(toastId)) {
18818:     return;
18819:   }
18820: 
18821:   const timeout = setTimeout(() => {
18822:     toastTimeouts.delete(toastId);
18823:     dispatch({
18824:       type: 'REMOVE_TOAST',
18825:       toastId: toastId,
18826:     });
18827:   }, TOAST_REMOVE_DELAY);
18828: 
18829:   toastTimeouts.set(toastId, timeout);
18830: };
18831: 
18832: export const reducer = (state: State, action: Action): State => {
18833:   switch (action.type) {
18834:     case 'ADD_TOAST':
18835:       return {
18836:         ...state,
18837:         toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
18838:       };
18839: 
18840:     case 'UPDATE_TOAST':
18841:       return {
18842:         ...state,
18843:         toasts: state.toasts.map((t) =>
18844:           t.id === action.toast.id ? { ...t, ...action.toast } : t
18845:         ),
18846:       };
18847: 
18848:     case 'DISMISS_TOAST': {
18849:       const { toastId } = action;
18850: 
18851:       // ! Side effects ! - This could be extracted into a dismissToast() action,
18852:       // but I'll keep it here for simplicity
18853:       if (toastId) {
18854:         addToRemoveQueue(toastId);
18855:       } else {
18856:         state.toasts.forEach((toast) => {
18857:           addToRemoveQueue(toast.id);
18858:         });
18859:       }
18860: 
18861:       return {
18862:         ...state,
18863:         toasts: state.toasts.map((t) =>
18864:           t.id === toastId || toastId === undefined
18865:             ? {
18866:                 ...t,
18867:                 open: false,
18868:               }
18869:             : t
18870:         ),
18871:       };
18872:     }
18873:     case 'REMOVE_TOAST':
18874:       if (action.toastId === undefined) {
18875:         return {
18876:           ...state,
18877:           toasts: [],
18878:         };
18879:       }
18880:       return {
18881:         ...state,
18882:         toasts: state.toasts.filter((t) => t.id !== action.toastId),
18883:       };
18884:   }
18885: };
18886: 
18887: const listeners: Array<(state: State) => void> = [];
18888: 
18889: let memoryState: State = { toasts: [] };
18890: 
18891: function dispatch(action: Action) {
18892:   memoryState = reducer(memoryState, action);
18893:   listeners.forEach((listener) => {
18894:     listener(memoryState);
18895:   });
18896: }
18897: 
18898: type Toast = Omit<ToasterToast, 'id'>;
18899: 
18900: function toast({ ...props }: Toast) {
18901:   const id = genId();
18902: 
18903:   const update = (props: ToasterToast) =>
18904:     dispatch({
18905:       type: 'UPDATE_TOAST',
18906:       toast: { ...props, id },
18907:     });
18908:   const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id });
18909: 
18910:   dispatch({
18911:     type: 'ADD_TOAST',
18912:     toast: {
18913:       ...props,
18914:       id,
18915:       open: true,
18916:       onOpenChange: (open) => {
18917:         if (!open) dismiss();
18918:       },
18919:     },
18920:   });
18921: 
18922:   return {
18923:     id: id,
18924:     dismiss,
18925:     update,
18926:   };
18927: }
18928: 
18929: function useToast() {
18930:   const [state, setState] = React.useState<State>(memoryState);
18931: 
18932:   React.useEffect(() => {
18933:     listeners.push(setState);
18934:     return () => {
18935:       const index = listeners.indexOf(setState);
18936:       if (index > -1) {
18937:         listeners.splice(index, 1);
18938:       }
18939:     };
18940:   }, [state]);
18941: 
18942:   return {
18943:     ...state,
18944:     toast,
18945:     dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),
18946:   };
18947: }
18948: 
18949: export { useToast, toast };
18950: ```
18951: 
18952: ## middleware.ts
18953: 
18954: - Characters: 853
18955: - Tokens: 0
18956: 
18957: ```typescript
18958: import { NextRequest, NextResponse } from "next/server";
18959: 
18960: // Paths that don't require authentication
18961: const publicPaths = ["/", "/login"];
18962: 
18963: export async function middleware(request: NextRequest) {
18964:   // With client-side authentication using localStorage, we don't need
18965:   // server-side middleware for authentication checks.
18966:   // The client components will handle redirects based on auth state.
18967:   
18968:   // Just pass through all requests
18969:   return NextResponse.next();
18970: }
18971: 
18972: // Update the matcher to exclude API routes from middleware
18973: export const config = {
18974:   matcher: [
18975:     /*
18976:      * Match all request paths except for the ones starting with:
18977:      * - api (API routes)
18978:      * - _next/static (static files)
18979:      * - _next/image (image optimization files)
18980:      * - favicon.ico (favicon file)
18981:      */
18982:     '/((?!api|_next/static|_next/image|favicon.ico).*)',
18983:   ],
18984: };
18985: ```
18986: 
18987: ## netlify.toml
18988: 
18989: - Characters: 163
18990: - Tokens: 0
18991: 
18992: ```text
18993: [build]
18994:   command = "npm run build"
18995:   publish = "out"
18996: 
18997: [build.environment]
18998:   NODE_VERSION = "18"
18999:   
19000: [[redirects]]
19001:   from = "/*"
19002:   to = "/index.html"
19003:   status = 200
19004: ```
19005: 
19006: ## next.config.js
19007: 
19008: - Characters: 321
19009: - Tokens: 0
19010: 
19011: ```javascript
19012: /** @type {import('next').NextConfig} */
19013: const nextConfig = {
19014:   // 確保沒有 output: 'export' 以允許 API 路由運行
19015:   eslint: {
19016:     ignoreDuringBuilds: true,
19017:   },
19018:   images: { unoptimized: true },
19019:   // 添加環境變量配置
19020:   env: {
19021:     IS_WEBCONTAINER: true,
19022:     JWT_SECRET: 'fashion-inventory-jwt-secret-key',
19023:   },
19024: };
19025: 
19026: module.exports = nextConfig;
19027: ```
19028: 
19029: ## package.json
19030: 
19031: - Characters: 2666
19032: - Tokens: 0
19033: 
19034: ```json
19035: {
19036:   "name": "fashion-inventory-system",
19037:   "version": "0.1.0",
19038:   "private": true,
19039:   "scripts": {
19040:     "dev": "next dev",
19041:     "build": "next build",
19042:     "start": "next start",
19043:     "lint": "next lint",
19044:     "postinstall": "prisma generate",
19045:     "seed": "ts-node --compiler-options {\"module\":\"CommonJS\"} scripts/seed.ts"
19046:   },
19047:   "dependencies": {
19048:     "@hookform/resolvers": "^3.9.0",
19049:     "@next/swc-wasm-nodejs": "13.5.1",
19050:     "@prisma/client": "^5.10.2",
19051:     "@radix-ui/react-accordion": "^1.2.0",
19052:     "@radix-ui/react-alert-dialog": "^1.1.1",
19053:     "@radix-ui/react-aspect-ratio": "^1.1.0",
19054:     "@radix-ui/react-avatar": "^1.1.0",
19055:     "@radix-ui/react-checkbox": "^1.1.1",
19056:     "@radix-ui/react-collapsible": "^1.1.0",
19057:     "@radix-ui/react-context-menu": "^2.2.1",
19058:     "@radix-ui/react-dialog": "^1.1.1",
19059:     "@radix-ui/react-dropdown-menu": "^2.1.1",
19060:     "@radix-ui/react-hover-card": "^1.1.1",
19061:     "@radix-ui/react-label": "^2.1.0",
19062:     "@radix-ui/react-menubar": "^1.1.1",
19063:     "@radix-ui/react-navigation-menu": "^1.2.0",
19064:     "@radix-ui/react-popover": "^1.1.1",
19065:     "@radix-ui/react-progress": "^1.1.0",
19066:     "@radix-ui/react-radio-group": "^1.2.0",
19067:     "@radix-ui/react-scroll-area": "^1.1.0",
19068:     "@radix-ui/react-select": "^2.1.1",
19069:     "@radix-ui/react-separator": "^1.1.0",
19070:     "@radix-ui/react-slider": "^1.2.0",
19071:     "@radix-ui/react-slot": "^1.1.0",
19072:     "@radix-ui/react-switch": "^1.1.0",
19073:     "@radix-ui/react-tabs": "^1.1.0",
19074:     "@radix-ui/react-toast": "^1.2.1",
19075:     "@radix-ui/react-toggle": "^1.1.0",
19076:     "@radix-ui/react-toggle-group": "^1.1.0",
19077:     "@radix-ui/react-tooltip": "^1.1.2",
19078:     "@types/node": "20.6.2",
19079:     "@types/react": "18.2.22",
19080:     "@types/react-dom": "18.2.7",
19081:     "autoprefixer": "10.4.15",
19082:     "bcryptjs": "^2.4.3",
19083:     "class-variance-authority": "^0.7.0",
19084:     "clsx": "^2.1.1",
19085:     "cmdk": "^1.0.0",
19086:     "date-fns": "^3.6.0",
19087:     "embla-carousel-react": "^8.3.0",
19088:     "eslint": "8.49.0",
19089:     "eslint-config-next": "13.5.1",
19090:     "input-otp": "^1.2.4",
19091:     "jose": "^5.2.2",
19092:     "lucide-react": "^0.446.0",
19093:     "next": "13.5.1",
19094:     "next-themes": "^0.3.0",
19095:     "postcss": "8.4.30",
19096:     "react": "18.2.0",
19097:     "react-day-picker": "^8.10.1",
19098:     "react-dom": "18.2.0",
19099:     "react-hook-form": "^7.53.0",
19100:     "react-resizable-panels": "^2.1.3",
19101:     "recharts": "^2.12.7",
19102:     "sonner": "^1.5.0",
19103:     "tailwind-merge": "^2.5.2",
19104:     "tailwindcss": "3.3.3",
19105:     "tailwindcss-animate": "^1.0.7",
19106:     "typescript": "5.2.2",
19107:     "vaul": "^0.9.9",
19108:     "zod": "^3.23.8"
19109:   },
19110:   "devDependencies": {
19111:     "@types/bcryptjs": "^2.4.6",
19112:     "prisma": "^5.10.2",
19113:     "ts-node": "^10.9.2"
19114:   },
19115:   "prisma": {
19116:     "schema": "prisma/schema.prisma"
19117:   }
19118: }
19119: ```
19120: 
19121: ## postcss.config.js
19122: 
19123: - Characters: 82
19124: - Tokens: 0
19125: 
19126: ```javascript
19127: module.exports = {
19128:   plugins: {
19129:     tailwindcss: {},
19130:     autoprefixer: {},
19131:   },
19132: };
19133: ```
19134: 
19135: ## prisma\schema.prisma
19136: 
19137: - Characters: 10403
19138: - Tokens: 0
19139: 
19140: ```text
19141: // This is your Prisma schema file,
19142: // learn more about it in the docs: https://pris.ly/d/prisma-schema
19143: 
19144: generator client {
19145:   provider = "prisma-client-js"
19146: }
19147: 
19148: datasource db {
19149:   provider = "postgresql"
19150:   url      = env("DATABASE_URL")
19151: }
19152: 
19153: enum UserRole {
19154:   ROOT
19155:   ADMIN
19156:   MANAGER
19157:   STAFF
19158: }
19159: 
19160: model User {
19161:   id             String   @id @default(uuid())
19162:   name           String
19163:   email          String   @unique
19164:   hashedPassword String
19165:   role           UserRole @default(STAFF)
19166:   createdAt      DateTime @default(now())
19167:   updatedAt      DateTime @updatedAt
19168: 
19169:   // Relations
19170:   createdProducts      Product[]        @relation("CreatedBy")
19171:   updatedProducts      Product[]        @relation("UpdatedBy")
19172:   createdSuppliers     Supplier[]       @relation("SupplierCreatedBy")
19173:   updatedSuppliers     Supplier[]       @relation("SupplierUpdatedBy")
19174:   createdWarehouses    Warehouse[]      @relation("WarehouseCreatedBy")
19175:   updatedWarehouses    Warehouse[]      @relation("WarehouseUpdatedBy")
19176:   createdPurchases     PurchaseOrder[]  @relation("PurchaseCreatedBy")
19177:   updatedPurchases     PurchaseOrder[]  @relation("PurchaseUpdatedBy")
19178:   createdTransfers     TransferOrder[]  @relation("TransferCreatedBy")
19179:   updatedTransfers     TransferOrder[]  @relation("TransferUpdatedBy")
19180:   createdSales         SalesOrder[]     @relation("SalesCreatedBy")
19181:   updatedSales         SalesOrder[]     @relation("SalesUpdatedBy")
19182:   createdInventoryAudit InventoryAudit[] @relation("AuditCreatedBy")
19183:   updatedInventoryAudit InventoryAudit[] @relation("AuditUpdatedBy")
19184: }
19185: 
19186: model Category {
19187:   id          String    @id @default(uuid())
19188:   name        String    @unique
19189:   description String?
19190:   createdAt   DateTime  @default(now())
19191:   updatedAt   DateTime  @updatedAt
19192: 
19193:   // Relations
19194:   products    Product[]
19195: }
19196: 
19197: model Product {
19198:   id              String    @id @default(uuid())
19199:   sku             String    @unique
19200:   name            String
19201:   description     String?
19202:   costPrice       Float?    // Can be null initially
19203:   sellingPrice    Float
19204:   safetyStock     Int       @default(0)
19205:   categoryId      String
19206:   createdById     String
19207:   updatedById     String
19208:   createdAt       DateTime  @default(now())
19209:   updatedAt       DateTime  @updatedAt
19210: 
19211:   // Relations
19212:   category        Category  @relation(fields: [categoryId], references: [id])
19213:   createdBy       User      @relation("CreatedBy", fields: [createdById], references: [id])
19214:   updatedBy       User      @relation("UpdatedBy", fields: [updatedById], references: [id])
19215:   inventoryItems  InventoryItem[]
19216:   purchaseItems   PurchaseItem[]
19217:   salesItems      SalesItem[]
19218:   transferItems   TransferItem[]
19219:   auditItems      AuditItem[]
19220: 
19221:   @@index([categoryId])
19222:   @@index([createdById])
19223:   @@index([updatedById])
19224: }
19225: 
19226: model Supplier {
19227:   id          String    @id @default(uuid())
19228:   name        String
19229:   contactName String?
19230:   email       String?
19231:   phone       String?
19232:   address     String?
19233:   createdById String
19234:   updatedById String
19235:   createdAt   DateTime  @default(now())
19236:   updatedAt   DateTime  @updatedAt
19237: 
19238:   // Relations
19239:   createdBy       User            @relation("SupplierCreatedBy", fields: [createdById], references: [id])
19240:   updatedBy       User            @relation("SupplierUpdatedBy", fields: [updatedById], references: [id])
19241:   purchaseOrders  PurchaseOrder[]
19242: 
19243:   @@index([createdById])
19244:   @@index([updatedById])
19245: }
19246: 
19247: model Warehouse {
19248:   id          String    @id @default(uuid())
19249:   name        String
19250:   location    String?
19251:   description String?
19252:   createdById String
19253:   updatedById String
19254:   createdAt   DateTime  @default(now())
19255:   updatedAt   DateTime  @updatedAt
19256: 
19257:   // Relations
19258:   createdBy           User            @relation("WarehouseCreatedBy", fields: [createdById], references: [id])
19259:   updatedBy           User            @relation("WarehouseUpdatedBy", fields: [updatedById], references: [id])
19260:   inventoryItems      InventoryItem[]
19261:   sourcedTransfers    TransferOrder[] @relation("SourceWarehouse")
19262:   destinationTransfers TransferOrder[] @relation("DestinationWarehouse")
19263:   salesOrders         SalesOrder[]
19264:   inventoryAudits     InventoryAudit[]
19265: 
19266:   @@index([createdById])
19267:   @@index([updatedById])
19268: }
19269: 
19270: model InventoryItem {
19271:   id          String    @id @default(uuid())
19272:   productId   String
19273:   warehouseId String
19274:   quantity    Int
19275:   createdAt   DateTime  @default(now())
19276:   updatedAt   DateTime  @updatedAt
19277: 
19278:   // Relations
19279:   product     Product   @relation(fields: [productId], references: [id])
19280:   warehouse   Warehouse @relation(fields: [warehouseId], references: [id])
19281: 
19282:   @@unique([productId, warehouseId])
19283:   @@index([productId])
19284:   @@index([warehouseId])
19285: }
19286: 
19287: enum PurchaseStatus {
19288:   DRAFT
19289:   ORDERED
19290:   RECEIVED
19291:   CANCELLED
19292: }
19293: 
19294: model PurchaseOrder {
19295:   id          String         @id @default(uuid())
19296:   orderNumber String         @unique
19297:   supplierId  String
19298:   status      PurchaseStatus @default(DRAFT)
19299:   orderDate   DateTime       @default(now())
19300:   deliveryDate DateTime?
19301:   notes       String?
19302:   createdById String
19303:   updatedById String
19304:   createdAt   DateTime       @default(now())
19305:   updatedAt   DateTime       @updatedAt
19306: 
19307:   // Relations
19308:   supplier    Supplier       @relation(fields: [supplierId], references: [id])
19309:   createdBy   User           @relation("PurchaseCreatedBy", fields: [createdById], references: [id])
19310:   updatedBy   User           @relation("PurchaseUpdatedBy", fields: [updatedById], references: [id])
19311:   items       PurchaseItem[]
19312: 
19313:   @@index([supplierId])
19314:   @@index([createdById])
19315:   @@index([updatedById])
19316: }
19317: 
19318: model PurchaseItem {
19319:   id             String        @id @default(uuid())
19320:   purchaseOrderId String
19321:   productId      String
19322:   quantity       Int
19323:   unitPrice      Float
19324:   receivedQuantity Int          @default(0)
19325:   createdAt      DateTime      @default(now())
19326:   updatedAt      DateTime      @updatedAt
19327: 
19328:   // Relations
19329:   purchaseOrder  PurchaseOrder @relation(fields: [purchaseOrderId], references: [id], onDelete: Cascade)
19330:   product        Product       @relation(fields: [productId], references: [id])
19331: 
19332:   @@index([purchaseOrderId])
19333:   @@index([productId])
19334: }
19335: 
19336: enum TransferStatus {
19337:   DRAFT
19338:   PENDING
19339:   COMPLETED
19340:   CANCELLED
19341: }
19342: 
19343: model TransferOrder {
19344:   id                String         @id @default(uuid())
19345:   transferNumber    String         @unique
19346:   sourceWarehouseId String
19347:   destWarehouseId   String
19348:   status            TransferStatus @default(DRAFT)
19349:   transferDate      DateTime       @default(now())
19350:   notes             String?
19351:   createdById       String
19352:   updatedById       String
19353:   createdAt         DateTime       @default(now())
19354:   updatedAt         DateTime       @updatedAt
19355: 
19356:   // Relations
19357:   sourceWarehouse   Warehouse      @relation("SourceWarehouse", fields: [sourceWarehouseId], references: [id])
19358:   destinationWarehouse Warehouse   @relation("DestinationWarehouse", fields: [destWarehouseId], references: [id])
19359:   createdBy         User           @relation("TransferCreatedBy", fields: [createdById], references: [id])
19360:   updatedBy         User           @relation("TransferUpdatedBy", fields: [updatedById], references: [id])
19361:   items             TransferItem[]
19362: 
19363:   @@index([sourceWarehouseId])
19364:   @@index([destWarehouseId])
19365:   @@index([createdById])
19366:   @@index([updatedById])
19367: }
19368: 
19369: model TransferItem {
19370:   id              String        @id @default(uuid())
19371:   transferOrderId String
19372:   productId       String
19373:   quantity        Int
19374:   createdAt       DateTime      @default(now())
19375:   updatedAt       DateTime      @updatedAt
19376: 
19377:   // Relations
19378:   transferOrder   TransferOrder @relation(fields: [transferOrderId], references: [id], onDelete: Cascade)
19379:   product         Product       @relation(fields: [productId], references: [id])
19380: 
19381:   @@index([transferOrderId])
19382:   @@index([productId])
19383: }
19384: 
19385: enum SalesStatus {
19386:   DRAFT
19387:   COMPLETED
19388:   CANCELLED
19389: }
19390: 
19391: model SalesOrder {
19392:   id              String      @id @default(uuid())
19393:   salesNumber     String      @unique
19394:   warehouseId     String
19395:   status          SalesStatus @default(DRAFT)
19396:   salesDate       DateTime    @default(now())
19397:   customerName    String?
19398:   customerContact String?
19399:   notes           String?
19400:   totalAmount     Float
19401:   createdById     String
19402:   updatedById     String
19403:   createdAt       DateTime    @default(now())
19404:   updatedAt       DateTime    @updatedAt
19405: 
19406:   // Relations
19407:   warehouse       Warehouse   @relation(fields: [warehouseId], references: [id])
19408:   createdBy       User        @relation("SalesCreatedBy", fields: [createdById], references: [id])
19409:   updatedBy       User        @relation("SalesUpdatedBy", fields: [updatedById], references: [id])
19410:   items           SalesItem[]
19411: 
19412:   @@index([warehouseId])
19413:   @@index([createdById])
19414:   @@index([updatedById])
19415: }
19416: 
19417: model SalesItem {
19418:   id            String      @id @default(uuid())
19419:   salesOrderId  String
19420:   productId     String
19421:   quantity      Int
19422:   unitPrice     Float
19423:   createdAt     DateTime    @default(now())
19424:   updatedAt     DateTime    @updatedAt
19425: 
19426:   // Relations
19427:   salesOrder    SalesOrder  @relation(fields: [salesOrderId], references: [id], onDelete: Cascade)
19428:   product       Product     @relation(fields: [productId], references: [id])
19429: 
19430:   @@index([salesOrderId])
19431:   @@index([productId])
19432: }
19433: 
19434: enum AuditStatus {
19435:   DRAFT
19436:   IN_PROGRESS
19437:   COMPLETED
19438: }
19439: 
19440: model InventoryAudit {
19441:   id            String      @id @default(uuid())
19442:   auditNumber   String      @unique
19443:   warehouseId   String
19444:   status        AuditStatus @default(DRAFT)
19445:   auditDate     DateTime    @default(now())
19446:   notes         String?
19447:   createdById   String
19448:   updatedById   String
19449:   createdAt     DateTime    @default(now())
19450:   updatedAt     DateTime    @updatedAt
19451: 
19452:   // Relations
19453:   warehouse     Warehouse   @relation(fields: [warehouseId], references: [id])
19454:   createdBy     User        @relation("AuditCreatedBy", fields: [createdById], references: [id])
19455:   updatedBy     User        @relation("AuditUpdatedBy", fields: [updatedById], references: [id])
19456:   items         AuditItem[]
19457: 
19458:   @@index([warehouseId])
19459:   @@index([createdById])
19460:   @@index([updatedById])
19461: }
19462: 
19463: model AuditItem {
19464:   id              String        @id @default(uuid())
19465:   inventoryAuditId String
19466:   productId       String
19467:   systemQuantity  Int
19468:   actualQuantity  Int
19469:   discrepancy     Int
19470:   notes           String?
19471:   createdAt       DateTime      @default(now())
19472:   updatedAt       DateTime      @updatedAt
19473: 
19474:   // Relations
19475:   inventoryAudit  InventoryAudit @relation(fields: [inventoryAuditId], references: [id], onDelete: Cascade)
19476:   product         Product       @relation(fields: [productId], references: [id])
19477: 
19478:   @@index([inventoryAuditId])
19479:   @@index([productId])
19480: }
19481: ```
19482: 
19483: ## README.md
19484: 
19485: - Characters: 2881
19486: - Tokens: 0
19487: 
19488: ````markdown
19489: # Fashion Retail Inventory Management System
19490: 
19491: A comprehensive inventory management system for fashion retail businesses, built with Next.js, Prisma, PostgreSQL, and TypeScript.
19492: 
19493: ## Features
19494: 
19495: 1. **User Management**
19496:    - Four role levels: ROOT, ADMIN, MANAGER, STAFF
19497:    - Role-based access control
19498:    - JWT authentication
19499: 
19500: 2. **Product Management**
19501:    - Product categories
19502:    - Safety stock levels
19503:    - Cost tracking
19504: 
19505: 3. **Supplier Management**
19506:    - Supplier details and contacts
19507:    - Purchase order history
19508: 
19509: 4. **Warehouse Management**
19510:    - Multiple warehouse support
19511:    - Inventory tracking by location
19512: 
19513: 5. **Purchase Management**
19514:    - Create purchase orders
19515:    - Receive inventory
19516:    - Automatic cost price updates (weighted average)
19517: 
19518: 6. **Inventory Transfer**
19519:    - Move inventory between warehouses
19520:    - Transfer tracking
19521: 
19522: 7. **Sales Management**
19523:    - Create sales orders
19524:    - Automatic inventory reduction
19525:    - Stock availability checks
19526: 
19527: 8. **Inventory Audit**
19528:    - Record physical counts
19529:    - Track discrepancies
19530:    - Adjust system quantities
19531: 
19532: 9. **Reporting**
19533:    - Sales reports
19534:    - Inventory reports
19535:    - Purchase reports
19536:    - Profit & loss analysis
19537: 
19538: ## Tech Stack
19539: 
19540: - **Frontend**: Next.js, React, TypeScript, TailwindCSS, shadcn/ui
19541: - **Backend**: Next.js API Routes
19542: - **Database**: PostgreSQL with Prisma ORM
19543: - **Authentication**: JWT
19544: - **Charts**: Recharts
19545: 
19546: ## Getting Started
19547: 
19548: ### Prerequisites
19549: 
19550: - Node.js (v16+)
19551: - PostgreSQL database
19552: 
19553: ### Installation
19554: 
19555: 1. Clone the repository
19556: 2. Install dependencies:
19557:    ```bash
19558:    npm install
19559:    ```
19560: 3. Set up environment variables:
19561:    - Copy `.env.example` to `.env`
19562:    - Update the database connection string
19563: 
19564: 4. Run database migrations:
19565:    ```bash
19566:    npx prisma migrate dev
19567:    ```
19568: 
19569: 5. Seed the database:
19570:    ```bash
19571:    npm run seed
19572:    ```
19573: 
19574: 6. Start the development server:
19575:    ```bash
19576:    npm run dev
19577:    ```
19578: 
19579: ### Default Users
19580: 
19581: After seeding, the following users are available:
19582: 
19583: - **Root Admin**: admin@example.com / password123
19584: - **Admin**: admin2@example.com / password123
19585: - **Manager**: manager@example.com / password123
19586: - **Staff**: staff@example.com / password123
19587: 
19588: ## Project Structure
19589: 
19590: - `/app` - Next.js app router pages and API routes
19591: - `/components` - Reusable React components
19592: - `/lib` - Utility functions and shared code
19593: - `/prisma` - Prisma schema and migrations
19594: - `/scripts` - Utility scripts (e.g., database seeding)
19595: 
19596: ## Business Flow
19597: 
19598: 1. Create product data (initially without cost price)
19599: 2. Create supplier data
19600: 3. Create warehouse data
19601: 4. Create purchase orders (select products, quantities, unit prices)
19602: 5. Receive purchase orders (updates product cost prices using weighted average)
19603: 6. Transfer inventory between warehouses
19604: 7. Perform inventory audits to reconcile physical and system quantities
19605: 8. Create sales orders (checks inventory and reduces stock)
19606: 
19607: ## License
19608: 
19609: This project is licensed under the MIT License.
19610: ````
19611: 
19612: ## tailwind.config.ts
19613: 
19614: - Characters: 2567
19615: - Tokens: 0
19616: 
19617: ```typescript
19618: import type { Config } from 'tailwindcss';
19619: 
19620: const config: Config = {
19621:   darkMode: ['class'],
19622:   content: [
19623:     './pages/**/*.{js,ts,jsx,tsx,mdx}',
19624:     './components/**/*.{js,ts,jsx,tsx,mdx}',
19625:     './app/**/*.{js,ts,jsx,tsx,mdx}',
19626:   ],
19627:   theme: {
19628:     extend: {
19629:       backgroundImage: {
19630:         'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
19631:         'gradient-conic':
19632:           'conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops))',
19633:       },
19634:       borderRadius: {
19635:         lg: 'var(--radius)',
19636:         md: 'calc(var(--radius) - 2px)',
19637:         sm: 'calc(var(--radius) - 4px)',
19638:       },
19639:       colors: {
19640:         background: 'hsl(var(--background))',
19641:         foreground: 'hsl(var(--foreground))',
19642:         card: {
19643:           DEFAULT: 'hsl(var(--card))',
19644:           foreground: 'hsl(var(--card-foreground))',
19645:         },
19646:         popover: {
19647:           DEFAULT: 'hsl(var(--popover))',
19648:           foreground: 'hsl(var(--popover-foreground))',
19649:         },
19650:         primary: {
19651:           DEFAULT: 'hsl(var(--primary))',
19652:           foreground: 'hsl(var(--primary-foreground))',
19653:         },
19654:         secondary: {
19655:           DEFAULT: 'hsl(var(--secondary))',
19656:           foreground: 'hsl(var(--secondary-foreground))',
19657:         },
19658:         muted: {
19659:           DEFAULT: 'hsl(var(--muted))',
19660:           foreground: 'hsl(var(--muted-foreground))',
19661:         },
19662:         accent: {
19663:           DEFAULT: 'hsl(var(--accent))',
19664:           foreground: 'hsl(var(--accent-foreground))',
19665:         },
19666:         destructive: {
19667:           DEFAULT: 'hsl(var(--destructive))',
19668:           foreground: 'hsl(var(--destructive-foreground))',
19669:         },
19670:         border: 'hsl(var(--border))',
19671:         input: 'hsl(var(--input))',
19672:         ring: 'hsl(var(--ring))',
19673:         chart: {
19674:           '1': 'hsl(var(--chart-1))',
19675:           '2': 'hsl(var(--chart-2))',
19676:           '3': 'hsl(var(--chart-3))',
19677:           '4': 'hsl(var(--chart-4))',
19678:           '5': 'hsl(var(--chart-5))',
19679:         },
19680:       },
19681:       keyframes: {
19682:         'accordion-down': {
19683:           from: {
19684:             height: '0',
19685:           },
19686:           to: {
19687:             height: 'var(--radix-accordion-content-height)',
19688:           },
19689:         },
19690:         'accordion-up': {
19691:           from: {
19692:             height: 'var(--radix-accordion-content-height)',
19693:           },
19694:           to: {
19695:             height: '0',
19696:           },
19697:         },
19698:       },
19699:       animation: {
19700:         'accordion-down': 'accordion-down 0.2s ease-out',
19701:         'accordion-up': 'accordion-up 0.2s ease-out',
19702:       },
19703:     },
19704:   },
19705:   plugins: [require('tailwindcss-animate')],
19706: };
19707: export default config;
19708: ```
19709: 
19710: ## tsconfig.json
19711: 
19712: - Characters: 594
19713: - Tokens: 0
19714: 
19715: ```json
19716: {
19717:   "compilerOptions": {
19718:     "target": "es5",
19719:     "lib": ["dom", "dom.iterable", "esnext"],
19720:     "allowJs": true,
19721:     "skipLibCheck": true,
19722:     "strict": true,
19723:     "noEmit": true,
19724:     "esModuleInterop": true,
19725:     "module": "esnext",
19726:     "moduleResolution": "bundler",
19727:     "resolveJsonModule": true,
19728:     "isolatedModules": true,
19729:     "jsx": "preserve",
19730:     "incremental": true,
19731:     "plugins": [
19732:       {
19733:         "name": "next"
19734:       }
19735:     ],
19736:     "paths": {
19737:       "@/*": ["./*"]
19738:     }
19739:   },
19740:   "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
19741:   "exclude": ["node_modules"]
19742: }
19743: ```
19744: 
19745: ## Statistics
19746: 
19747: - Total Files: 124
19748: - Total Characters: 600297
19749: - Total Tokens: 0
`````

## tailwind.config.ts

- Characters: 2927
- Tokens: 0

```typescript
 1: import type { Config } from 'tailwindcss';
 2: 
 3: const config: Config = {
 4:   darkMode: ['class'],
 5:   content: [
 6:     './pages/**/*.{js,ts,jsx,tsx,mdx}',
 7:     './components/**/*.{js,ts,jsx,tsx,mdx}',
 8:     './app/**/*.{js,ts,jsx,tsx,mdx}',
 9:   ],
10:   theme: {
11:     extend: {
12:       backgroundImage: {
13:         'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
14:         'gradient-conic':
15:           'conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops))',
16:       },
17:       borderRadius: {
18:         lg: 'var(--radius)',
19:         md: 'calc(var(--radius) - 2px)',
20:         sm: 'calc(var(--radius) - 4px)',
21:       },
22:       colors: {
23:         background: 'hsl(var(--background))',
24:         foreground: 'hsl(var(--foreground))',
25:         card: {
26:           DEFAULT: 'hsl(var(--card))',
27:           foreground: 'hsl(var(--card-foreground))',
28:         },
29:         popover: {
30:           DEFAULT: 'hsl(var(--popover))',
31:           foreground: 'hsl(var(--popover-foreground))',
32:         },
33:         primary: {
34:           DEFAULT: 'hsl(var(--primary))',
35:           foreground: 'hsl(var(--primary-foreground))',
36:         },
37:         secondary: {
38:           DEFAULT: 'hsl(var(--secondary))',
39:           foreground: 'hsl(var(--secondary-foreground))',
40:         },
41:         muted: {
42:           DEFAULT: 'hsl(var(--muted))',
43:           foreground: 'hsl(var(--muted-foreground))',
44:         },
45:         accent: {
46:           DEFAULT: 'hsl(var(--accent))',
47:           foreground: 'hsl(var(--accent-foreground))',
48:         },
49:         destructive: {
50:           DEFAULT: 'hsl(var(--destructive))',
51:           foreground: 'hsl(var(--destructive-foreground))',
52:         },
53:         border: 'hsl(var(--border))',
54:         input: 'hsl(var(--input))',
55:         ring: 'hsl(var(--ring))',
56:         chart: {
57:           '1': 'hsl(var(--chart-1))',
58:           '2': 'hsl(var(--chart-2))',
59:           '3': 'hsl(var(--chart-3))',
60:           '4': 'hsl(var(--chart-4))',
61:           '5': 'hsl(var(--chart-5))',
62:         },
63:       },
64:       keyframes: {
65:         'accordion-down': {
66:           from: {
67:             height: '0',
68:           },
69:           to: {
70:             height: 'var(--radix-accordion-content-height)',
71:           },
72:         },
73:         'accordion-up': {
74:           from: {
75:             height: 'var(--radix-accordion-content-height)',
76:           },
77:           to: {
78:             height: '0',
79:           },
80:         },
81:       },
82:       animation: {
83:         'accordion-down': 'accordion-down 0.2s ease-out',
84:         'accordion-up': 'accordion-up 0.2s ease-out',
85:       },
86:     },
87:   },
88:   plugins: [require('tailwindcss-animate')],
89: };
90: export default config;
```

## tsconfig.json

- Characters: 702
- Tokens: 0

```json
 1: {
 2:   "compilerOptions": {
 3:     "target": "es5",
 4:     "lib": ["dom", "dom.iterable", "esnext"],
 5:     "allowJs": true,
 6:     "skipLibCheck": true,
 7:     "strict": true,
 8:     "noEmit": true,
 9:     "esModuleInterop": true,
10:     "module": "esnext",
11:     "moduleResolution": "bundler",
12:     "resolveJsonModule": true,
13:     "isolatedModules": true,
14:     "jsx": "preserve",
15:     "incremental": true,
16:     "plugins": [
17:       {
18:         "name": "next"
19:       }
20:     ],
21:     "paths": {
22:       "@/*": ["./*"]
23:     }
24:   },
25:   "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
26:   "exclude": ["node_modules"]
27: }
```

## Statistics

- Total Files: 125
- Total Characters: 1426374
- Total Tokens: 0
